var Y2=Object.defineProperty;var dS=n=>{throw TypeError(n)};var K2=(n,e,t)=>e in n?Y2(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var B=(n,e,t)=>K2(n,typeof e!="symbol"?e+"":e,t),Z0=(n,e,t)=>e.has(n)||dS("Cannot "+t);var l=(n,e,t)=>(Z0(n,e,"read from private field"),t?t.call(n):e.get(n)),S=(n,e,t)=>e.has(n)?dS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),g=(n,e,t,i)=>(Z0(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t),A=(n,e,t)=>(Z0(n,e,"access private method"),t);var Lt=(n,e,t,i)=>({set _(r){g(n,e,r,t)},get _(){return l(n,e,i)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=t(r);fetch(r.href,s)}})();var hy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kb(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ak={exports:{}},g0={},lk={exports:{}},we={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wm=Symbol.for("react.element"),Q2=Symbol.for("react.portal"),J2=Symbol.for("react.fragment"),Z2=Symbol.for("react.strict_mode"),eR=Symbol.for("react.profiler"),tR=Symbol.for("react.provider"),nR=Symbol.for("react.context"),iR=Symbol.for("react.forward_ref"),rR=Symbol.for("react.suspense"),sR=Symbol.for("react.memo"),oR=Symbol.for("react.lazy"),fS=Symbol.iterator;function aR(n){return n===null||typeof n!="object"?null:(n=fS&&n[fS]||n["@@iterator"],typeof n=="function"?n:null)}var uk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ck=Object.assign,hk={};function td(n,e,t){this.props=n,this.context=e,this.refs=hk,this.updater=t||uk}td.prototype.isReactComponent={};td.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};td.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function dk(){}dk.prototype=td.prototype;function Cb(n,e,t){this.props=n,this.context=e,this.refs=hk,this.updater=t||uk}var _b=Cb.prototype=new dk;_b.constructor=Cb;ck(_b,td.prototype);_b.isPureReactComponent=!0;var pS=Array.isArray,fk=Object.prototype.hasOwnProperty,Tb={current:null},pk={key:!0,ref:!0,__self:!0,__source:!0};function mk(n,e,t){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)fk.call(e,i)&&!pk.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=t;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];r.children=u}if(n&&n.defaultProps)for(i in a=n.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:wm,type:n,key:s,ref:o,props:r,_owner:Tb.current}}function lR(n,e){return{$$typeof:wm,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Pb(n){return typeof n=="object"&&n!==null&&n.$$typeof===wm}function uR(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var mS=/\/+/g;function ev(n,e){return typeof n=="object"&&n!==null&&n.key!=null?uR(""+n.key):e.toString(36)}function gg(n,e,t,i,r){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case wm:case Q2:o=!0}}if(o)return o=n,r=r(o),n=i===""?"."+ev(o,0):i,pS(r)?(t="",n!=null&&(t=n.replace(mS,"$&/")+"/"),gg(r,e,t,"",function(c){return c})):r!=null&&(Pb(r)&&(r=lR(r,t+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(mS,"$&/")+"/")+n)),e.push(r)),1;if(o=0,i=i===""?".":i+":",pS(n))for(var a=0;a<n.length;a++){s=n[a];var u=i+ev(s,a);o+=gg(s,e,t,u,r)}else if(u=aR(n),typeof u=="function")for(n=u.call(n),a=0;!(s=n.next()).done;)s=s.value,u=i+ev(s,a++),o+=gg(s,e,t,u,r);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Bm(n,e,t){if(n==null)return n;var i=[],r=0;return gg(n,i,"","",function(s){return e.call(t,s,r++)}),i}function cR(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Fn={current:null},yg={transition:null},hR={ReactCurrentDispatcher:Fn,ReactCurrentBatchConfig:yg,ReactCurrentOwner:Tb};function gk(){throw Error("act(...) is not supported in production builds of React.")}we.Children={map:Bm,forEach:function(n,e,t){Bm(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return Bm(n,function(){e++}),e},toArray:function(n){return Bm(n,function(e){return e})||[]},only:function(n){if(!Pb(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};we.Component=td;we.Fragment=J2;we.Profiler=eR;we.PureComponent=Cb;we.StrictMode=Z2;we.Suspense=rR;we.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hR;we.act=gk;we.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var i=ck({},n.props),r=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tb.current),e.key!==void 0&&(r=""+e.key),n.type&&n.type.defaultProps)var a=n.type.defaultProps;for(u in e)fk.call(e,u)&&!pk.hasOwnProperty(u)&&(i[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];i.children=a}return{$$typeof:wm,type:n.type,key:r,ref:s,props:i,_owner:o}};we.createContext=function(n){return n={$$typeof:nR,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:tR,_context:n},n.Consumer=n};we.createElement=mk;we.createFactory=function(n){var e=mk.bind(null,n);return e.type=n,e};we.createRef=function(){return{current:null}};we.forwardRef=function(n){return{$$typeof:iR,render:n}};we.isValidElement=Pb;we.lazy=function(n){return{$$typeof:oR,_payload:{_status:-1,_result:n},_init:cR}};we.memo=function(n,e){return{$$typeof:sR,type:n,compare:e===void 0?null:e}};we.startTransition=function(n){var e=yg.transition;yg.transition={};try{n()}finally{yg.transition=e}};we.unstable_act=gk;we.useCallback=function(n,e){return Fn.current.useCallback(n,e)};we.useContext=function(n){return Fn.current.useContext(n)};we.useDebugValue=function(){};we.useDeferredValue=function(n){return Fn.current.useDeferredValue(n)};we.useEffect=function(n,e){return Fn.current.useEffect(n,e)};we.useId=function(){return Fn.current.useId()};we.useImperativeHandle=function(n,e,t){return Fn.current.useImperativeHandle(n,e,t)};we.useInsertionEffect=function(n,e){return Fn.current.useInsertionEffect(n,e)};we.useLayoutEffect=function(n,e){return Fn.current.useLayoutEffect(n,e)};we.useMemo=function(n,e){return Fn.current.useMemo(n,e)};we.useReducer=function(n,e,t){return Fn.current.useReducer(n,e,t)};we.useRef=function(n){return Fn.current.useRef(n)};we.useState=function(n){return Fn.current.useState(n)};we.useSyncExternalStore=function(n,e,t){return Fn.current.useSyncExternalStore(n,e,t)};we.useTransition=function(){return Fn.current.useTransition()};we.version="18.3.1";lk.exports=we;var N=lk.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dR=N,fR=Symbol.for("react.element"),pR=Symbol.for("react.fragment"),mR=Object.prototype.hasOwnProperty,gR=dR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,yR={key:!0,ref:!0,__self:!0,__source:!0};function yk(n,e,t){var i,r={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)mR.call(e,i)&&!yR.hasOwnProperty(i)&&(r[i]=e[i]);if(n&&n.defaultProps)for(i in e=n.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:fR,type:n,key:s,ref:o,props:r,_owner:gR.current}}g0.Fragment=pR;g0.jsx=yk;g0.jsxs=yk;ak.exports=g0;var w=ak.exports,vk={exports:{}},Mi={},xk={exports:{}},wk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(O,q){var T=O.length;O.push(q);e:for(;0<T;){var se=T-1>>>1,te=O[se];if(0<r(te,q))O[se]=q,O[T]=te,T=se;else break e}}function t(O){return O.length===0?null:O[0]}function i(O){if(O.length===0)return null;var q=O[0],T=O.pop();if(T!==q){O[0]=T;e:for(var se=0,te=O.length,R=te>>>1;se<R;){var ve=2*(se+1)-1,Re=O[ve],de=ve+1,ye=O[de];if(0>r(Re,T))de<te&&0>r(ye,Re)?(O[se]=ye,O[de]=T,se=de):(O[se]=Re,O[ve]=T,se=ve);else if(de<te&&0>r(ye,T))O[se]=ye,O[de]=T,se=de;else break e}}return q}function r(O,q){var T=O.sortIndex-q.sortIndex;return T!==0?T:O.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();n.unstable_now=function(){return o.now()-a}}var u=[],c=[],h=1,d=null,f=3,p=!1,v=!1,y=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var q=t(c);q!==null;){if(q.callback===null)i(c);else if(q.startTime<=O)i(c),q.sortIndex=q.expirationTime,e(u,q);else break;q=t(c)}}function k(O){if(y=!1,x(O),!v)if(t(u)!==null)v=!0,U(_);else{var q=t(c);q!==null&&$(k,q.startTime-O)}}function _(O,q){v=!1,y&&(y=!1,m(L),L=-1),p=!0;var T=f;try{for(x(q),d=t(u);d!==null&&(!(d.expirationTime>q)||O&&!I());){var se=d.callback;if(typeof se=="function"){d.callback=null,f=d.priorityLevel;var te=se(d.expirationTime<=q);q=n.unstable_now(),typeof te=="function"?d.callback=te:d===t(u)&&i(u),x(q)}else i(u);d=t(u)}if(d!==null)var R=!0;else{var ve=t(c);ve!==null&&$(k,ve.startTime-q),R=!1}return R}finally{d=null,f=T,p=!1}}var C=!1,P=null,L=-1,D=5,M=-1;function I(){return!(n.unstable_now()-M<D)}function F(){if(P!==null){var O=n.unstable_now();M=O;var q=!0;try{q=P(!0,O)}finally{q?W():(C=!1,P=null)}}else C=!1}var W;if(typeof b=="function")W=function(){b(F)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,G=z.port2;z.port1.onmessage=F,W=function(){G.postMessage(null)}}else W=function(){E(F,0)};function U(O){P=O,C||(C=!0,W())}function $(O,q){L=E(function(){O(n.unstable_now())},q)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(O){O.callback=null},n.unstable_continueExecution=function(){v||p||(v=!0,U(_))},n.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<O?Math.floor(1e3/O):5},n.unstable_getCurrentPriorityLevel=function(){return f},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(O){switch(f){case 1:case 2:case 3:var q=3;break;default:q=f}var T=f;f=q;try{return O()}finally{f=T}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(O,q){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var T=f;f=O;try{return q()}finally{f=T}},n.unstable_scheduleCallback=function(O,q,T){var se=n.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?se+T:se):T=se,O){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=T+te,O={id:h++,callback:q,priorityLevel:O,startTime:T,expirationTime:te,sortIndex:-1},T>se?(O.sortIndex=T,e(c,O),t(u)===null&&O===t(c)&&(y?(m(L),L=-1):y=!0,$(k,T-se))):(O.sortIndex=te,e(u,O),v||p||(v=!0,U(_))),O},n.unstable_shouldYield=I,n.unstable_wrapCallback=function(O){var q=f;return function(){var T=f;f=q;try{return O.apply(this,arguments)}finally{f=T}}}})(wk);xk.exports=wk;var vR=xk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xR=N,Ni=vR;function H(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bk=new Set,ff={};function Cu(n,e){Wh(n,e),Wh(n+"Capture",e)}function Wh(n,e){for(ff[n]=e,n=0;n<e.length;n++)bk.add(e[n])}var ho=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Xv=Object.prototype.hasOwnProperty,wR=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,gS={},yS={};function bR(n){return Xv.call(yS,n)?!0:Xv.call(gS,n)?!1:wR.test(n)?yS[n]=!0:(gS[n]=!0,!1)}function SR(n,e,t,i){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function AR(n,e,t,i){if(e===null||typeof e>"u"||SR(n,e,t,i))return!0;if(i)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function On(n,e,t,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var un={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){un[n]=new On(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];un[e]=new On(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){un[n]=new On(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){un[n]=new On(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){un[n]=new On(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){un[n]=new On(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){un[n]=new On(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){un[n]=new On(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){un[n]=new On(n,5,!1,n.toLowerCase(),null,!1,!1)});var Rb=/[\-:]([a-z])/g;function Nb(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Rb,Nb);un[e]=new On(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Rb,Nb);un[e]=new On(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Rb,Nb);un[e]=new On(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){un[n]=new On(n,1,!1,n.toLowerCase(),null,!1,!1)});un.xlinkHref=new On("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){un[n]=new On(n,1,!1,n.toLowerCase(),null,!0,!0)});function Lb(n,e,t,i){var r=un.hasOwnProperty(e)?un[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AR(e,t,r,i)&&(t=null),i||r===null?bR(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):r.mustUseProperty?n[r.propertyName]=t===null?r.type===3?!1:"":t:(e=r.attributeName,i=r.attributeNamespace,t===null?n.removeAttribute(e):(r=r.type,t=r===3||r===4&&t===!0?"":""+t,i?n.setAttributeNS(i,e,t):n.setAttribute(e,t))))}var bo=xR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zm=Symbol.for("react.element"),Wu=Symbol.for("react.portal"),Gu=Symbol.for("react.fragment"),Mb=Symbol.for("react.strict_mode"),Yv=Symbol.for("react.profiler"),Sk=Symbol.for("react.provider"),Ak=Symbol.for("react.context"),Db=Symbol.for("react.forward_ref"),Kv=Symbol.for("react.suspense"),Qv=Symbol.for("react.suspense_list"),Ib=Symbol.for("react.memo"),ko=Symbol.for("react.lazy"),Ek=Symbol.for("react.offscreen"),vS=Symbol.iterator;function fd(n){return n===null||typeof n!="object"?null:(n=vS&&n[vS]||n["@@iterator"],typeof n=="function"?n:null)}var ft=Object.assign,tv;function Td(n){if(tv===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);tv=e&&e[1]||""}return`
`+tv+n}var nv=!1;function iv(n,e){if(!n||nv)return"";nv=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(n,[],e)}else{try{e.call()}catch(c){i=c}n.call(e.prototype)}else{try{throw Error()}catch(c){i=c}n()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var r=c.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var u=`
`+r[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=a);break}}}finally{nv=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?Td(n):""}function ER(n){switch(n.tag){case 5:return Td(n.type);case 16:return Td("Lazy");case 13:return Td("Suspense");case 19:return Td("SuspenseList");case 0:case 2:case 15:return n=iv(n.type,!1),n;case 11:return n=iv(n.type.render,!1),n;case 1:return n=iv(n.type,!0),n;default:return""}}function Jv(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Gu:return"Fragment";case Wu:return"Portal";case Yv:return"Profiler";case Mb:return"StrictMode";case Kv:return"Suspense";case Qv:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ak:return(n.displayName||"Context")+".Consumer";case Sk:return(n._context.displayName||"Context")+".Provider";case Db:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ib:return e=n.displayName||null,e!==null?e:Jv(n.type)||"Memo";case ko:e=n._payload,n=n._init;try{return Jv(n(e))}catch{}}return null}function kR(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Jv(e);case 8:return e===Mb?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ma(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function kk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CR(n){var e=kk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),i=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var r=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Um(n){n._valueTracker||(n._valueTracker=CR(n))}function Ck(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),i="";return n&&(i=kk(n)?n.checked?"true":"false":n.value),n=i,n!==t?(e.setValue(n),!0):!1}function dy(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Zv(n,e){var t=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function xS(n,e){var t=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;t=Ma(e.value!=null?e.value:t),n._wrapperState={initialChecked:i,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _k(n,e){e=e.checked,e!=null&&Lb(n,"checked",e,!1)}function ex(n,e){_k(n,e);var t=Ma(e.value),i=e.type;if(t!=null)i==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(i==="submit"||i==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?tx(n,e.type,t):e.hasOwnProperty("defaultValue")&&tx(n,e.type,Ma(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function wS(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function tx(n,e,t){(e!=="number"||dy(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var Pd=Array.isArray;function lc(n,e,t,i){if(n=n.options,e){e={};for(var r=0;r<t.length;r++)e["$"+t[r]]=!0;for(t=0;t<n.length;t++)r=e.hasOwnProperty("$"+n[t].value),n[t].selected!==r&&(n[t].selected=r),r&&i&&(n[t].defaultSelected=!0)}else{for(t=""+Ma(t),e=null,r=0;r<n.length;r++){if(n[r].value===t){n[r].selected=!0,i&&(n[r].defaultSelected=!0);return}e!==null||n[r].disabled||(e=n[r])}e!==null&&(e.selected=!0)}}function nx(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function bS(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(H(92));if(Pd(t)){if(1<t.length)throw Error(H(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:Ma(t)}}function Tk(n,e){var t=Ma(e.value),i=Ma(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),i!=null&&(n.defaultValue=""+i)}function SS(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Pk(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ix(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Pk(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Hm,Rk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,i,r){MSApp.execUnsafeLocalFunction(function(){return n(e,t,i,r)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Hm=Hm||document.createElement("div"),Hm.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Hm.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function pf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Zd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_R=["Webkit","ms","Moz","O"];Object.keys(Zd).forEach(function(n){_R.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Zd[e]=Zd[n]})});function Nk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Zd.hasOwnProperty(n)&&Zd[n]?(""+e).trim():e+"px"}function Lk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var i=t.indexOf("--")===0,r=Nk(t,e[t],i);t==="float"&&(t="cssFloat"),i?n.setProperty(t,r):n[t]=r}}var TR=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rx(n,e){if(e){if(TR[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function sx(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ox=null;function Fb(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var ax=null,uc=null,cc=null;function AS(n){if(n=Am(n)){if(typeof ax!="function")throw Error(H(280));var e=n.stateNode;e&&(e=b0(e),ax(n.stateNode,n.type,e))}}function Mk(n){uc?cc?cc.push(n):cc=[n]:uc=n}function Dk(){if(uc){var n=uc,e=cc;if(cc=uc=null,AS(n),e)for(n=0;n<e.length;n++)AS(e[n])}}function Ik(n,e){return n(e)}function Fk(){}var rv=!1;function Ok(n,e,t){if(rv)return n(e,t);rv=!0;try{return Ik(n,e,t)}finally{rv=!1,(uc!==null||cc!==null)&&(Fk(),Dk())}}function mf(n,e){var t=n.stateNode;if(t===null)return null;var i=b0(t);if(i===null)return null;t=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(n=n.type,i=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!i;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(H(231,e,typeof t));return t}var lx=!1;if(ho)try{var pd={};Object.defineProperty(pd,"passive",{get:function(){lx=!0}}),window.addEventListener("test",pd,pd),window.removeEventListener("test",pd,pd)}catch{lx=!1}function PR(n,e,t,i,r,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(t,c)}catch(h){this.onError(h)}}var ef=!1,fy=null,py=!1,ux=null,RR={onError:function(n){ef=!0,fy=n}};function NR(n,e,t,i,r,s,o,a,u){ef=!1,fy=null,PR.apply(RR,arguments)}function LR(n,e,t,i,r,s,o,a,u){if(NR.apply(this,arguments),ef){if(ef){var c=fy;ef=!1,fy=null}else throw Error(H(198));py||(py=!0,ux=c)}}function _u(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function jk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function ES(n){if(_u(n)!==n)throw Error(H(188))}function MR(n){var e=n.alternate;if(!e){if(e=_u(n),e===null)throw Error(H(188));return e!==n?null:n}for(var t=n,i=e;;){var r=t.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){t=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===t)return ES(r),n;if(s===i)return ES(r),e;s=s.sibling}throw Error(H(188))}if(t.return!==i.return)t=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===t){o=!0,t=r,i=s;break}if(a===i){o=!0,i=r,t=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===t){o=!0,t=s,i=r;break}if(a===i){o=!0,i=s,t=r;break}a=a.sibling}if(!o)throw Error(H(189))}}if(t.alternate!==i)throw Error(H(190))}if(t.tag!==3)throw Error(H(188));return t.stateNode.current===t?n:e}function Bk(n){return n=MR(n),n!==null?zk(n):null}function zk(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=zk(n);if(e!==null)return e;n=n.sibling}return null}var Uk=Ni.unstable_scheduleCallback,kS=Ni.unstable_cancelCallback,DR=Ni.unstable_shouldYield,IR=Ni.unstable_requestPaint,kt=Ni.unstable_now,FR=Ni.unstable_getCurrentPriorityLevel,Ob=Ni.unstable_ImmediatePriority,Hk=Ni.unstable_UserBlockingPriority,my=Ni.unstable_NormalPriority,OR=Ni.unstable_LowPriority,$k=Ni.unstable_IdlePriority,y0=null,cs=null;function jR(n){if(cs&&typeof cs.onCommitFiberRoot=="function")try{cs.onCommitFiberRoot(y0,n,void 0,(n.current.flags&128)===128)}catch{}}var kr=Math.clz32?Math.clz32:UR,BR=Math.log,zR=Math.LN2;function UR(n){return n>>>=0,n===0?32:31-(BR(n)/zR|0)|0}var $m=64,Vm=4194304;function Rd(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function gy(n,e){var t=n.pendingLanes;if(t===0)return 0;var i=0,r=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var a=o&~r;a!==0?i=Rd(a):(s&=o,s!==0&&(i=Rd(s)))}else o=t&~r,o!==0?i=Rd(o):s!==0&&(i=Rd(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=i;0<e;)t=31-kr(e),r=1<<t,i|=n[t],e&=~r;return i}function HR(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $R(n,e){for(var t=n.suspendedLanes,i=n.pingedLanes,r=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-kr(s),a=1<<o,u=r[o];u===-1?(!(a&t)||a&i)&&(r[o]=HR(a,e)):u<=e&&(n.expiredLanes|=a),s&=~a}}function cx(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Vk(){var n=$m;return $m<<=1,!($m&4194240)&&($m=64),n}function sv(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function bm(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-kr(e),n[e]=t}function VR(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var i=n.eventTimes;for(n=n.expirationTimes;0<t;){var r=31-kr(t),s=1<<r;e[r]=0,i[r]=-1,n[r]=-1,t&=~s}}function jb(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var i=31-kr(t),r=1<<i;r&e|n[i]&e&&(n[i]|=e),t&=~r}}var De=0;function Wk(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Gk,Bb,qk,Xk,Yk,hx=!1,Wm=[],ka=null,Ca=null,_a=null,gf=new Map,yf=new Map,_o=[],WR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function CS(n,e){switch(n){case"focusin":case"focusout":ka=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":gf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yf.delete(e.pointerId)}}function md(n,e,t,i,r,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=Am(e),e!==null&&Bb(e)),n):(n.eventSystemFlags|=i,e=n.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),n)}function GR(n,e,t,i,r){switch(e){case"focusin":return ka=md(ka,n,e,t,i,r),!0;case"dragenter":return Ca=md(Ca,n,e,t,i,r),!0;case"mouseover":return _a=md(_a,n,e,t,i,r),!0;case"pointerover":var s=r.pointerId;return gf.set(s,md(gf.get(s)||null,n,e,t,i,r)),!0;case"gotpointercapture":return s=r.pointerId,yf.set(s,md(yf.get(s)||null,n,e,t,i,r)),!0}return!1}function Kk(n){var e=nl(n.target);if(e!==null){var t=_u(e);if(t!==null){if(e=t.tag,e===13){if(e=jk(t),e!==null){n.blockedOn=e,Yk(n.priority,function(){qk(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function vg(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=dx(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var i=new t.constructor(t.type,t);ox=i,t.target.dispatchEvent(i),ox=null}else return e=Am(t),e!==null&&Bb(e),n.blockedOn=t,!1;e.shift()}return!0}function _S(n,e,t){vg(n)&&t.delete(e)}function qR(){hx=!1,ka!==null&&vg(ka)&&(ka=null),Ca!==null&&vg(Ca)&&(Ca=null),_a!==null&&vg(_a)&&(_a=null),gf.forEach(_S),yf.forEach(_S)}function gd(n,e){n.blockedOn===e&&(n.blockedOn=null,hx||(hx=!0,Ni.unstable_scheduleCallback(Ni.unstable_NormalPriority,qR)))}function vf(n){function e(r){return gd(r,n)}if(0<Wm.length){gd(Wm[0],n);for(var t=1;t<Wm.length;t++){var i=Wm[t];i.blockedOn===n&&(i.blockedOn=null)}}for(ka!==null&&gd(ka,n),Ca!==null&&gd(Ca,n),_a!==null&&gd(_a,n),gf.forEach(e),yf.forEach(e),t=0;t<_o.length;t++)i=_o[t],i.blockedOn===n&&(i.blockedOn=null);for(;0<_o.length&&(t=_o[0],t.blockedOn===null);)Kk(t),t.blockedOn===null&&_o.shift()}var hc=bo.ReactCurrentBatchConfig,yy=!0;function XR(n,e,t,i){var r=De,s=hc.transition;hc.transition=null;try{De=1,zb(n,e,t,i)}finally{De=r,hc.transition=s}}function YR(n,e,t,i){var r=De,s=hc.transition;hc.transition=null;try{De=4,zb(n,e,t,i)}finally{De=r,hc.transition=s}}function zb(n,e,t,i){if(yy){var r=dx(n,e,t,i);if(r===null)mv(n,e,i,vy,t),CS(n,i);else if(GR(r,n,e,t,i))i.stopPropagation();else if(CS(n,i),e&4&&-1<WR.indexOf(n)){for(;r!==null;){var s=Am(r);if(s!==null&&Gk(s),s=dx(n,e,t,i),s===null&&mv(n,e,i,vy,t),s===r)break;r=s}r!==null&&i.stopPropagation()}else mv(n,e,i,null,t)}}var vy=null;function dx(n,e,t,i){if(vy=null,n=Fb(i),n=nl(n),n!==null)if(e=_u(n),e===null)n=null;else if(t=e.tag,t===13){if(n=jk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return vy=n,null}function Qk(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(FR()){case Ob:return 1;case Hk:return 4;case my:case OR:return 16;case $k:return 536870912;default:return 16}default:return 16}}var Aa=null,Ub=null,xg=null;function Jk(){if(xg)return xg;var n,e=Ub,t=e.length,i,r="value"in Aa?Aa.value:Aa.textContent,s=r.length;for(n=0;n<t&&e[n]===r[n];n++);var o=t-n;for(i=1;i<=o&&e[t-i]===r[s-i];i++);return xg=r.slice(n,1<i?1-i:void 0)}function wg(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function Gm(){return!0}function TS(){return!1}function Di(n){function e(t,i,r,s,o){this._reactName=t,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in n)n.hasOwnProperty(a)&&(t=n[a],this[a]=t?t(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gm:TS,this.isPropagationStopped=TS,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=Gm)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=Gm)},persist:function(){},isPersistent:Gm}),e}var nd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Hb=Di(nd),Sm=ft({},nd,{view:0,detail:0}),KR=Di(Sm),ov,av,yd,v0=ft({},Sm,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$b,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==yd&&(yd&&n.type==="mousemove"?(ov=n.screenX-yd.screenX,av=n.screenY-yd.screenY):av=ov=0,yd=n),ov)},movementY:function(n){return"movementY"in n?n.movementY:av}}),PS=Di(v0),QR=ft({},v0,{dataTransfer:0}),JR=Di(QR),ZR=ft({},Sm,{relatedTarget:0}),lv=Di(ZR),eN=ft({},nd,{animationName:0,elapsedTime:0,pseudoElement:0}),tN=Di(eN),nN=ft({},nd,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),iN=Di(nN),rN=ft({},nd,{data:0}),RS=Di(rN),sN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},aN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lN(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=aN[n])?!!e[n]:!1}function $b(){return lN}var uN=ft({},Sm,{key:function(n){if(n.key){var e=sN[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=wg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?oN[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$b,charCode:function(n){return n.type==="keypress"?wg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?wg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),cN=Di(uN),hN=ft({},v0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NS=Di(hN),dN=ft({},Sm,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$b}),fN=Di(dN),pN=ft({},nd,{propertyName:0,elapsedTime:0,pseudoElement:0}),mN=Di(pN),gN=ft({},v0,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),yN=Di(gN),vN=[9,13,27,32],Vb=ho&&"CompositionEvent"in window,tf=null;ho&&"documentMode"in document&&(tf=document.documentMode);var xN=ho&&"TextEvent"in window&&!tf,Zk=ho&&(!Vb||tf&&8<tf&&11>=tf),LS=" ",MS=!1;function eC(n,e){switch(n){case"keyup":return vN.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tC(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var qu=!1;function wN(n,e){switch(n){case"compositionend":return tC(e);case"keypress":return e.which!==32?null:(MS=!0,LS);case"textInput":return n=e.data,n===LS&&MS?null:n;default:return null}}function bN(n,e){if(qu)return n==="compositionend"||!Vb&&eC(n,e)?(n=Jk(),xg=Ub=Aa=null,qu=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Zk&&e.locale!=="ko"?null:e.data;default:return null}}var SN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function DS(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!SN[n.type]:e==="textarea"}function nC(n,e,t,i){Mk(i),e=xy(e,"onChange"),0<e.length&&(t=new Hb("onChange","change",null,t,i),n.push({event:t,listeners:e}))}var nf=null,xf=null;function AN(n){fC(n,0)}function x0(n){var e=Ku(n);if(Ck(e))return n}function EN(n,e){if(n==="change")return e}var iC=!1;if(ho){var uv;if(ho){var cv="oninput"in document;if(!cv){var IS=document.createElement("div");IS.setAttribute("oninput","return;"),cv=typeof IS.oninput=="function"}uv=cv}else uv=!1;iC=uv&&(!document.documentMode||9<document.documentMode)}function FS(){nf&&(nf.detachEvent("onpropertychange",rC),xf=nf=null)}function rC(n){if(n.propertyName==="value"&&x0(xf)){var e=[];nC(e,xf,n,Fb(n)),Ok(AN,e)}}function kN(n,e,t){n==="focusin"?(FS(),nf=e,xf=t,nf.attachEvent("onpropertychange",rC)):n==="focusout"&&FS()}function CN(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return x0(xf)}function _N(n,e){if(n==="click")return x0(e)}function TN(n,e){if(n==="input"||n==="change")return x0(e)}function PN(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var _r=typeof Object.is=="function"?Object.is:PN;function wf(n,e){if(_r(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(i=0;i<t.length;i++){var r=t[i];if(!Xv.call(e,r)||!_r(n[r],e[r]))return!1}return!0}function OS(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function jS(n,e){var t=OS(n);n=0;for(var i;t;){if(t.nodeType===3){if(i=n+t.textContent.length,n<=e&&i>=e)return{node:t,offset:e-n};n=i}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=OS(t)}}function sC(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?sC(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function oC(){for(var n=window,e=dy();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=dy(n.document)}return e}function Wb(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function RN(n){var e=oC(),t=n.focusedElem,i=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&sC(t.ownerDocument.documentElement,t)){if(i!==null&&Wb(t)){if(e=i.start,n=i.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var r=t.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!n.extend&&s>i&&(r=i,i=s,s=r),r=jS(t,s);var o=jS(t,i);r&&o&&(n.rangeCount!==1||n.anchorNode!==r.node||n.anchorOffset!==r.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),n.removeAllRanges(),s>i?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var NN=ho&&"documentMode"in document&&11>=document.documentMode,Xu=null,fx=null,rf=null,px=!1;function BS(n,e,t){var i=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;px||Xu==null||Xu!==dy(i)||(i=Xu,"selectionStart"in i&&Wb(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),rf&&wf(rf,i)||(rf=i,i=xy(fx,"onSelect"),0<i.length&&(e=new Hb("onSelect","select",null,e,t),n.push({event:e,listeners:i}),e.target=Xu)))}function qm(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var Yu={animationend:qm("Animation","AnimationEnd"),animationiteration:qm("Animation","AnimationIteration"),animationstart:qm("Animation","AnimationStart"),transitionend:qm("Transition","TransitionEnd")},hv={},aC={};ho&&(aC=document.createElement("div").style,"AnimationEvent"in window||(delete Yu.animationend.animation,delete Yu.animationiteration.animation,delete Yu.animationstart.animation),"TransitionEvent"in window||delete Yu.transitionend.transition);function w0(n){if(hv[n])return hv[n];if(!Yu[n])return n;var e=Yu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in aC)return hv[n]=e[t];return n}var lC=w0("animationend"),uC=w0("animationiteration"),cC=w0("animationstart"),hC=w0("transitionend"),dC=new Map,zS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ba(n,e){dC.set(n,e),Cu(e,[n])}for(var dv=0;dv<zS.length;dv++){var fv=zS[dv],LN=fv.toLowerCase(),MN=fv[0].toUpperCase()+fv.slice(1);Ba(LN,"on"+MN)}Ba(lC,"onAnimationEnd");Ba(uC,"onAnimationIteration");Ba(cC,"onAnimationStart");Ba("dblclick","onDoubleClick");Ba("focusin","onFocus");Ba("focusout","onBlur");Ba(hC,"onTransitionEnd");Wh("onMouseEnter",["mouseout","mouseover"]);Wh("onMouseLeave",["mouseout","mouseover"]);Wh("onPointerEnter",["pointerout","pointerover"]);Wh("onPointerLeave",["pointerout","pointerover"]);Cu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DN=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nd));function US(n,e,t){var i=n.type||"unknown-event";n.currentTarget=t,LR(i,e,void 0,n),n.currentTarget=null}function fC(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var i=n[t],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&r.isPropagationStopped())break e;US(r,a,c),s=u}else for(o=0;o<i.length;o++){if(a=i[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&r.isPropagationStopped())break e;US(r,a,c),s=u}}}if(py)throw n=ux,py=!1,ux=null,n}function Je(n,e){var t=e[xx];t===void 0&&(t=e[xx]=new Set);var i=n+"__bubble";t.has(i)||(pC(e,n,2,!1),t.add(i))}function pv(n,e,t){var i=0;e&&(i|=4),pC(t,n,i,e)}var Xm="_reactListening"+Math.random().toString(36).slice(2);function bf(n){if(!n[Xm]){n[Xm]=!0,bk.forEach(function(t){t!=="selectionchange"&&(DN.has(t)||pv(t,!1,n),pv(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Xm]||(e[Xm]=!0,pv("selectionchange",!1,e))}}function pC(n,e,t,i){switch(Qk(e)){case 1:var r=XR;break;case 4:r=YR;break;default:r=zb}t=r.bind(null,e,t,n),r=void 0,!lx||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?n.addEventListener(e,t,{capture:!0,passive:r}):n.addEventListener(e,t,!0):r!==void 0?n.addEventListener(e,t,{passive:r}):n.addEventListener(e,t,!1)}function mv(n,e,t,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===r||u.nodeType===8&&u.parentNode===r))return;o=o.return}for(;a!==null;){if(o=nl(a),o===null)return;if(u=o.tag,u===5||u===6){i=s=o;continue e}a=a.parentNode}}i=i.return}Ok(function(){var c=s,h=Fb(t),d=[];e:{var f=dC.get(n);if(f!==void 0){var p=Hb,v=n;switch(n){case"keypress":if(wg(t)===0)break e;case"keydown":case"keyup":p=cN;break;case"focusin":v="focus",p=lv;break;case"focusout":v="blur",p=lv;break;case"beforeblur":case"afterblur":p=lv;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=PS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fN;break;case lC:case uC:case cC:p=tN;break;case hC:p=mN;break;case"scroll":p=KR;break;case"wheel":p=yN;break;case"copy":case"cut":case"paste":p=iN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=NS}var y=(e&4)!==0,E=!y&&n==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var b=c,x;b!==null;){x=b;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,m!==null&&(k=mf(b,m),k!=null&&y.push(Sf(b,k,x)))),E)break;b=b.return}0<y.length&&(f=new p(f,v,null,t,h),d.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=n==="mouseover"||n==="pointerover",p=n==="mouseout"||n==="pointerout",f&&t!==ox&&(v=t.relatedTarget||t.fromElement)&&(nl(v)||v[fo]))break e;if((p||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=t.relatedTarget||t.toElement,p=c,v=v?nl(v):null,v!==null&&(E=_u(v),v!==E||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(y=PS,k="onMouseLeave",m="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(y=NS,k="onPointerLeave",m="onPointerEnter",b="pointer"),E=p==null?f:Ku(p),x=v==null?f:Ku(v),f=new y(k,b+"leave",p,t,h),f.target=E,f.relatedTarget=x,k=null,nl(h)===c&&(y=new y(m,b+"enter",v,t,h),y.target=x,y.relatedTarget=E,k=y),E=k,p&&v)t:{for(y=p,m=v,b=0,x=y;x;x=Du(x))b++;for(x=0,k=m;k;k=Du(k))x++;for(;0<b-x;)y=Du(y),b--;for(;0<x-b;)m=Du(m),x--;for(;b--;){if(y===m||m!==null&&y===m.alternate)break t;y=Du(y),m=Du(m)}y=null}else y=null;p!==null&&HS(d,f,p,y,!1),v!==null&&E!==null&&HS(d,E,v,y,!0)}}e:{if(f=c?Ku(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=EN;else if(DS(f))if(iC)_=TN;else{_=CN;var C=kN}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=_N);if(_&&(_=_(n,c))){nC(d,_,t,h);break e}C&&C(n,f,c),n==="focusout"&&(C=f._wrapperState)&&C.controlled&&f.type==="number"&&tx(f,"number",f.value)}switch(C=c?Ku(c):window,n){case"focusin":(DS(C)||C.contentEditable==="true")&&(Xu=C,fx=c,rf=null);break;case"focusout":rf=fx=Xu=null;break;case"mousedown":px=!0;break;case"contextmenu":case"mouseup":case"dragend":px=!1,BS(d,t,h);break;case"selectionchange":if(NN)break;case"keydown":case"keyup":BS(d,t,h)}var P;if(Vb)e:{switch(n){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else qu?eC(n,t)&&(L="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(L="onCompositionStart");L&&(Zk&&t.locale!=="ko"&&(qu||L!=="onCompositionStart"?L==="onCompositionEnd"&&qu&&(P=Jk()):(Aa=h,Ub="value"in Aa?Aa.value:Aa.textContent,qu=!0)),C=xy(c,L),0<C.length&&(L=new RS(L,n,null,t,h),d.push({event:L,listeners:C}),P?L.data=P:(P=tC(t),P!==null&&(L.data=P)))),(P=xN?wN(n,t):bN(n,t))&&(c=xy(c,"onBeforeInput"),0<c.length&&(h=new RS("onBeforeInput","beforeinput",null,t,h),d.push({event:h,listeners:c}),h.data=P))}fC(d,e)})}function Sf(n,e,t){return{instance:n,listener:e,currentTarget:t}}function xy(n,e){for(var t=e+"Capture",i=[];n!==null;){var r=n,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=mf(n,t),s!=null&&i.unshift(Sf(n,s,r)),s=mf(n,e),s!=null&&i.push(Sf(n,s,r))),n=n.return}return i}function Du(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function HS(n,e,t,i,r){for(var s=e._reactName,o=[];t!==null&&t!==i;){var a=t,u=a.alternate,c=a.stateNode;if(u!==null&&u===i)break;a.tag===5&&c!==null&&(a=c,r?(u=mf(t,s),u!=null&&o.unshift(Sf(t,u,a))):r||(u=mf(t,s),u!=null&&o.push(Sf(t,u,a)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var IN=/\r\n?/g,FN=/\u0000|\uFFFD/g;function $S(n){return(typeof n=="string"?n:""+n).replace(IN,`
`).replace(FN,"")}function Ym(n,e,t){if(e=$S(e),$S(n)!==e&&t)throw Error(H(425))}function wy(){}var mx=null,gx=null;function yx(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vx=typeof setTimeout=="function"?setTimeout:void 0,ON=typeof clearTimeout=="function"?clearTimeout:void 0,VS=typeof Promise=="function"?Promise:void 0,jN=typeof queueMicrotask=="function"?queueMicrotask:typeof VS<"u"?function(n){return VS.resolve(null).then(n).catch(BN)}:vx;function BN(n){setTimeout(function(){throw n})}function gv(n,e){var t=e,i=0;do{var r=t.nextSibling;if(n.removeChild(t),r&&r.nodeType===8)if(t=r.data,t==="/$"){if(i===0){n.removeChild(r),vf(e);return}i--}else t!=="$"&&t!=="$?"&&t!=="$!"||i++;t=r}while(t);vf(e)}function Ta(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function WS(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var id=Math.random().toString(36).slice(2),os="__reactFiber$"+id,Af="__reactProps$"+id,fo="__reactContainer$"+id,xx="__reactEvents$"+id,zN="__reactListeners$"+id,UN="__reactHandles$"+id;function nl(n){var e=n[os];if(e)return e;for(var t=n.parentNode;t;){if(e=t[fo]||t[os]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=WS(n);n!==null;){if(t=n[os])return t;n=WS(n)}return e}n=t,t=n.parentNode}return null}function Am(n){return n=n[os]||n[fo],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ku(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(H(33))}function b0(n){return n[Af]||null}var wx=[],Qu=-1;function za(n){return{current:n}}function et(n){0>Qu||(n.current=wx[Qu],wx[Qu]=null,Qu--)}function Ye(n,e){Qu++,wx[Qu]=n.current,n.current=e}var Da={},An=za(Da),Jn=za(!1),xu=Da;function Gh(n,e){var t=n.type.contextTypes;if(!t)return Da;var i=n.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in t)r[s]=e[s];return i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=r),r}function Zn(n){return n=n.childContextTypes,n!=null}function by(){et(Jn),et(An)}function GS(n,e,t){if(An.current!==Da)throw Error(H(168));Ye(An,e),Ye(Jn,t)}function mC(n,e,t){var i=n.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return t;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(H(108,kR(n)||"Unknown",r));return ft({},t,i)}function Sy(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Da,xu=An.current,Ye(An,n),Ye(Jn,Jn.current),!0}function qS(n,e,t){var i=n.stateNode;if(!i)throw Error(H(169));t?(n=mC(n,e,xu),i.__reactInternalMemoizedMergedChildContext=n,et(Jn),et(An),Ye(An,n)):et(Jn),Ye(Jn,t)}var Es=null,S0=!1,yv=!1;function gC(n){Es===null?Es=[n]:Es.push(n)}function HN(n){S0=!0,gC(n)}function Ua(){if(!yv&&Es!==null){yv=!0;var n=0,e=De;try{var t=Es;for(De=1;n<t.length;n++){var i=t[n];do i=i(!0);while(i!==null)}Es=null,S0=!1}catch(r){throw Es!==null&&(Es=Es.slice(n+1)),Uk(Ob,Ua),r}finally{De=e,yv=!1}}return null}var Ju=[],Zu=0,Ay=null,Ey=0,Xi=[],Yi=0,wu=null,so=1,oo="";function Ga(n,e){Ju[Zu++]=Ey,Ju[Zu++]=Ay,Ay=n,Ey=e}function yC(n,e,t){Xi[Yi++]=so,Xi[Yi++]=oo,Xi[Yi++]=wu,wu=n;var i=so;n=oo;var r=32-kr(i)-1;i&=~(1<<r),t+=1;var s=32-kr(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,so=1<<32-kr(e)+r|t<<r|i,oo=s+n}else so=1<<s|t<<r|i,oo=n}function Gb(n){n.return!==null&&(Ga(n,1),yC(n,1,0))}function qb(n){for(;n===Ay;)Ay=Ju[--Zu],Ju[Zu]=null,Ey=Ju[--Zu],Ju[Zu]=null;for(;n===wu;)wu=Xi[--Yi],Xi[Yi]=null,oo=Xi[--Yi],Xi[Yi]=null,so=Xi[--Yi],Xi[Yi]=null}var Pi=null,_i=null,st=!1,Ar=null;function vC(n,e){var t=Zi(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function XS(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,Pi=n,_i=Ta(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,Pi=n,_i=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=wu!==null?{id:so,overflow:oo}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Zi(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,Pi=n,_i=null,!0):!1;default:return!1}}function bx(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Sx(n){if(st){var e=_i;if(e){var t=e;if(!XS(n,e)){if(bx(n))throw Error(H(418));e=Ta(t.nextSibling);var i=Pi;e&&XS(n,e)?vC(i,t):(n.flags=n.flags&-4097|2,st=!1,Pi=n)}}else{if(bx(n))throw Error(H(418));n.flags=n.flags&-4097|2,st=!1,Pi=n}}}function YS(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;Pi=n}function Km(n){if(n!==Pi)return!1;if(!st)return YS(n),st=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!yx(n.type,n.memoizedProps)),e&&(e=_i)){if(bx(n))throw xC(),Error(H(418));for(;e;)vC(n,e),e=Ta(e.nextSibling)}if(YS(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(H(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){_i=Ta(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}_i=null}}else _i=Pi?Ta(n.stateNode.nextSibling):null;return!0}function xC(){for(var n=_i;n;)n=Ta(n.nextSibling)}function qh(){_i=Pi=null,st=!1}function Xb(n){Ar===null?Ar=[n]:Ar.push(n)}var $N=bo.ReactCurrentBatchConfig;function vd(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(H(309));var i=t.stateNode}if(!i)throw Error(H(147,n));var r=i,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(H(284));if(!t._owner)throw Error(H(290,n))}return n}function Qm(n,e){throw n=Object.prototype.toString.call(e),Error(H(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function KS(n){var e=n._init;return e(n._payload)}function wC(n){function e(m,b){if(n){var x=m.deletions;x===null?(m.deletions=[b],m.flags|=16):x.push(b)}}function t(m,b){if(!n)return null;for(;b!==null;)e(m,b),b=b.sibling;return null}function i(m,b){for(m=new Map;b!==null;)b.key!==null?m.set(b.key,b):m.set(b.index,b),b=b.sibling;return m}function r(m,b){return m=La(m,b),m.index=0,m.sibling=null,m}function s(m,b,x){return m.index=x,n?(x=m.alternate,x!==null?(x=x.index,x<b?(m.flags|=2,b):x):(m.flags|=2,b)):(m.flags|=1048576,b)}function o(m){return n&&m.alternate===null&&(m.flags|=2),m}function a(m,b,x,k){return b===null||b.tag!==6?(b=Ev(x,m.mode,k),b.return=m,b):(b=r(b,x),b.return=m,b)}function u(m,b,x,k){var _=x.type;return _===Gu?h(m,b,x.props.children,k,x.key):b!==null&&(b.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ko&&KS(_)===b.type)?(k=r(b,x.props),k.ref=vd(m,b,x),k.return=m,k):(k=_g(x.type,x.key,x.props,null,m.mode,k),k.ref=vd(m,b,x),k.return=m,k)}function c(m,b,x,k){return b===null||b.tag!==4||b.stateNode.containerInfo!==x.containerInfo||b.stateNode.implementation!==x.implementation?(b=kv(x,m.mode,k),b.return=m,b):(b=r(b,x.children||[]),b.return=m,b)}function h(m,b,x,k,_){return b===null||b.tag!==7?(b=vu(x,m.mode,k,_),b.return=m,b):(b=r(b,x),b.return=m,b)}function d(m,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return b=Ev(""+b,m.mode,x),b.return=m,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case zm:return x=_g(b.type,b.key,b.props,null,m.mode,x),x.ref=vd(m,null,b),x.return=m,x;case Wu:return b=kv(b,m.mode,x),b.return=m,b;case ko:var k=b._init;return d(m,k(b._payload),x)}if(Pd(b)||fd(b))return b=vu(b,m.mode,x,null),b.return=m,b;Qm(m,b)}return null}function f(m,b,x,k){var _=b!==null?b.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(m,b,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case zm:return x.key===_?u(m,b,x,k):null;case Wu:return x.key===_?c(m,b,x,k):null;case ko:return _=x._init,f(m,b,_(x._payload),k)}if(Pd(x)||fd(x))return _!==null?null:h(m,b,x,k,null);Qm(m,x)}return null}function p(m,b,x,k,_){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(x)||null,a(b,m,""+k,_);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case zm:return m=m.get(k.key===null?x:k.key)||null,u(b,m,k,_);case Wu:return m=m.get(k.key===null?x:k.key)||null,c(b,m,k,_);case ko:var C=k._init;return p(m,b,x,C(k._payload),_)}if(Pd(k)||fd(k))return m=m.get(x)||null,h(b,m,k,_,null);Qm(b,k)}return null}function v(m,b,x,k){for(var _=null,C=null,P=b,L=b=0,D=null;P!==null&&L<x.length;L++){P.index>L?(D=P,P=null):D=P.sibling;var M=f(m,P,x[L],k);if(M===null){P===null&&(P=D);break}n&&P&&M.alternate===null&&e(m,P),b=s(M,b,L),C===null?_=M:C.sibling=M,C=M,P=D}if(L===x.length)return t(m,P),st&&Ga(m,L),_;if(P===null){for(;L<x.length;L++)P=d(m,x[L],k),P!==null&&(b=s(P,b,L),C===null?_=P:C.sibling=P,C=P);return st&&Ga(m,L),_}for(P=i(m,P);L<x.length;L++)D=p(P,m,L,x[L],k),D!==null&&(n&&D.alternate!==null&&P.delete(D.key===null?L:D.key),b=s(D,b,L),C===null?_=D:C.sibling=D,C=D);return n&&P.forEach(function(I){return e(m,I)}),st&&Ga(m,L),_}function y(m,b,x,k){var _=fd(x);if(typeof _!="function")throw Error(H(150));if(x=_.call(x),x==null)throw Error(H(151));for(var C=_=null,P=b,L=b=0,D=null,M=x.next();P!==null&&!M.done;L++,M=x.next()){P.index>L?(D=P,P=null):D=P.sibling;var I=f(m,P,M.value,k);if(I===null){P===null&&(P=D);break}n&&P&&I.alternate===null&&e(m,P),b=s(I,b,L),C===null?_=I:C.sibling=I,C=I,P=D}if(M.done)return t(m,P),st&&Ga(m,L),_;if(P===null){for(;!M.done;L++,M=x.next())M=d(m,M.value,k),M!==null&&(b=s(M,b,L),C===null?_=M:C.sibling=M,C=M);return st&&Ga(m,L),_}for(P=i(m,P);!M.done;L++,M=x.next())M=p(P,m,L,M.value,k),M!==null&&(n&&M.alternate!==null&&P.delete(M.key===null?L:M.key),b=s(M,b,L),C===null?_=M:C.sibling=M,C=M);return n&&P.forEach(function(F){return e(m,F)}),st&&Ga(m,L),_}function E(m,b,x,k){if(typeof x=="object"&&x!==null&&x.type===Gu&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case zm:e:{for(var _=x.key,C=b;C!==null;){if(C.key===_){if(_=x.type,_===Gu){if(C.tag===7){t(m,C.sibling),b=r(C,x.props.children),b.return=m,m=b;break e}}else if(C.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ko&&KS(_)===C.type){t(m,C.sibling),b=r(C,x.props),b.ref=vd(m,C,x),b.return=m,m=b;break e}t(m,C);break}else e(m,C);C=C.sibling}x.type===Gu?(b=vu(x.props.children,m.mode,k,x.key),b.return=m,m=b):(k=_g(x.type,x.key,x.props,null,m.mode,k),k.ref=vd(m,b,x),k.return=m,m=k)}return o(m);case Wu:e:{for(C=x.key;b!==null;){if(b.key===C)if(b.tag===4&&b.stateNode.containerInfo===x.containerInfo&&b.stateNode.implementation===x.implementation){t(m,b.sibling),b=r(b,x.children||[]),b.return=m,m=b;break e}else{t(m,b);break}else e(m,b);b=b.sibling}b=kv(x,m.mode,k),b.return=m,m=b}return o(m);case ko:return C=x._init,E(m,b,C(x._payload),k)}if(Pd(x))return v(m,b,x,k);if(fd(x))return y(m,b,x,k);Qm(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,b!==null&&b.tag===6?(t(m,b.sibling),b=r(b,x),b.return=m,m=b):(t(m,b),b=Ev(x,m.mode,k),b.return=m,m=b),o(m)):t(m,b)}return E}var Xh=wC(!0),bC=wC(!1),ky=za(null),Cy=null,ec=null,Yb=null;function Kb(){Yb=ec=Cy=null}function Qb(n){var e=ky.current;et(ky),n._currentValue=e}function Ax(n,e,t){for(;n!==null;){var i=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),n===t)break;n=n.return}}function dc(n,e){Cy=n,Yb=ec=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Qn=!0),n.firstContext=null)}function nr(n){var e=n._currentValue;if(Yb!==n)if(n={context:n,memoizedValue:e,next:null},ec===null){if(Cy===null)throw Error(H(308));ec=n,Cy.dependencies={lanes:0,firstContext:n}}else ec=ec.next=n;return e}var il=null;function Jb(n){il===null?il=[n]:il.push(n)}function SC(n,e,t,i){var r=e.interleaved;return r===null?(t.next=t,Jb(e)):(t.next=r.next,r.next=t),e.interleaved=t,po(n,i)}function po(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Co=!1;function Zb(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AC(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ao(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function Pa(n,e,t){var i=n.updateQueue;if(i===null)return null;if(i=i.shared,ke&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,po(n,t)}return r=i.interleaved,r===null?(e.next=e,Jb(i)):(e.next=r.next,r.next=e),i.interleaved=e,po(n,t)}function bg(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,jb(n,t)}}function QS(n,e){var t=n.updateQueue,i=n.alternate;if(i!==null&&(i=i.updateQueue,t===i)){var r=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?r=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?r=s=e:s=s.next=e}else r=s=e;t={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function _y(n,e,t,i){var r=n.updateQueue;Co=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var h=n.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=u))}if(s!==null){var d=r.baseState;o=0,h=c=u=null,a=s;do{var f=a.lane,p=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=n,y=a;switch(f=e,p=t,y.tag){case 1:if(v=y.payload,typeof v=="function"){d=v.call(p,d,f);break e}d=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,d,f):v,f==null)break e;d=ft({},d,f);break e;case 2:Co=!0}}a.callback!==null&&a.lane!==0&&(n.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=p,u=d):h=h.next=p,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(u=d),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Su|=o,n.lanes=o,n.memoizedState=d}}function JS(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var i=n[e],r=i.callback;if(r!==null){if(i.callback=null,i=t,typeof r!="function")throw Error(H(191,r));r.call(i)}}}var Em={},hs=za(Em),Ef=za(Em),kf=za(Em);function rl(n){if(n===Em)throw Error(H(174));return n}function e1(n,e){switch(Ye(kf,e),Ye(Ef,n),Ye(hs,Em),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ix(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ix(e,n)}et(hs),Ye(hs,e)}function Yh(){et(hs),et(Ef),et(kf)}function EC(n){rl(kf.current);var e=rl(hs.current),t=ix(e,n.type);e!==t&&(Ye(Ef,n),Ye(hs,t))}function t1(n){Ef.current===n&&(et(hs),et(Ef))}var lt=za(0);function Ty(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var vv=[];function n1(){for(var n=0;n<vv.length;n++)vv[n]._workInProgressVersionPrimary=null;vv.length=0}var Sg=bo.ReactCurrentDispatcher,xv=bo.ReactCurrentBatchConfig,bu=0,ct=null,Ft=null,qt=null,Py=!1,sf=!1,Cf=0,VN=0;function hn(){throw Error(H(321))}function i1(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!_r(n[t],e[t]))return!1;return!0}function r1(n,e,t,i,r,s){if(bu=s,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sg.current=n===null||n.memoizedState===null?XN:YN,n=t(i,r),sf){s=0;do{if(sf=!1,Cf=0,25<=s)throw Error(H(301));s+=1,qt=Ft=null,e.updateQueue=null,Sg.current=KN,n=t(i,r)}while(sf)}if(Sg.current=Ry,e=Ft!==null&&Ft.next!==null,bu=0,qt=Ft=ct=null,Py=!1,e)throw Error(H(300));return n}function s1(){var n=Cf!==0;return Cf=0,n}function Ir(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?ct.memoizedState=qt=n:qt=qt.next=n,qt}function ir(){if(Ft===null){var n=ct.alternate;n=n!==null?n.memoizedState:null}else n=Ft.next;var e=qt===null?ct.memoizedState:qt.next;if(e!==null)qt=e,Ft=n;else{if(n===null)throw Error(H(310));Ft=n,n={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},qt===null?ct.memoizedState=qt=n:qt=qt.next=n}return qt}function _f(n,e){return typeof e=="function"?e(n):e}function wv(n){var e=ir(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=n;var i=Ft,r=i.baseQueue,s=t.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,t.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,u=null,c=s;do{var h=c.lane;if((bu&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:n(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=d,o=i):u=u.next=d,ct.lanes|=h,Su|=h}c=c.next}while(c!==null&&c!==s);u===null?o=i:u.next=a,_r(i,e.memoizedState)||(Qn=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=u,t.lastRenderedState=i}if(n=t.interleaved,n!==null){r=n;do s=r.lane,ct.lanes|=s,Su|=s,r=r.next;while(r!==n)}else r===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function bv(n){var e=ir(),t=e.queue;if(t===null)throw Error(H(311));t.lastRenderedReducer=n;var i=t.dispatch,r=t.pending,s=e.memoizedState;if(r!==null){t.pending=null;var o=r=r.next;do s=n(s,o.action),o=o.next;while(o!==r);_r(s,e.memoizedState)||(Qn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,i]}function kC(){}function CC(n,e){var t=ct,i=ir(),r=e(),s=!_r(i.memoizedState,r);if(s&&(i.memoizedState=r,Qn=!0),i=i.queue,o1(PC.bind(null,t,i,n),[n]),i.getSnapshot!==e||s||qt!==null&&qt.memoizedState.tag&1){if(t.flags|=2048,Tf(9,TC.bind(null,t,i,r,e),void 0,null),Xt===null)throw Error(H(349));bu&30||_C(t,e,r)}return r}function _C(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function TC(n,e,t,i){e.value=t,e.getSnapshot=i,RC(e)&&NC(n)}function PC(n,e,t){return t(function(){RC(e)&&NC(n)})}function RC(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!_r(n,t)}catch{return!0}}function NC(n){var e=po(n,1);e!==null&&Cr(e,n,1,-1)}function ZS(n){var e=Ir();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_f,lastRenderedState:n},e.queue=n,n=n.dispatch=qN.bind(null,ct,n),[e.memoizedState,n]}function Tf(n,e,t,i){return n={tag:n,create:e,destroy:t,deps:i,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(i=t.next,t.next=n,n.next=i,e.lastEffect=n)),n}function LC(){return ir().memoizedState}function Ag(n,e,t,i){var r=Ir();ct.flags|=n,r.memoizedState=Tf(1|e,t,void 0,i===void 0?null:i)}function A0(n,e,t,i){var r=ir();i=i===void 0?null:i;var s=void 0;if(Ft!==null){var o=Ft.memoizedState;if(s=o.destroy,i!==null&&i1(i,o.deps)){r.memoizedState=Tf(e,t,s,i);return}}ct.flags|=n,r.memoizedState=Tf(1|e,t,s,i)}function eA(n,e){return Ag(8390656,8,n,e)}function o1(n,e){return A0(2048,8,n,e)}function MC(n,e){return A0(4,2,n,e)}function DC(n,e){return A0(4,4,n,e)}function IC(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function FC(n,e,t){return t=t!=null?t.concat([n]):null,A0(4,4,IC.bind(null,e,n),t)}function a1(){}function OC(n,e){var t=ir();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&i1(e,i[1])?i[0]:(t.memoizedState=[n,e],n)}function jC(n,e){var t=ir();e=e===void 0?null:e;var i=t.memoizedState;return i!==null&&e!==null&&i1(e,i[1])?i[0]:(n=n(),t.memoizedState=[n,e],n)}function BC(n,e,t){return bu&21?(_r(t,e)||(t=Vk(),ct.lanes|=t,Su|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Qn=!0),n.memoizedState=t)}function WN(n,e){var t=De;De=t!==0&&4>t?t:4,n(!0);var i=xv.transition;xv.transition={};try{n(!1),e()}finally{De=t,xv.transition=i}}function zC(){return ir().memoizedState}function GN(n,e,t){var i=Na(n);if(t={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null},UC(n))HC(e,t);else if(t=SC(n,e,t,i),t!==null){var r=Dn();Cr(t,n,i,r),$C(t,e,i)}}function qN(n,e,t){var i=Na(n),r={lane:i,action:t,hasEagerState:!1,eagerState:null,next:null};if(UC(n))HC(e,r);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,t);if(r.hasEagerState=!0,r.eagerState=a,_r(a,o)){var u=e.interleaved;u===null?(r.next=r,Jb(e)):(r.next=u.next,u.next=r),e.interleaved=r;return}}catch{}finally{}t=SC(n,e,r,i),t!==null&&(r=Dn(),Cr(t,n,i,r),$C(t,e,i))}}function UC(n){var e=n.alternate;return n===ct||e!==null&&e===ct}function HC(n,e){sf=Py=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function $C(n,e,t){if(t&4194240){var i=e.lanes;i&=n.pendingLanes,t|=i,e.lanes=t,jb(n,t)}}var Ry={readContext:nr,useCallback:hn,useContext:hn,useEffect:hn,useImperativeHandle:hn,useInsertionEffect:hn,useLayoutEffect:hn,useMemo:hn,useReducer:hn,useRef:hn,useState:hn,useDebugValue:hn,useDeferredValue:hn,useTransition:hn,useMutableSource:hn,useSyncExternalStore:hn,useId:hn,unstable_isNewReconciler:!1},XN={readContext:nr,useCallback:function(n,e){return Ir().memoizedState=[n,e===void 0?null:e],n},useContext:nr,useEffect:eA,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Ag(4194308,4,IC.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Ag(4194308,4,n,e)},useInsertionEffect:function(n,e){return Ag(4,2,n,e)},useMemo:function(n,e){var t=Ir();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var i=Ir();return e=t!==void 0?t(e):e,i.memoizedState=i.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},i.queue=n,n=n.dispatch=GN.bind(null,ct,n),[i.memoizedState,n]},useRef:function(n){var e=Ir();return n={current:n},e.memoizedState=n},useState:ZS,useDebugValue:a1,useDeferredValue:function(n){return Ir().memoizedState=n},useTransition:function(){var n=ZS(!1),e=n[0];return n=WN.bind(null,n[1]),Ir().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var i=ct,r=Ir();if(st){if(t===void 0)throw Error(H(407));t=t()}else{if(t=e(),Xt===null)throw Error(H(349));bu&30||_C(i,e,t)}r.memoizedState=t;var s={value:t,getSnapshot:e};return r.queue=s,eA(PC.bind(null,i,s,n),[n]),i.flags|=2048,Tf(9,TC.bind(null,i,s,t,e),void 0,null),t},useId:function(){var n=Ir(),e=Xt.identifierPrefix;if(st){var t=oo,i=so;t=(i&~(1<<32-kr(i)-1)).toString(32)+t,e=":"+e+"R"+t,t=Cf++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=VN++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},YN={readContext:nr,useCallback:OC,useContext:nr,useEffect:o1,useImperativeHandle:FC,useInsertionEffect:MC,useLayoutEffect:DC,useMemo:jC,useReducer:wv,useRef:LC,useState:function(){return wv(_f)},useDebugValue:a1,useDeferredValue:function(n){var e=ir();return BC(e,Ft.memoizedState,n)},useTransition:function(){var n=wv(_f)[0],e=ir().memoizedState;return[n,e]},useMutableSource:kC,useSyncExternalStore:CC,useId:zC,unstable_isNewReconciler:!1},KN={readContext:nr,useCallback:OC,useContext:nr,useEffect:o1,useImperativeHandle:FC,useInsertionEffect:MC,useLayoutEffect:DC,useMemo:jC,useReducer:bv,useRef:LC,useState:function(){return bv(_f)},useDebugValue:a1,useDeferredValue:function(n){var e=ir();return Ft===null?e.memoizedState=n:BC(e,Ft.memoizedState,n)},useTransition:function(){var n=bv(_f)[0],e=ir().memoizedState;return[n,e]},useMutableSource:kC,useSyncExternalStore:CC,useId:zC,unstable_isNewReconciler:!1};function ur(n,e){if(n&&n.defaultProps){e=ft({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Ex(n,e,t,i){e=n.memoizedState,t=t(i,e),t=t==null?e:ft({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var E0={isMounted:function(n){return(n=n._reactInternals)?_u(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var i=Dn(),r=Na(n),s=ao(i,r);s.payload=e,t!=null&&(s.callback=t),e=Pa(n,s,r),e!==null&&(Cr(e,n,r,i),bg(e,n,r))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var i=Dn(),r=Na(n),s=ao(i,r);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=Pa(n,s,r),e!==null&&(Cr(e,n,r,i),bg(e,n,r))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Dn(),i=Na(n),r=ao(t,i);r.tag=2,e!=null&&(r.callback=e),e=Pa(n,r,i),e!==null&&(Cr(e,n,i,t),bg(e,n,i))}};function tA(n,e,t,i,r,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!wf(t,i)||!wf(r,s):!0}function VC(n,e,t){var i=!1,r=Da,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(r=Zn(e)?xu:An.current,i=e.contextTypes,s=(i=i!=null)?Gh(n,r):Da),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=E0,n.stateNode=e,e._reactInternals=n,i&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=s),e}function nA(n,e,t,i){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,i),e.state!==n&&E0.enqueueReplaceState(e,e.state,null)}function kx(n,e,t,i){var r=n.stateNode;r.props=t,r.state=n.memoizedState,r.refs={},Zb(n);var s=e.contextType;typeof s=="object"&&s!==null?r.context=nr(s):(s=Zn(e)?xu:An.current,r.context=Gh(n,s)),r.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ex(n,e,s,t),r.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&E0.enqueueReplaceState(r,r.state,null),_y(n,t,r,i),r.state=n.memoizedState),typeof r.componentDidMount=="function"&&(n.flags|=4194308)}function Kh(n,e){try{var t="",i=e;do t+=ER(i),i=i.return;while(i);var r=t}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:r,digest:null}}function Sv(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Cx(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var QN=typeof WeakMap=="function"?WeakMap:Map;function WC(n,e,t){t=ao(-1,t),t.tag=3,t.payload={element:null};var i=e.value;return t.callback=function(){Ly||(Ly=!0,Fx=i),Cx(n,e)},t}function GC(n,e,t){t=ao(-1,t),t.tag=3;var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;t.payload=function(){return i(r)},t.callback=function(){Cx(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Cx(n,e),typeof i!="function"&&(Ra===null?Ra=new Set([this]):Ra.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function iA(n,e,t){var i=n.pingCache;if(i===null){i=n.pingCache=new QN;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(t)||(r.add(t),n=hL.bind(null,n,e,t),e.then(n,n))}function rA(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function sA(n,e,t,i,r){return n.mode&1?(n.flags|=65536,n.lanes=r,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ao(-1,1),e.tag=2,Pa(t,e,1))),t.lanes|=1),n)}var JN=bo.ReactCurrentOwner,Qn=!1;function Ln(n,e,t,i){e.child=n===null?bC(e,null,t,i):Xh(e,n.child,t,i)}function oA(n,e,t,i,r){t=t.render;var s=e.ref;return dc(e,r),i=r1(n,e,t,i,s,r),t=s1(),n!==null&&!Qn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,mo(n,e,r)):(st&&t&&Gb(e),e.flags|=1,Ln(n,e,i,r),e.child)}function aA(n,e,t,i,r){if(n===null){var s=t.type;return typeof s=="function"&&!m1(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,qC(n,e,s,i,r)):(n=_g(t.type,null,i,e,e.mode,r),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&r)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:wf,t(o,i)&&n.ref===e.ref)return mo(n,e,r)}return e.flags|=1,n=La(s,i),n.ref=e.ref,n.return=e,e.child=n}function qC(n,e,t,i,r){if(n!==null){var s=n.memoizedProps;if(wf(s,i)&&n.ref===e.ref)if(Qn=!1,e.pendingProps=i=s,(n.lanes&r)!==0)n.flags&131072&&(Qn=!0);else return e.lanes=n.lanes,mo(n,e,r)}return _x(n,e,t,i,r)}function XC(n,e,t){var i=e.pendingProps,r=i.children,s=n!==null?n.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ye(nc,Ei),Ei|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,Ye(nc,Ei),Ei|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:t,Ye(nc,Ei),Ei|=i}else s!==null?(i=s.baseLanes|t,e.memoizedState=null):i=t,Ye(nc,Ei),Ei|=i;return Ln(n,e,r,t),e.child}function YC(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function _x(n,e,t,i,r){var s=Zn(t)?xu:An.current;return s=Gh(e,s),dc(e,r),t=r1(n,e,t,i,s,r),i=s1(),n!==null&&!Qn?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~r,mo(n,e,r)):(st&&i&&Gb(e),e.flags|=1,Ln(n,e,t,r),e.child)}function lA(n,e,t,i,r){if(Zn(t)){var s=!0;Sy(e)}else s=!1;if(dc(e,r),e.stateNode===null)Eg(n,e),VC(e,t,i),kx(e,t,i,r),i=!0;else if(n===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=t.contextType;typeof c=="object"&&c!==null?c=nr(c):(c=Zn(t)?xu:An.current,c=Gh(e,c));var h=t.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||u!==c)&&nA(e,o,i,c),Co=!1;var f=e.memoizedState;o.state=f,_y(e,i,o,r),u=e.memoizedState,a!==i||f!==u||Jn.current||Co?(typeof h=="function"&&(Ex(e,t,h,i),u=e.memoizedState),(a=Co||tA(e,t,a,i,f,u,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=u),o.props=i,o.state=u,o.context=c,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,AC(n,e),a=e.memoizedProps,c=e.type===e.elementType?a:ur(e.type,a),o.props=c,d=e.pendingProps,f=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=nr(u):(u=Zn(t)?xu:An.current,u=Gh(e,u));var p=t.getDerivedStateFromProps;(h=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==u)&&nA(e,o,i,u),Co=!1,f=e.memoizedState,o.state=f,_y(e,i,o,r);var v=e.memoizedState;a!==d||f!==v||Jn.current||Co?(typeof p=="function"&&(Ex(e,t,p,i),v=e.memoizedState),(c=Co||tA(e,t,c,i,f,v,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=v),o.props=i,o.state=v,o.context=u,i=c):(typeof o.componentDidUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===n.memoizedProps&&f===n.memoizedState||(e.flags|=1024),i=!1)}return Tx(n,e,t,i,s,r)}function Tx(n,e,t,i,r,s){YC(n,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&qS(e,t,!1),mo(n,e,s);i=e.stateNode,JN.current=e;var a=o&&typeof t.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,n!==null&&o?(e.child=Xh(e,n.child,null,s),e.child=Xh(e,null,a,s)):Ln(n,e,a,s),e.memoizedState=i.state,r&&qS(e,t,!0),e.child}function KC(n){var e=n.stateNode;e.pendingContext?GS(n,e.pendingContext,e.pendingContext!==e.context):e.context&&GS(n,e.context,!1),e1(n,e.containerInfo)}function uA(n,e,t,i,r){return qh(),Xb(r),e.flags|=256,Ln(n,e,t,i),e.child}var Px={dehydrated:null,treeContext:null,retryLane:0};function Rx(n){return{baseLanes:n,cachePool:null,transitions:null}}function QC(n,e,t){var i=e.pendingProps,r=lt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=n!==null&&n.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(r|=1),Ye(lt,r&1),n===null)return Sx(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,n=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=_0(o,i,0,null),n=vu(n,i,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Rx(t),e.memoizedState=Px,n):l1(e,o));if(r=n.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return ZN(n,e,o,i,a,r,t);if(s){s=i.fallback,o=e.mode,r=n.child,a=r.sibling;var u={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=u,e.deletions=null):(i=La(r,u),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=La(a,s):(s=vu(s,o,t,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=n.child.memoizedState,o=o===null?Rx(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=Px,i}return s=n.child,n=s.sibling,i=La(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=t),i.return=e,i.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=i,e.memoizedState=null,i}function l1(n,e){return e=_0({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function Jm(n,e,t,i){return i!==null&&Xb(i),Xh(e,n.child,null,t),n=l1(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function ZN(n,e,t,i,r,s,o){if(t)return e.flags&256?(e.flags&=-257,i=Sv(Error(H(422))),Jm(n,e,o,i)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=_0({mode:"visible",children:i.children},r,0,null),s=vu(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Xh(e,n.child,null,o),e.child.memoizedState=Rx(o),e.memoizedState=Px,s);if(!(e.mode&1))return Jm(n,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(H(419)),i=Sv(s,i,void 0),Jm(n,e,o,i)}if(a=(o&n.childLanes)!==0,Qn||a){if(i=Xt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,po(n,r),Cr(i,n,r,-1))}return p1(),i=Sv(Error(H(421))),Jm(n,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=n.child,e=dL.bind(null,n),r._reactRetry=e,null):(n=s.treeContext,_i=Ta(r.nextSibling),Pi=e,st=!0,Ar=null,n!==null&&(Xi[Yi++]=so,Xi[Yi++]=oo,Xi[Yi++]=wu,so=n.id,oo=n.overflow,wu=e),e=l1(e,i.children),e.flags|=4096,e)}function cA(n,e,t){n.lanes|=e;var i=n.alternate;i!==null&&(i.lanes|=e),Ax(n.return,e,t)}function Av(n,e,t,i,r){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:t,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=t,s.tailMode=r)}function JC(n,e,t){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(Ln(n,e,i.children,t),i=lt.current,i&2)i=i&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&cA(n,t,e);else if(n.tag===19)cA(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}i&=1}if(Ye(lt,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(t=e.child,r=null;t!==null;)n=t.alternate,n!==null&&Ty(n)===null&&(r=t),t=t.sibling;t=r,t===null?(r=e.child,e.child=null):(r=t.sibling,t.sibling=null),Av(e,!1,r,t,s);break;case"backwards":for(t=null,r=e.child,e.child=null;r!==null;){if(n=r.alternate,n!==null&&Ty(n)===null){e.child=r;break}n=r.sibling,r.sibling=t,t=r,r=n}Av(e,!0,t,null,s);break;case"together":Av(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eg(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function mo(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Su|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(H(153));if(e.child!==null){for(n=e.child,t=La(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=La(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function eL(n,e,t){switch(e.tag){case 3:KC(e),qh();break;case 5:EC(e);break;case 1:Zn(e.type)&&Sy(e);break;case 4:e1(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;Ye(ky,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ye(lt,lt.current&1),e.flags|=128,null):t&e.child.childLanes?QC(n,e,t):(Ye(lt,lt.current&1),n=mo(n,e,t),n!==null?n.sibling:null);Ye(lt,lt.current&1);break;case 19:if(i=(t&e.childLanes)!==0,n.flags&128){if(i)return JC(n,e,t);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),Ye(lt,lt.current),i)break;return null;case 22:case 23:return e.lanes=0,XC(n,e,t)}return mo(n,e,t)}var ZC,Nx,e_,t_;ZC=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Nx=function(){};e_=function(n,e,t,i){var r=n.memoizedProps;if(r!==i){n=e.stateNode,rl(hs.current);var s=null;switch(t){case"input":r=Zv(n,r),i=Zv(n,i),s=[];break;case"select":r=ft({},r,{value:void 0}),i=ft({},i,{value:void 0}),s=[];break;case"textarea":r=nx(n,r),i=nx(n,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(n.onclick=wy)}rx(t,i);var o;t=null;for(c in r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&r[c]!=null)if(c==="style"){var a=r[c];for(o in a)a.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ff.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var u=i[c];if(a=r!=null?r[c]:void 0,i.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(c,t)),t=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ff.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&Je("scroll",n),s||a===u||(s=[])):(s=s||[]).push(c,u))}t&&(s=s||[]).push("style",t);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};t_=function(n,e,t,i){t!==i&&(e.flags|=4)};function xd(n,e){if(!st)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:i.sibling=null}}function dn(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,i=0;if(e)for(var r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=n,r=r.sibling;else for(r=n.child;r!==null;)t|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=n,r=r.sibling;return n.subtreeFlags|=i,n.childLanes=t,e}function tL(n,e,t){var i=e.pendingProps;switch(qb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dn(e),null;case 1:return Zn(e.type)&&by(),dn(e),null;case 3:return i=e.stateNode,Yh(),et(Jn),et(An),n1(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(n===null||n.child===null)&&(Km(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ar!==null&&(Bx(Ar),Ar=null))),Nx(n,e),dn(e),null;case 5:t1(e);var r=rl(kf.current);if(t=e.type,n!==null&&e.stateNode!=null)e_(n,e,t,i,r),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(H(166));return dn(e),null}if(n=rl(hs.current),Km(e)){i=e.stateNode,t=e.type;var s=e.memoizedProps;switch(i[os]=e,i[Af]=s,n=(e.mode&1)!==0,t){case"dialog":Je("cancel",i),Je("close",i);break;case"iframe":case"object":case"embed":Je("load",i);break;case"video":case"audio":for(r=0;r<Nd.length;r++)Je(Nd[r],i);break;case"source":Je("error",i);break;case"img":case"image":case"link":Je("error",i),Je("load",i);break;case"details":Je("toggle",i);break;case"input":xS(i,s),Je("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Je("invalid",i);break;case"textarea":bS(i,s),Je("invalid",i)}rx(t,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&Ym(i.textContent,a,n),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Ym(i.textContent,a,n),r=["children",""+a]):ff.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Je("scroll",i)}switch(t){case"input":Um(i),wS(i,s,!0);break;case"textarea":Um(i),SS(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=wy)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Pk(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof i.is=="string"?n=o.createElement(t,{is:i.is}):(n=o.createElement(t),t==="select"&&(o=n,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):n=o.createElementNS(n,t),n[os]=e,n[Af]=i,ZC(n,e,!1,!1),e.stateNode=n;e:{switch(o=sx(t,i),t){case"dialog":Je("cancel",n),Je("close",n),r=i;break;case"iframe":case"object":case"embed":Je("load",n),r=i;break;case"video":case"audio":for(r=0;r<Nd.length;r++)Je(Nd[r],n);r=i;break;case"source":Je("error",n),r=i;break;case"img":case"image":case"link":Je("error",n),Je("load",n),r=i;break;case"details":Je("toggle",n),r=i;break;case"input":xS(n,i),r=Zv(n,i),Je("invalid",n);break;case"option":r=i;break;case"select":n._wrapperState={wasMultiple:!!i.multiple},r=ft({},i,{value:void 0}),Je("invalid",n);break;case"textarea":bS(n,i),r=nx(n,i),Je("invalid",n);break;default:r=i}rx(t,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Lk(n,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Rk(n,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&pf(n,u):typeof u=="number"&&pf(n,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ff.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Je("scroll",n):u!=null&&Lb(n,s,u,o))}switch(t){case"input":Um(n),wS(n,i,!1);break;case"textarea":Um(n),SS(n);break;case"option":i.value!=null&&n.setAttribute("value",""+Ma(i.value));break;case"select":n.multiple=!!i.multiple,s=i.value,s!=null?lc(n,!!i.multiple,s,!1):i.defaultValue!=null&&lc(n,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(n.onclick=wy)}switch(t){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return dn(e),null;case 6:if(n&&e.stateNode!=null)t_(n,e,n.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(H(166));if(t=rl(kf.current),rl(hs.current),Km(e)){if(i=e.stateNode,t=e.memoizedProps,i[os]=e,(s=i.nodeValue!==t)&&(n=Pi,n!==null))switch(n.tag){case 3:Ym(i.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&Ym(i.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else i=(t.nodeType===9?t:t.ownerDocument).createTextNode(i),i[os]=e,e.stateNode=i}return dn(e),null;case 13:if(et(lt),i=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(st&&_i!==null&&e.mode&1&&!(e.flags&128))xC(),qh(),e.flags|=98560,s=!1;else if(s=Km(e),i!==null&&i.dehydrated!==null){if(n===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[os]=e}else qh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;dn(e),s=!1}else Ar!==null&&(Bx(Ar),Ar=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(i=i!==null,i!==(n!==null&&n.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(n===null||lt.current&1?Ot===0&&(Ot=3):p1())),e.updateQueue!==null&&(e.flags|=4),dn(e),null);case 4:return Yh(),Nx(n,e),n===null&&bf(e.stateNode.containerInfo),dn(e),null;case 10:return Qb(e.type._context),dn(e),null;case 17:return Zn(e.type)&&by(),dn(e),null;case 19:if(et(lt),s=e.memoizedState,s===null)return dn(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)xd(s,!1);else{if(Ot!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Ty(n),o!==null){for(e.flags|=128,xd(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=t,t=e.child;t!==null;)s=t,n=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return Ye(lt,lt.current&1|2),e.child}n=n.sibling}s.tail!==null&&kt()>Qh&&(e.flags|=128,i=!0,xd(s,!1),e.lanes=4194304)}else{if(!i)if(n=Ty(o),n!==null){if(e.flags|=128,i=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),xd(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!st)return dn(e),null}else 2*kt()-s.renderingStartTime>Qh&&t!==1073741824&&(e.flags|=128,i=!0,xd(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kt(),e.sibling=null,t=lt.current,Ye(lt,i?t&1|2:t&1),e):(dn(e),null);case 22:case 23:return f1(),i=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Ei&1073741824&&(dn(e),e.subtreeFlags&6&&(e.flags|=8192)):dn(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function nL(n,e){switch(qb(e),e.tag){case 1:return Zn(e.type)&&by(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Yh(),et(Jn),et(An),n1(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return t1(e),null;case 13:if(et(lt),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(H(340));qh()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return et(lt),null;case 4:return Yh(),null;case 10:return Qb(e.type._context),null;case 22:case 23:return f1(),null;case 24:return null;default:return null}}var Zm=!1,bn=!1,iL=typeof WeakSet=="function"?WeakSet:Set,Z=null;function tc(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(i){xt(n,e,i)}else t.current=null}function Lx(n,e,t){try{t()}catch(i){xt(n,e,i)}}var hA=!1;function rL(n,e){if(mx=yy,n=oC(),Wb(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var i=t.getSelection&&t.getSelection();if(i&&i.rangeCount!==0){t=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,a=-1,u=-1,c=0,h=0,d=n,f=null;t:for(;;){for(var p;d!==t||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(u=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===n)break t;if(f===t&&++c===r&&(a=o),f===s&&++h===i&&(u=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}t=a===-1||u===-1?null:{start:a,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(gx={focusedElem:n,selectionRange:t},yy=!1,Z=e;Z!==null;)if(e=Z,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,Z=n;else for(;Z!==null;){e=Z;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,E=v.memoizedState,m=e.stateNode,b=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:ur(e.type,y),E);m.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(k){xt(e,e.return,k)}if(n=e.sibling,n!==null){n.return=e.return,Z=n;break}Z=e.return}return v=hA,hA=!1,v}function of(n,e,t){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&n)===n){var s=r.destroy;r.destroy=void 0,s!==void 0&&Lx(e,t,s)}r=r.next}while(r!==i)}}function k0(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var i=t.create;t.destroy=i()}t=t.next}while(t!==e)}}function Mx(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function n_(n){var e=n.alternate;e!==null&&(n.alternate=null,n_(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[os],delete e[Af],delete e[xx],delete e[zN],delete e[UN])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function i_(n){return n.tag===5||n.tag===3||n.tag===4}function dA(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||i_(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Dx(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=wy));else if(i!==4&&(n=n.child,n!==null))for(Dx(n,e,t),n=n.sibling;n!==null;)Dx(n,e,t),n=n.sibling}function Ix(n,e,t){var i=n.tag;if(i===5||i===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(i!==4&&(n=n.child,n!==null))for(Ix(n,e,t),n=n.sibling;n!==null;)Ix(n,e,t),n=n.sibling}var rn=null,Sr=!1;function So(n,e,t){for(t=t.child;t!==null;)r_(n,e,t),t=t.sibling}function r_(n,e,t){if(cs&&typeof cs.onCommitFiberUnmount=="function")try{cs.onCommitFiberUnmount(y0,t)}catch{}switch(t.tag){case 5:bn||tc(t,e);case 6:var i=rn,r=Sr;rn=null,So(n,e,t),rn=i,Sr=r,rn!==null&&(Sr?(n=rn,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):rn.removeChild(t.stateNode));break;case 18:rn!==null&&(Sr?(n=rn,t=t.stateNode,n.nodeType===8?gv(n.parentNode,t):n.nodeType===1&&gv(n,t),vf(n)):gv(rn,t.stateNode));break;case 4:i=rn,r=Sr,rn=t.stateNode.containerInfo,Sr=!0,So(n,e,t),rn=i,Sr=r;break;case 0:case 11:case 14:case 15:if(!bn&&(i=t.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Lx(t,e,o),r=r.next}while(r!==i)}So(n,e,t);break;case 1:if(!bn&&(tc(t,e),i=t.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=t.memoizedProps,i.state=t.memoizedState,i.componentWillUnmount()}catch(a){xt(t,e,a)}So(n,e,t);break;case 21:So(n,e,t);break;case 22:t.mode&1?(bn=(i=bn)||t.memoizedState!==null,So(n,e,t),bn=i):So(n,e,t);break;default:So(n,e,t)}}function fA(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new iL),e.forEach(function(i){var r=fL.bind(null,n,i);t.has(i)||(t.add(i),i.then(r,r))})}}function or(n,e){var t=e.deletions;if(t!==null)for(var i=0;i<t.length;i++){var r=t[i];try{var s=n,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:rn=a.stateNode,Sr=!1;break e;case 3:rn=a.stateNode.containerInfo,Sr=!0;break e;case 4:rn=a.stateNode.containerInfo,Sr=!0;break e}a=a.return}if(rn===null)throw Error(H(160));r_(s,o,r),rn=null,Sr=!1;var u=r.alternate;u!==null&&(u.return=null),r.return=null}catch(c){xt(r,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s_(e,n),e=e.sibling}function s_(n,e){var t=n.alternate,i=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(or(e,n),Nr(n),i&4){try{of(3,n,n.return),k0(3,n)}catch(y){xt(n,n.return,y)}try{of(5,n,n.return)}catch(y){xt(n,n.return,y)}}break;case 1:or(e,n),Nr(n),i&512&&t!==null&&tc(t,t.return);break;case 5:if(or(e,n),Nr(n),i&512&&t!==null&&tc(t,t.return),n.flags&32){var r=n.stateNode;try{pf(r,"")}catch(y){xt(n,n.return,y)}}if(i&4&&(r=n.stateNode,r!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,a=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&_k(r,s),sx(a,o);var c=sx(a,s);for(o=0;o<u.length;o+=2){var h=u[o],d=u[o+1];h==="style"?Lk(r,d):h==="dangerouslySetInnerHTML"?Rk(r,d):h==="children"?pf(r,d):Lb(r,h,d,c)}switch(a){case"input":ex(r,s);break;case"textarea":Tk(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?lc(r,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?lc(r,!!s.multiple,s.defaultValue,!0):lc(r,!!s.multiple,s.multiple?[]:"",!1))}r[Af]=s}catch(y){xt(n,n.return,y)}}break;case 6:if(or(e,n),Nr(n),i&4){if(n.stateNode===null)throw Error(H(162));r=n.stateNode,s=n.memoizedProps;try{r.nodeValue=s}catch(y){xt(n,n.return,y)}}break;case 3:if(or(e,n),Nr(n),i&4&&t!==null&&t.memoizedState.isDehydrated)try{vf(e.containerInfo)}catch(y){xt(n,n.return,y)}break;case 4:or(e,n),Nr(n);break;case 13:or(e,n),Nr(n),r=n.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(h1=kt())),i&4&&fA(n);break;case 22:if(h=t!==null&&t.memoizedState!==null,n.mode&1?(bn=(c=bn)||h,or(e,n),bn=c):or(e,n),Nr(n),i&8192){if(c=n.memoizedState!==null,(n.stateNode.isHidden=c)&&!h&&n.mode&1)for(Z=n,h=n.child;h!==null;){for(d=Z=h;Z!==null;){switch(f=Z,p=f.child,f.tag){case 0:case 11:case 14:case 15:of(4,f,f.return);break;case 1:tc(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){i=f,t=f.return;try{e=i,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){xt(i,t,y)}}break;case 5:tc(f,f.return);break;case 22:if(f.memoizedState!==null){mA(d);continue}}p!==null?(p.return=f,Z=p):mA(d)}h=h.sibling}e:for(h=null,d=n;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,c?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,u=d.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=Nk("display",o))}catch(y){xt(n,n.return,y)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(y){xt(n,n.return,y)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===n)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:or(e,n),Nr(n),i&4&&fA(n);break;case 21:break;default:or(e,n),Nr(n)}}function Nr(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(i_(t)){var i=t;break e}t=t.return}throw Error(H(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(pf(r,""),i.flags&=-33);var s=dA(n);Ix(n,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=dA(n);Dx(n,a,o);break;default:throw Error(H(161))}}catch(u){xt(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function sL(n,e,t){Z=n,o_(n)}function o_(n,e,t){for(var i=(n.mode&1)!==0;Z!==null;){var r=Z,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||Zm;if(!o){var a=r.alternate,u=a!==null&&a.memoizedState!==null||bn;a=Zm;var c=bn;if(Zm=o,(bn=u)&&!c)for(Z=r;Z!==null;)o=Z,u=o.child,o.tag===22&&o.memoizedState!==null?gA(r):u!==null?(u.return=o,Z=u):gA(r);for(;s!==null;)Z=s,o_(s),s=s.sibling;Z=r,Zm=a,bn=c}pA(n)}else r.subtreeFlags&8772&&s!==null?(s.return=r,Z=s):pA(n)}}function pA(n){for(;Z!==null;){var e=Z;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:bn||k0(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!bn)if(t===null)i.componentDidMount();else{var r=e.elementType===e.type?t.memoizedProps:ur(e.type,t.memoizedProps);i.componentDidUpdate(r,t.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&JS(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}JS(e,o,t)}break;case 5:var a=e.stateNode;if(t===null&&e.flags&4){t=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&vf(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}bn||e.flags&512&&Mx(e)}catch(f){xt(e,e.return,f)}}if(e===n){Z=null;break}if(t=e.sibling,t!==null){t.return=e.return,Z=t;break}Z=e.return}}function mA(n){for(;Z!==null;){var e=Z;if(e===n){Z=null;break}var t=e.sibling;if(t!==null){t.return=e.return,Z=t;break}Z=e.return}}function gA(n){for(;Z!==null;){var e=Z;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{k0(4,e)}catch(u){xt(e,t,u)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(u){xt(e,r,u)}}var s=e.return;try{Mx(e)}catch(u){xt(e,s,u)}break;case 5:var o=e.return;try{Mx(e)}catch(u){xt(e,o,u)}}}catch(u){xt(e,e.return,u)}if(e===n){Z=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Z=a;break}Z=e.return}}var oL=Math.ceil,Ny=bo.ReactCurrentDispatcher,u1=bo.ReactCurrentOwner,er=bo.ReactCurrentBatchConfig,ke=0,Xt=null,Rt=null,ln=0,Ei=0,nc=za(0),Ot=0,Pf=null,Su=0,C0=0,c1=0,af=null,Kn=null,h1=0,Qh=1/0,bs=null,Ly=!1,Fx=null,Ra=null,eg=!1,Ea=null,My=0,lf=0,Ox=null,kg=-1,Cg=0;function Dn(){return ke&6?kt():kg!==-1?kg:kg=kt()}function Na(n){return n.mode&1?ke&2&&ln!==0?ln&-ln:$N.transition!==null?(Cg===0&&(Cg=Vk()),Cg):(n=De,n!==0||(n=window.event,n=n===void 0?16:Qk(n.type)),n):1}function Cr(n,e,t,i){if(50<lf)throw lf=0,Ox=null,Error(H(185));bm(n,t,i),(!(ke&2)||n!==Xt)&&(n===Xt&&(!(ke&2)&&(C0|=t),Ot===4&&To(n,ln)),ei(n,i),t===1&&ke===0&&!(e.mode&1)&&(Qh=kt()+500,S0&&Ua()))}function ei(n,e){var t=n.callbackNode;$R(n,e);var i=gy(n,n===Xt?ln:0);if(i===0)t!==null&&kS(t),n.callbackNode=null,n.callbackPriority=0;else if(e=i&-i,n.callbackPriority!==e){if(t!=null&&kS(t),e===1)n.tag===0?HN(yA.bind(null,n)):gC(yA.bind(null,n)),jN(function(){!(ke&6)&&Ua()}),t=null;else{switch(Wk(i)){case 1:t=Ob;break;case 4:t=Hk;break;case 16:t=my;break;case 536870912:t=$k;break;default:t=my}t=p_(t,a_.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function a_(n,e){if(kg=-1,Cg=0,ke&6)throw Error(H(327));var t=n.callbackNode;if(fc()&&n.callbackNode!==t)return null;var i=gy(n,n===Xt?ln:0);if(i===0)return null;if(i&30||i&n.expiredLanes||e)e=Dy(n,i);else{e=i;var r=ke;ke|=2;var s=u_();(Xt!==n||ln!==e)&&(bs=null,Qh=kt()+500,yu(n,e));do try{uL();break}catch(a){l_(n,a)}while(!0);Kb(),Ny.current=s,ke=r,Rt!==null?e=0:(Xt=null,ln=0,e=Ot)}if(e!==0){if(e===2&&(r=cx(n),r!==0&&(i=r,e=jx(n,r))),e===1)throw t=Pf,yu(n,0),To(n,i),ei(n,kt()),t;if(e===6)To(n,i);else{if(r=n.current.alternate,!(i&30)&&!aL(r)&&(e=Dy(n,i),e===2&&(s=cx(n),s!==0&&(i=s,e=jx(n,s))),e===1))throw t=Pf,yu(n,0),To(n,i),ei(n,kt()),t;switch(n.finishedWork=r,n.finishedLanes=i,e){case 0:case 1:throw Error(H(345));case 2:qa(n,Kn,bs);break;case 3:if(To(n,i),(i&130023424)===i&&(e=h1+500-kt(),10<e)){if(gy(n,0)!==0)break;if(r=n.suspendedLanes,(r&i)!==i){Dn(),n.pingedLanes|=n.suspendedLanes&r;break}n.timeoutHandle=vx(qa.bind(null,n,Kn,bs),e);break}qa(n,Kn,bs);break;case 4:if(To(n,i),(i&4194240)===i)break;for(e=n.eventTimes,r=-1;0<i;){var o=31-kr(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=kt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*oL(i/1960))-i,10<i){n.timeoutHandle=vx(qa.bind(null,n,Kn,bs),i);break}qa(n,Kn,bs);break;case 5:qa(n,Kn,bs);break;default:throw Error(H(329))}}}return ei(n,kt()),n.callbackNode===t?a_.bind(null,n):null}function jx(n,e){var t=af;return n.current.memoizedState.isDehydrated&&(yu(n,e).flags|=256),n=Dy(n,e),n!==2&&(e=Kn,Kn=t,e!==null&&Bx(e)),n}function Bx(n){Kn===null?Kn=n:Kn.push.apply(Kn,n)}function aL(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var i=0;i<t.length;i++){var r=t[i],s=r.getSnapshot;r=r.value;try{if(!_r(s(),r))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function To(n,e){for(e&=~c1,e&=~C0,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-kr(e),i=1<<t;n[t]=-1,e&=~i}}function yA(n){if(ke&6)throw Error(H(327));fc();var e=gy(n,0);if(!(e&1))return ei(n,kt()),null;var t=Dy(n,e);if(n.tag!==0&&t===2){var i=cx(n);i!==0&&(e=i,t=jx(n,i))}if(t===1)throw t=Pf,yu(n,0),To(n,e),ei(n,kt()),t;if(t===6)throw Error(H(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,qa(n,Kn,bs),ei(n,kt()),null}function d1(n,e){var t=ke;ke|=1;try{return n(e)}finally{ke=t,ke===0&&(Qh=kt()+500,S0&&Ua())}}function Au(n){Ea!==null&&Ea.tag===0&&!(ke&6)&&fc();var e=ke;ke|=1;var t=er.transition,i=De;try{if(er.transition=null,De=1,n)return n()}finally{De=i,er.transition=t,ke=e,!(ke&6)&&Ua()}}function f1(){Ei=nc.current,et(nc)}function yu(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,ON(t)),Rt!==null)for(t=Rt.return;t!==null;){var i=t;switch(qb(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&by();break;case 3:Yh(),et(Jn),et(An),n1();break;case 5:t1(i);break;case 4:Yh();break;case 13:et(lt);break;case 19:et(lt);break;case 10:Qb(i.type._context);break;case 22:case 23:f1()}t=t.return}if(Xt=n,Rt=n=La(n.current,null),ln=Ei=e,Ot=0,Pf=null,c1=C0=Su=0,Kn=af=null,il!==null){for(e=0;e<il.length;e++)if(t=il[e],i=t.interleaved,i!==null){t.interleaved=null;var r=i.next,s=t.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}t.pending=i}il=null}return n}function l_(n,e){do{var t=Rt;try{if(Kb(),Sg.current=Ry,Py){for(var i=ct.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Py=!1}if(bu=0,qt=Ft=ct=null,sf=!1,Cf=0,u1.current=null,t===null||t.return===null){Ot=1,Pf=e,Rt=null;break}e:{var s=n,o=t.return,a=t,u=e;if(e=ln,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=rA(o);if(p!==null){p.flags&=-257,sA(p,o,a,s,e),p.mode&1&&iA(s,c,e),e=p,u=c;var v=e.updateQueue;if(v===null){var y=new Set;y.add(u),e.updateQueue=y}else v.add(u);break e}else{if(!(e&1)){iA(s,c,e),p1();break e}u=Error(H(426))}}else if(st&&a.mode&1){var E=rA(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),sA(E,o,a,s,e),Xb(Kh(u,a));break e}}s=u=Kh(u,a),Ot!==4&&(Ot=2),af===null?af=[s]:af.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=WC(s,u,e);QS(s,m);break e;case 1:a=u;var b=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ra===null||!Ra.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var k=GC(s,a,e);QS(s,k);break e}}s=s.return}while(s!==null)}h_(t)}catch(_){e=_,Rt===t&&t!==null&&(Rt=t=t.return);continue}break}while(!0)}function u_(){var n=Ny.current;return Ny.current=Ry,n===null?Ry:n}function p1(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Xt===null||!(Su&268435455)&&!(C0&268435455)||To(Xt,ln)}function Dy(n,e){var t=ke;ke|=2;var i=u_();(Xt!==n||ln!==e)&&(bs=null,yu(n,e));do try{lL();break}catch(r){l_(n,r)}while(!0);if(Kb(),ke=t,Ny.current=i,Rt!==null)throw Error(H(261));return Xt=null,ln=0,Ot}function lL(){for(;Rt!==null;)c_(Rt)}function uL(){for(;Rt!==null&&!DR();)c_(Rt)}function c_(n){var e=f_(n.alternate,n,Ei);n.memoizedProps=n.pendingProps,e===null?h_(n):Rt=e,u1.current=null}function h_(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=nL(t,e),t!==null){t.flags&=32767,Rt=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Ot=6,Rt=null;return}}else if(t=tL(t,e,Ei),t!==null){Rt=t;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=n}while(e!==null);Ot===0&&(Ot=5)}function qa(n,e,t){var i=De,r=er.transition;try{er.transition=null,De=1,cL(n,e,t,i)}finally{er.transition=r,De=i}return null}function cL(n,e,t,i){do fc();while(Ea!==null);if(ke&6)throw Error(H(327));t=n.finishedWork;var r=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(H(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(VR(n,s),n===Xt&&(Rt=Xt=null,ln=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||eg||(eg=!0,p_(my,function(){return fc(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=er.transition,er.transition=null;var o=De;De=1;var a=ke;ke|=4,u1.current=null,rL(n,t),s_(t,n),RN(gx),yy=!!mx,gx=mx=null,n.current=t,sL(t),IR(),ke=a,De=o,er.transition=s}else n.current=t;if(eg&&(eg=!1,Ea=n,My=r),s=n.pendingLanes,s===0&&(Ra=null),jR(t.stateNode),ei(n,kt()),e!==null)for(i=n.onRecoverableError,t=0;t<e.length;t++)r=e[t],i(r.value,{componentStack:r.stack,digest:r.digest});if(Ly)throw Ly=!1,n=Fx,Fx=null,n;return My&1&&n.tag!==0&&fc(),s=n.pendingLanes,s&1?n===Ox?lf++:(lf=0,Ox=n):lf=0,Ua(),null}function fc(){if(Ea!==null){var n=Wk(My),e=er.transition,t=De;try{if(er.transition=null,De=16>n?16:n,Ea===null)var i=!1;else{if(n=Ea,Ea=null,My=0,ke&6)throw Error(H(331));var r=ke;for(ke|=4,Z=n.current;Z!==null;){var s=Z,o=s.child;if(Z.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(Z=c;Z!==null;){var h=Z;switch(h.tag){case 0:case 11:case 15:of(8,h,s)}var d=h.child;if(d!==null)d.return=h,Z=d;else for(;Z!==null;){h=Z;var f=h.sibling,p=h.return;if(n_(h),h===c){Z=null;break}if(f!==null){f.return=p,Z=f;break}Z=p}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var E=y.sibling;y.sibling=null,y=E}while(y!==null)}}Z=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Z=o;else e:for(;Z!==null;){if(s=Z,s.flags&2048)switch(s.tag){case 0:case 11:case 15:of(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Z=m;break e}Z=s.return}}var b=n.current;for(Z=b;Z!==null;){o=Z;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,Z=x;else e:for(o=b;Z!==null;){if(a=Z,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:k0(9,a)}}catch(_){xt(a,a.return,_)}if(a===o){Z=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,Z=k;break e}Z=a.return}}if(ke=r,Ua(),cs&&typeof cs.onPostCommitFiberRoot=="function")try{cs.onPostCommitFiberRoot(y0,n)}catch{}i=!0}return i}finally{De=t,er.transition=e}}return!1}function vA(n,e,t){e=Kh(t,e),e=WC(n,e,1),n=Pa(n,e,1),e=Dn(),n!==null&&(bm(n,1,e),ei(n,e))}function xt(n,e,t){if(n.tag===3)vA(n,n,t);else for(;e!==null;){if(e.tag===3){vA(e,n,t);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ra===null||!Ra.has(i))){n=Kh(t,n),n=GC(e,n,1),e=Pa(e,n,1),n=Dn(),e!==null&&(bm(e,1,n),ei(e,n));break}}e=e.return}}function hL(n,e,t){var i=n.pingCache;i!==null&&i.delete(e),e=Dn(),n.pingedLanes|=n.suspendedLanes&t,Xt===n&&(ln&t)===t&&(Ot===4||Ot===3&&(ln&130023424)===ln&&500>kt()-h1?yu(n,0):c1|=t),ei(n,e)}function d_(n,e){e===0&&(n.mode&1?(e=Vm,Vm<<=1,!(Vm&130023424)&&(Vm=4194304)):e=1);var t=Dn();n=po(n,e),n!==null&&(bm(n,e,t),ei(n,t))}function dL(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),d_(n,t)}function fL(n,e){var t=0;switch(n.tag){case 13:var i=n.stateNode,r=n.memoizedState;r!==null&&(t=r.retryLane);break;case 19:i=n.stateNode;break;default:throw Error(H(314))}i!==null&&i.delete(e),d_(n,t)}var f_;f_=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Jn.current)Qn=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Qn=!1,eL(n,e,t);Qn=!!(n.flags&131072)}else Qn=!1,st&&e.flags&1048576&&yC(e,Ey,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Eg(n,e),n=e.pendingProps;var r=Gh(e,An.current);dc(e,t),r=r1(null,e,i,n,r,t);var s=s1();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zn(i)?(s=!0,Sy(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,Zb(e),r.updater=E0,e.stateNode=r,r._reactInternals=e,kx(e,i,n,t),e=Tx(null,e,i,!0,s,t)):(e.tag=0,st&&s&&Gb(e),Ln(null,e,r,t),e=e.child),e;case 16:i=e.elementType;e:{switch(Eg(n,e),n=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=mL(i),n=ur(i,n),r){case 0:e=_x(null,e,i,n,t);break e;case 1:e=lA(null,e,i,n,t);break e;case 11:e=oA(null,e,i,n,t);break e;case 14:e=aA(null,e,i,ur(i.type,n),t);break e}throw Error(H(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ur(i,r),_x(n,e,i,r,t);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ur(i,r),lA(n,e,i,r,t);case 3:e:{if(KC(e),n===null)throw Error(H(387));i=e.pendingProps,s=e.memoizedState,r=s.element,AC(n,e),_y(e,i,null,t);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Kh(Error(H(423)),e),e=uA(n,e,i,t,r);break e}else if(i!==r){r=Kh(Error(H(424)),e),e=uA(n,e,i,t,r);break e}else for(_i=Ta(e.stateNode.containerInfo.firstChild),Pi=e,st=!0,Ar=null,t=bC(e,null,i,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(qh(),i===r){e=mo(n,e,t);break e}Ln(n,e,i,t)}e=e.child}return e;case 5:return EC(e),n===null&&Sx(e),i=e.type,r=e.pendingProps,s=n!==null?n.memoizedProps:null,o=r.children,yx(i,r)?o=null:s!==null&&yx(i,s)&&(e.flags|=32),YC(n,e),Ln(n,e,o,t),e.child;case 6:return n===null&&Sx(e),null;case 13:return QC(n,e,t);case 4:return e1(e,e.stateNode.containerInfo),i=e.pendingProps,n===null?e.child=Xh(e,null,i,t):Ln(n,e,i,t),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ur(i,r),oA(n,e,i,r,t);case 7:return Ln(n,e,e.pendingProps,t),e.child;case 8:return Ln(n,e,e.pendingProps.children,t),e.child;case 12:return Ln(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,Ye(ky,i._currentValue),i._currentValue=o,s!==null)if(_r(s.value,o)){if(s.children===r.children&&!Jn.current){e=mo(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===i){if(s.tag===1){u=ao(-1,t&-t),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),Ax(s.return,t,e),a.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=t,a=o.alternate,a!==null&&(a.lanes|=t),Ax(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ln(n,e,r.children,t),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,dc(e,t),r=nr(r),i=i(r),e.flags|=1,Ln(n,e,i,t),e.child;case 14:return i=e.type,r=ur(i,e.pendingProps),r=ur(i.type,r),aA(n,e,i,r,t);case 15:return qC(n,e,e.type,e.pendingProps,t);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:ur(i,r),Eg(n,e),e.tag=1,Zn(i)?(n=!0,Sy(e)):n=!1,dc(e,t),VC(e,i,r),kx(e,i,r,t),Tx(null,e,i,!0,n,t);case 19:return JC(n,e,t);case 22:return XC(n,e,t)}throw Error(H(156,e.tag))};function p_(n,e){return Uk(n,e)}function pL(n,e,t,i){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zi(n,e,t,i){return new pL(n,e,t,i)}function m1(n){return n=n.prototype,!(!n||!n.isReactComponent)}function mL(n){if(typeof n=="function")return m1(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Db)return 11;if(n===Ib)return 14}return 2}function La(n,e){var t=n.alternate;return t===null?(t=Zi(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function _g(n,e,t,i,r,s){var o=2;if(i=n,typeof n=="function")m1(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Gu:return vu(t.children,r,s,e);case Mb:o=8,r|=8;break;case Yv:return n=Zi(12,t,e,r|2),n.elementType=Yv,n.lanes=s,n;case Kv:return n=Zi(13,t,e,r),n.elementType=Kv,n.lanes=s,n;case Qv:return n=Zi(19,t,e,r),n.elementType=Qv,n.lanes=s,n;case Ek:return _0(t,r,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Sk:o=10;break e;case Ak:o=9;break e;case Db:o=11;break e;case Ib:o=14;break e;case ko:o=16,i=null;break e}throw Error(H(130,n==null?n:typeof n,""))}return e=Zi(o,t,e,r),e.elementType=n,e.type=i,e.lanes=s,e}function vu(n,e,t,i){return n=Zi(7,n,i,e),n.lanes=t,n}function _0(n,e,t,i){return n=Zi(22,n,i,e),n.elementType=Ek,n.lanes=t,n.stateNode={isHidden:!1},n}function Ev(n,e,t){return n=Zi(6,n,null,e),n.lanes=t,n}function kv(n,e,t){return e=Zi(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function gL(n,e,t,i,r){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sv(0),this.expirationTimes=sv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sv(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function g1(n,e,t,i,r,s,o,a,u){return n=new gL(n,e,t,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zi(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:i,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zb(s),n}function yL(n,e,t){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wu,key:i==null?null:""+i,children:n,containerInfo:e,implementation:t}}function m_(n){if(!n)return Da;n=n._reactInternals;e:{if(_u(n)!==n||n.tag!==1)throw Error(H(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(n.tag===1){var t=n.type;if(Zn(t))return mC(n,t,e)}return e}function g_(n,e,t,i,r,s,o,a,u){return n=g1(t,i,!0,n,r,s,o,a,u),n.context=m_(null),t=n.current,i=Dn(),r=Na(t),s=ao(i,r),s.callback=e??null,Pa(t,s,r),n.current.lanes=r,bm(n,r,i),ei(n,i),n}function T0(n,e,t,i){var r=e.current,s=Dn(),o=Na(r);return t=m_(t),e.context===null?e.context=t:e.pendingContext=t,e=ao(s,o),e.payload={element:n},i=i===void 0?null:i,i!==null&&(e.callback=i),n=Pa(r,e,o),n!==null&&(Cr(n,r,o,s),bg(n,r,o)),o}function Iy(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function xA(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function y1(n,e){xA(n,e),(n=n.alternate)&&xA(n,e)}function vL(){return null}var y_=typeof reportError=="function"?reportError:function(n){console.error(n)};function v1(n){this._internalRoot=n}P0.prototype.render=v1.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(H(409));T0(n,e,null,null)};P0.prototype.unmount=v1.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;Au(function(){T0(null,n,null,null)}),e[fo]=null}};function P0(n){this._internalRoot=n}P0.prototype.unstable_scheduleHydration=function(n){if(n){var e=Xk();n={blockedOn:null,target:n,priority:e};for(var t=0;t<_o.length&&e!==0&&e<_o[t].priority;t++);_o.splice(t,0,n),t===0&&Kk(n)}};function x1(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function R0(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function wA(){}function xL(n,e,t,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var c=Iy(o);s.call(c)}}var o=g_(e,i,n,0,null,!1,!1,"",wA);return n._reactRootContainer=o,n[fo]=o.current,bf(n.nodeType===8?n.parentNode:n),Au(),o}for(;r=n.lastChild;)n.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var c=Iy(u);a.call(c)}}var u=g1(n,0,!1,null,null,!1,!1,"",wA);return n._reactRootContainer=u,n[fo]=u.current,bf(n.nodeType===8?n.parentNode:n),Au(function(){T0(e,u,t,i)}),u}function N0(n,e,t,i,r){var s=t._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var u=Iy(o);a.call(u)}}T0(e,o,n,r)}else o=xL(t,e,n,r,i);return Iy(o)}Gk=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Rd(e.pendingLanes);t!==0&&(jb(e,t|1),ei(e,kt()),!(ke&6)&&(Qh=kt()+500,Ua()))}break;case 13:Au(function(){var i=po(n,1);if(i!==null){var r=Dn();Cr(i,n,1,r)}}),y1(n,1)}};Bb=function(n){if(n.tag===13){var e=po(n,134217728);if(e!==null){var t=Dn();Cr(e,n,134217728,t)}y1(n,134217728)}};qk=function(n){if(n.tag===13){var e=Na(n),t=po(n,e);if(t!==null){var i=Dn();Cr(t,n,e,i)}y1(n,e)}};Xk=function(){return De};Yk=function(n,e){var t=De;try{return De=n,e()}finally{De=t}};ax=function(n,e,t){switch(e){case"input":if(ex(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var i=t[e];if(i!==n&&i.form===n.form){var r=b0(i);if(!r)throw Error(H(90));Ck(i),ex(i,r)}}}break;case"textarea":Tk(n,t);break;case"select":e=t.value,e!=null&&lc(n,!!t.multiple,e,!1)}};Ik=d1;Fk=Au;var wL={usingClientEntryPoint:!1,Events:[Am,Ku,b0,Mk,Dk,d1]},wd={findFiberByHostInstance:nl,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bL={bundleType:wd.bundleType,version:wd.version,rendererPackageName:wd.rendererPackageName,rendererConfig:wd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Bk(n),n===null?null:n.stateNode},findFiberByHostInstance:wd.findFiberByHostInstance||vL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var tg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!tg.isDisabled&&tg.supportsFiber)try{y0=tg.inject(bL),cs=tg}catch{}}Mi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wL;Mi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x1(e))throw Error(H(200));return yL(n,e,null,t)};Mi.createRoot=function(n,e){if(!x1(n))throw Error(H(299));var t=!1,i="",r=y_;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=g1(n,1,!1,null,null,t,!1,i,r),n[fo]=e.current,bf(n.nodeType===8?n.parentNode:n),new v1(e)};Mi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(H(188)):(n=Object.keys(n).join(","),Error(H(268,n)));return n=Bk(e),n=n===null?null:n.stateNode,n};Mi.flushSync=function(n){return Au(n)};Mi.hydrate=function(n,e,t){if(!R0(e))throw Error(H(200));return N0(null,n,e,!0,t)};Mi.hydrateRoot=function(n,e,t){if(!x1(n))throw Error(H(405));var i=t!=null&&t.hydratedSources||null,r=!1,s="",o=y_;if(t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=g_(e,null,n,1,t??null,r,!1,s,o),n[fo]=e.current,bf(n),i)for(n=0;n<i.length;n++)t=i[n],r=t._getVersion,r=r(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,r]:e.mutableSourceEagerHydrationData.push(t,r);return new P0(e)};Mi.render=function(n,e,t){if(!R0(e))throw Error(H(200));return N0(null,n,e,!1,t)};Mi.unmountComponentAtNode=function(n){if(!R0(n))throw Error(H(40));return n._reactRootContainer?(Au(function(){N0(null,null,n,!1,function(){n._reactRootContainer=null,n[fo]=null})}),!0):!1};Mi.unstable_batchedUpdates=d1;Mi.unstable_renderSubtreeIntoContainer=function(n,e,t,i){if(!R0(t))throw Error(H(200));if(n==null||n._reactInternals===void 0)throw Error(H(38));return N0(n,e,t,!1,i)};Mi.version="18.3.1-next-f1338f8080-20240426";function v_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v_)}catch(n){console.error(n)}}v_(),vk.exports=Mi;var SL=vk.exports,x_,bA=SL;x_=bA.createRoot,bA.hydrateRoot;/**
 * react-router v7.12.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var SA="popstate";function AL(n={}){function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return zx("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function t(i,r){return typeof r=="string"?r:Rf(r)}return kL(e,t,null,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Tr(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EL(){return Math.random().toString(36).substring(2,10)}function AA(n,e){return{usr:n.state,key:n.key,idx:e}}function zx(n,e,t=null,i){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?rd(e):e,state:t,key:e&&e.key||i||EL()}}function Rf({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function rd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substring(i),n=n.substring(0,i)),n&&(e.pathname=n)}return e}function kL(n,e,t,i={}){let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function d(){a="POP";let E=h(),m=E==null?null:E-c;c=E,u&&u({action:a,location:y.location,delta:m})}function f(E,m){a="PUSH";let b=zx(y.location,E,m);c=h()+1;let x=AA(b,c),k=y.createHref(b);try{o.pushState(x,"",k)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;r.location.assign(k)}s&&u&&u({action:a,location:y.location,delta:1})}function p(E,m){a="REPLACE";let b=zx(y.location,E,m);c=h();let x=AA(b,c),k=y.createHref(b);o.replaceState(x,"",k),s&&u&&u({action:a,location:y.location,delta:0})}function v(E){return CL(E)}let y={get action(){return a},get location(){return n(r,o)},listen(E){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(SA,d),u=E,()=>{r.removeEventListener(SA,d),u=null}},createHref(E){return e(r,E)},createURL:v,encodeLocation(E){let m=v(E);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:p,go(E){return o.go(E)}};return y}function CL(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let i=typeof n=="string"?n:Rf(n);return i=i.replace(/ $/,"%20"),!e&&i.startsWith("//")&&(i=t+i),new URL(i,t)}function w_(n,e,t="/"){return _L(n,e,t,!1)}function _L(n,e,t,i){let r=typeof e=="string"?rd(e):e,s=go(r.pathname||"/",t);if(s==null)return null;let o=b_(n);TL(o);let a=null;for(let u=0;a==null&&u<o.length;++u){let c=BL(s);a=OL(o[u],c,i)}return a}function b_(n,e=[],t=[],i="",r=!1){let s=(o,a,u=r,c)=>{let h={relativePath:c===void 0?o.path||"":c,caseSensitive:o.caseSensitive===!0,childrenIndex:a,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(i)&&u)return;ht(h.relativePath.startsWith(i),`Absolute route path "${h.relativePath}" nested under path "${i}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(i.length)}let d=lo([i,h.relativePath]),f=t.concat(h);o.children&&o.children.length>0&&(ht(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),b_(o.children,e,f,d,u)),!(o.path==null&&!o.index)&&e.push({path:d,score:IL(d,o.index),routesMeta:f})};return n.forEach((o,a)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))s(o,a);else for(let c of S_(o.path))s(o,a,!0,c)}),e}function S_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,r=t.endsWith("?"),s=t.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=S_(i.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),r&&a.push(...o),a.map(u=>n.startsWith("/")&&u===""?"/":u)}function TL(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:FL(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}var PL=/^:[\w-]+$/,RL=3,NL=2,LL=1,ML=10,DL=-2,EA=n=>n==="*";function IL(n,e){let t=n.split("/"),i=t.length;return t.some(EA)&&(i+=DL),e&&(i+=NL),t.filter(r=>!EA(r)).reduce((r,s)=>r+(PL.test(s)?RL:s===""?LL:ML),i)}function FL(n,e){return n.length===e.length&&n.slice(0,-1).every((i,r)=>i===e[r])?n[n.length-1]-e[e.length-1]:0}function OL(n,e,t=!1){let{routesMeta:i}=n,r={},s="/",o=[];for(let a=0;a<i.length;++a){let u=i[a],c=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Fy({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),f=u.route;if(!d&&c&&t&&!i[i.length-1].route.index&&(d=Fy({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:lo([s,d.pathname]),pathnameBase:$L(lo([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=lo([s,d.pathnameBase]))}return o}function Fy(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=jL(n.path,n.caseSensitive,n.end),r=e.match(t);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((c,{paramName:h,isOptional:d},f)=>{if(h==="*"){let v=a[f]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=a[f];return d&&!p?c[h]=void 0:c[h]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:n}}function jL(n,e=!1,t=!0){Tr(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let i=[],r="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,u)=>(i.push({paramName:a,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(i.push({paramName:"*"}),r+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?r+="\\/*$":n!==""&&n!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function BL(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Tr(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function go(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}var A_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zL=n=>A_.test(n);function UL(n,e="/"){let{pathname:t,search:i="",hash:r=""}=typeof n=="string"?rd(n):n,s;if(t)if(zL(t))s=t;else{if(t.includes("//")){let o=t;t=t.replace(/\/\/+/g,"/"),Tr(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${t}`)}t.startsWith("/")?s=kA(t.substring(1),"/"):s=kA(t,e)}else s=e;return{pathname:s,search:VL(i),hash:WL(r)}}function kA(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(r=>{r===".."?t.length>1&&t.pop():r!=="."&&t.push(r)}),t.length>1?t.join("/"):"/"}function Cv(n,e,t,i){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(i)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function HL(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function E_(n){let e=HL(n);return e.map((t,i)=>i===e.length-1?t.pathname:t.pathnameBase)}function k_(n,e,t,i=!1){let r;typeof n=="string"?r=rd(n):(r={...n},ht(!r.pathname||!r.pathname.includes("?"),Cv("?","pathname","search",r)),ht(!r.pathname||!r.pathname.includes("#"),Cv("#","pathname","hash",r)),ht(!r.search||!r.search.includes("#"),Cv("#","search","hash",r)));let s=n===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=t;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let u=UL(r,a),c=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&t.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var lo=n=>n.join("/").replace(/\/\/+/g,"/"),$L=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),VL=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,WL=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,GL=class{constructor(n,e,t,i=!1){this.status=n,this.statusText=e||"",this.internal=i,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function qL(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function XL(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var C_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function __(n,e){let t=n;if(typeof t!="string"||!A_.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let i=t,r=!1;if(C_)try{let s=new URL(window.location.href),o=t.startsWith("//")?new URL(s.protocol+t):new URL(t),a=go(o.pathname,e);o.origin===s.origin&&a!=null?t=a+o.search+o.hash:r=!0}catch{Tr(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:i,isExternal:r,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var T_=["POST","PUT","PATCH","DELETE"];new Set(T_);var YL=["GET",...T_];new Set(YL);var sd=N.createContext(null);sd.displayName="DataRouter";var L0=N.createContext(null);L0.displayName="DataRouterState";var KL=N.createContext(!1),P_=N.createContext({isTransitioning:!1});P_.displayName="ViewTransition";var QL=N.createContext(new Map);QL.displayName="Fetchers";var JL=N.createContext(null);JL.displayName="Await";var rr=N.createContext(null);rr.displayName="Navigation";var km=N.createContext(null);km.displayName="Location";var ps=N.createContext({outlet:null,matches:[],isDataRoute:!1});ps.displayName="Route";var w1=N.createContext(null);w1.displayName="RouteError";var R_="REACT_ROUTER_ERROR",ZL="REDIRECT",eM="ROUTE_ERROR_RESPONSE";function tM(n){if(n.startsWith(`${R_}:${ZL}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function nM(n){if(n.startsWith(`${R_}:${eM}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new GL(e.status,e.statusText,e.data)}catch{}}function iM(n,{relative:e}={}){ht(Cm(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:i}=N.useContext(rr),{hash:r,pathname:s,search:o}=_m(n,{relative:e}),a=s;return t!=="/"&&(a=s==="/"?t:lo([t,s])),i.createHref({pathname:a,search:o,hash:r})}function Cm(){return N.useContext(km)!=null}function Ha(){return ht(Cm(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(km).location}var N_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function L_(n){N.useContext(rr).static||N.useLayoutEffect(n)}function b1(){let{isDataRoute:n}=N.useContext(ps);return n?yM():rM()}function rM(){ht(Cm(),"useNavigate() may be used only in the context of a <Router> component.");let n=N.useContext(sd),{basename:e,navigator:t}=N.useContext(rr),{matches:i}=N.useContext(ps),{pathname:r}=Ha(),s=JSON.stringify(E_(i)),o=N.useRef(!1);return L_(()=>{o.current=!0}),N.useCallback((u,c={})=>{if(Tr(o.current,N_),!o.current)return;if(typeof u=="number"){t.go(u);return}let h=k_(u,JSON.parse(s),r,c.relative==="path");n==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:lo([e,h.pathname])),(c.replace?t.replace:t.push)(h,c.state,c)},[e,t,s,r,n])}N.createContext(null);function sM(){let{matches:n}=N.useContext(ps),e=n[n.length-1];return e?e.params:{}}function _m(n,{relative:e}={}){let{matches:t}=N.useContext(ps),{pathname:i}=Ha(),r=JSON.stringify(E_(t));return N.useMemo(()=>k_(n,JSON.parse(r),i,e==="path"),[n,r,i,e])}function oM(n,e){return M_(n,e)}function M_(n,e,t,i,r){var b;ht(Cm(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=N.useContext(rr),{matches:o}=N.useContext(ps),a=o[o.length-1],u=a?a.params:{},c=a?a.pathname:"/",h=a?a.pathnameBase:"/",d=a&&a.route;{let x=d&&d.path||"";I_(c,!d||x.endsWith("*")||x.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${x}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${x}"> to <Route path="${x==="/"?"*":`${x}/*`}">.`)}let f=Ha(),p;if(e){let x=typeof e=="string"?rd(e):e;ht(h==="/"||((b=x.pathname)==null?void 0:b.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${x.pathname}" was given in the \`location\` prop.`),p=x}else p=f;let v=p.pathname||"/",y=v;if(h!=="/"){let x=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let E=w_(n,{pathname:y});Tr(d||E!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),Tr(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let m=hM(E&&E.map(x=>Object.assign({},x,{params:Object.assign({},u,x.params),pathname:lo([h,s.encodeLocation?s.encodeLocation(x.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?h:lo([h,s.encodeLocation?s.encodeLocation(x.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:x.pathnameBase])})),o,t,i,r);return e&&m?N.createElement(km.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function aM(){let n=gM(),e=qL(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},o=null;return console.error("Error handled by React Router default ErrorBoundary:",n),o=N.createElement(N.Fragment,null,N.createElement("p",null," Hey developer "),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:s},"ErrorBoundary")," or"," ",N.createElement("code",{style:s},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},e),t?N.createElement("pre",{style:r},t):null,o)}var lM=N.createElement(aM,null),D_=class extends N.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=nM(n.digest);t&&(n=t)}let e=n!==void 0?N.createElement(ps.Provider,{value:this.props.routeContext},N.createElement(w1.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?N.createElement(uM,{error:n},e):e}};D_.contextType=KL;var _v=new WeakMap;function uM({children:n,error:e}){let{basename:t}=N.useContext(rr);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let i=tM(e.digest);if(i){let r=_v.get(e);if(r)throw r;let s=__(i.location,t);if(C_&&!_v.get(e))if(s.isExternal||i.reloadDocument)window.location.href=s.absoluteURL||s.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(s.to,{replace:i.replace}));throw _v.set(e,o),o}return N.createElement("meta",{httpEquiv:"refresh",content:`0;url=${s.absoluteURL||s.to}`})}}return n}function cM({routeContext:n,match:e,children:t}){let i=N.useContext(sd);return i&&i.static&&i.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=e.route.id),N.createElement(ps.Provider,{value:n},t)}function hM(n,e=[],t=null,i=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,o=t==null?void 0:t.errors;if(o!=null){let h=s.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);ht(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,h+1))}let a=!1,u=-1;if(t)for(let h=0;h<s.length;h++){let d=s[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:p}=t,v=d.route.loader&&!f.hasOwnProperty(d.route.id)&&(!p||p[d.route.id]===void 0);if(d.route.lazy||v){a=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}let c=t&&i?(h,d)=>{var f,p;i(h,{location:t.location,params:((p=(f=t.matches)==null?void 0:f[0])==null?void 0:p.params)??{},unstable_pattern:XL(t.matches),errorInfo:d})}:void 0;return s.reduceRight((h,d,f)=>{let p,v=!1,y=null,E=null;t&&(p=o&&d.route.id?o[d.route.id]:void 0,y=d.route.errorElement||lM,a&&(u<0&&f===0?(I_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,E=null):u===f&&(v=!0,E=d.route.hydrateFallbackElement||null)));let m=e.concat(s.slice(0,f+1)),b=()=>{let x;return p?x=y:v?x=E:d.route.Component?x=N.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,N.createElement(cM,{match:d,routeContext:{outlet:h,matches:m,isDataRoute:t!=null},children:x})};return t&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?N.createElement(D_,{location:t.location,revalidation:t.revalidation,component:y,error:p,children:b(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:c}):b()},null)}function S1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dM(n){let e=N.useContext(sd);return ht(e,S1(n)),e}function fM(n){let e=N.useContext(L0);return ht(e,S1(n)),e}function pM(n){let e=N.useContext(ps);return ht(e,S1(n)),e}function A1(n){let e=pM(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function mM(){return A1("useRouteId")}function gM(){var i;let n=N.useContext(w1),e=fM("useRouteError"),t=A1("useRouteError");return n!==void 0?n:(i=e.errors)==null?void 0:i[t]}function yM(){let{router:n}=dM("useNavigate"),e=A1("useNavigate"),t=N.useRef(!1);return L_(()=>{t.current=!0}),N.useCallback(async(r,s={})=>{Tr(t.current,N_),t.current&&(typeof r=="number"?await n.navigate(r):await n.navigate(r,{fromRouteId:e,...s}))},[n,e])}var CA={};function I_(n,e,t){!e&&!CA[n]&&(CA[n]=!0,Tr(!1,t))}N.memo(vM);function vM({routes:n,future:e,state:t,onError:i}){return M_(n,void 0,t,i,e)}function ys(n){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xM({basename:n="/",children:e=null,location:t,navigationType:i="POP",navigator:r,static:s=!1,unstable_useTransitions:o}){ht(!Cm(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let a=n.replace(/^\/*/,"/"),u=N.useMemo(()=>({basename:a,navigator:r,static:s,unstable_useTransitions:o,future:{}}),[a,r,s,o]);typeof t=="string"&&(t=rd(t));let{pathname:c="/",search:h="",hash:d="",state:f=null,key:p="default"}=t,v=N.useMemo(()=>{let y=go(c,a);return y==null?null:{location:{pathname:y,search:h,hash:d,state:f,key:p},navigationType:i}},[a,c,h,d,f,p,i]);return Tr(v!=null,`<Router basename="${a}"> is not able to match the URL "${c}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:N.createElement(rr.Provider,{value:u},N.createElement(km.Provider,{children:e,value:v}))}function wM({children:n,location:e}){return oM(Ux(n),e)}function Ux(n,e=[]){let t=[];return N.Children.forEach(n,(i,r)=>{if(!N.isValidElement(i))return;let s=[...e,r];if(i.type===N.Fragment){t.push.apply(t,Ux(i.props.children,s));return}ht(i.type===ys,`[${typeof i.type=="string"?i.type:i.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!i.props.index||!i.props.children,"An index route cannot have child routes.");let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,middleware:i.props.middleware,loader:i.props.loader,action:i.props.action,hydrateFallbackElement:i.props.hydrateFallbackElement,HydrateFallback:i.props.HydrateFallback,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.hasErrorBoundary===!0||i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Ux(i.props.children,s)),t.push(o)}),t}var Tg="get",Pg="application/x-www-form-urlencoded";function M0(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function bM(n){return M0(n)&&n.tagName.toLowerCase()==="button"}function SM(n){return M0(n)&&n.tagName.toLowerCase()==="form"}function AM(n){return M0(n)&&n.tagName.toLowerCase()==="input"}function EM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function kM(n,e){return n.button===0&&(!e||e==="_self")&&!EM(n)}var ng=null;function CM(){if(ng===null)try{new FormData(document.createElement("form"),0),ng=!1}catch{ng=!0}return ng}var _M=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Tv(n){return n!=null&&!_M.has(n)?(Tr(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Pg}"`),null):n}function TM(n,e){let t,i,r,s,o;if(SM(n)){let a=n.getAttribute("action");i=a?go(a,e):null,t=n.getAttribute("method")||Tg,r=Tv(n.getAttribute("enctype"))||Pg,s=new FormData(n)}else if(bM(n)||AM(n)&&(n.type==="submit"||n.type==="image")){let a=n.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=n.getAttribute("formaction")||a.getAttribute("action");if(i=u?go(u,e):null,t=n.getAttribute("formmethod")||a.getAttribute("method")||Tg,r=Tv(n.getAttribute("formenctype"))||Tv(a.getAttribute("enctype"))||Pg,s=new FormData(a,n),!CM()){let{name:c,type:h,value:d}=n;if(h==="image"){let f=c?`${c}.`:"";s.append(`${f}x`,"0"),s.append(`${f}y`,"0")}else c&&s.append(c,d)}}else{if(M0(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Tg,i=null,r=Pg,o=n}return s&&r==="text/plain"&&(o=s,s=void 0),{action:i,method:t.toLowerCase(),encType:r,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function E1(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function PM(n,e,t,i){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${i}`:r.pathname=`${r.pathname}.${i}`:r.pathname==="/"?r.pathname=`_root.${i}`:e&&go(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${i}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${i}`,r}async function RM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function NM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function LM(n,e,t){let i=await Promise.all(n.map(async r=>{let s=e.routes[r.route.id];if(s){let o=await RM(s,t);return o.links?o.links():[]}return[]}));return FM(i.flat(1).filter(NM).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function _A(n,e,t,i,r,s){let o=(u,c)=>t[c]?u.route.id!==t[c].route.id:!0,a=(u,c)=>{var h;return t[c].pathname!==u.pathname||((h=t[c].route.path)==null?void 0:h.endsWith("*"))&&t[c].params["*"]!==u.params["*"]};return s==="assets"?e.filter((u,c)=>o(u,c)||a(u,c)):s==="data"?e.filter((u,c)=>{var d;let h=i.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||a(u,c))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:((d=t[0])==null?void 0:d.params)||{},nextUrl:new URL(n,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function MM(n,e,{includeHydrateFallback:t}={}){return DM(n.map(i=>{let r=e.routes[i.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),t&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1))}function DM(n){return[...new Set(n)]}function IM(n){let e={},t=Object.keys(n).sort();for(let i of t)e[i]=n[i];return e}function FM(n,e){let t=new Set;return new Set(e),n.reduce((i,r)=>{let s=JSON.stringify(IM(r));return t.has(s)||(t.add(s),i.push({key:s,link:r})),i},[])}function F_(){let n=N.useContext(sd);return E1(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function OM(){let n=N.useContext(L0);return E1(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var k1=N.createContext(void 0);k1.displayName="FrameworkContext";function O_(){let n=N.useContext(k1);return E1(n,"You must render this element inside a <HydratedRouter> element"),n}function jM(n,e){let t=N.useContext(k1),[i,r]=N.useState(!1),[s,o]=N.useState(!1),{onFocus:a,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:d}=e,f=N.useRef(null);N.useEffect(()=>{if(n==="render"&&o(!0),n==="viewport"){let y=m=>{m.forEach(b=>{o(b.isIntersecting)})},E=new IntersectionObserver(y,{threshold:.5});return f.current&&E.observe(f.current),()=>{E.disconnect()}}},[n]),N.useEffect(()=>{if(i){let y=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(y)}}},[i]);let p=()=>{r(!0)},v=()=>{r(!1),o(!1)};return t?n!=="intent"?[s,f,{}]:[s,f,{onFocus:bd(a,p),onBlur:bd(u,v),onMouseEnter:bd(c,p),onMouseLeave:bd(h,v),onTouchStart:bd(d,p)}]:[!1,f,{}]}function bd(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function BM({page:n,...e}){let{router:t}=F_(),i=N.useMemo(()=>w_(t.routes,n,t.basename),[t.routes,n,t.basename]);return i?N.createElement(UM,{page:n,matches:i,...e}):null}function zM(n){let{manifest:e,routeModules:t}=O_(),[i,r]=N.useState([]);return N.useEffect(()=>{let s=!1;return LM(n,e,t).then(o=>{s||r(o)}),()=>{s=!0}},[n,e,t]),i}function UM({page:n,matches:e,...t}){let i=Ha(),{future:r,manifest:s,routeModules:o}=O_(),{basename:a}=F_(),{loaderData:u,matches:c}=OM(),h=N.useMemo(()=>_A(n,e,c,s,i,"data"),[n,e,c,s,i]),d=N.useMemo(()=>_A(n,e,c,s,i,"assets"),[n,e,c,s,i]),f=N.useMemo(()=>{if(n===i.pathname+i.search+i.hash)return[];let y=new Set,E=!1;if(e.forEach(b=>{var k;let x=s.routes[b.route.id];!x||!x.hasLoader||(!h.some(_=>_.route.id===b.route.id)&&b.route.id in u&&((k=o[b.route.id])!=null&&k.shouldRevalidate)||x.hasClientLoader?E=!0:y.add(b.route.id))}),y.size===0)return[];let m=PM(n,a,r.unstable_trailingSlashAwareDataRequests,"data");return E&&y.size>0&&m.searchParams.set("_routes",e.filter(b=>y.has(b.route.id)).map(b=>b.route.id).join(",")),[m.pathname+m.search]},[a,r.unstable_trailingSlashAwareDataRequests,u,i,s,h,e,n,o]),p=N.useMemo(()=>MM(d,s),[d,s]),v=zM(d);return N.createElement(N.Fragment,null,f.map(y=>N.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...t})),p.map(y=>N.createElement("link",{key:y,rel:"modulepreload",href:y,...t})),v.map(({key:y,link:E})=>N.createElement("link",{key:y,nonce:t.nonce,...E})))}function HM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var $M=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{$M&&(window.__reactRouterVersion="7.12.0")}catch{}function VM({basename:n,children:e,unstable_useTransitions:t,window:i}){let r=N.useRef();r.current==null&&(r.current=AL({window:i,v5Compat:!0}));let s=r.current,[o,a]=N.useState({action:s.action,location:s.location}),u=N.useCallback(c=>{t===!1?a(c):N.startTransition(()=>a(c))},[t]);return N.useLayoutEffect(()=>s.listen(u),[s,u]),N.createElement(xM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s,unstable_useTransitions:t})}var j_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wt=N.forwardRef(function({onClick:e,discover:t="render",prefetch:i="none",relative:r,reloadDocument:s,replace:o,state:a,target:u,to:c,preventScrollReset:h,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},v){let{basename:y,unstable_useTransitions:E}=N.useContext(rr),m=typeof c=="string"&&j_.test(c),b=__(c,y);c=b.to;let x=iM(c,{relative:r}),[k,_,C]=jM(i,p),P=XM(c,{replace:o,state:a,target:u,preventScrollReset:h,relative:r,viewTransition:d,unstable_defaultShouldRevalidate:f,unstable_useTransitions:E});function L(M){e&&e(M),M.defaultPrevented||P(M)}let D=N.createElement("a",{...p,...C,href:b.absoluteURL||x,onClick:b.isExternal||s?e:L,ref:HM(v,_),target:u,"data-discover":!m&&t==="render"?"true":void 0});return k&&!m?N.createElement(N.Fragment,null,D,N.createElement(BM,{page:x})):D});wt.displayName="Link";var WM=N.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:i="",end:r=!1,style:s,to:o,viewTransition:a,children:u,...c},h){let d=_m(o,{relative:c.relative}),f=Ha(),p=N.useContext(L0),{navigator:v,basename:y}=N.useContext(rr),E=p!=null&&ZM(d)&&a===!0,m=v.encodeLocation?v.encodeLocation(d).pathname:d.pathname,b=f.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;t||(b=b.toLowerCase(),x=x?x.toLowerCase():null,m=m.toLowerCase()),x&&y&&(x=go(x,y)||x);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let _=b===m||!r&&b.startsWith(m)&&b.charAt(k)==="/",C=x!=null&&(x===m||!r&&x.startsWith(m)&&x.charAt(m.length)==="/"),P={isActive:_,isPending:C,isTransitioning:E},L=_?e:void 0,D;typeof i=="function"?D=i(P):D=[i,_?"active":null,C?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let M=typeof s=="function"?s(P):s;return N.createElement(wt,{...c,"aria-current":L,className:D,ref:h,style:M,to:o,viewTransition:a},typeof u=="function"?u(P):u)});WM.displayName="NavLink";var GM=N.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:i,replace:r,state:s,method:o=Tg,action:a,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},v)=>{let{unstable_useTransitions:y}=N.useContext(rr),E=QM(),m=JM(a,{relative:c}),b=o.toLowerCase()==="get"?"get":"post",x=typeof a=="string"&&j_.test(a),k=_=>{if(u&&u(_),_.defaultPrevented)return;_.preventDefault();let C=_.nativeEvent.submitter,P=(C==null?void 0:C.getAttribute("formmethod"))||o,L=()=>E(C||_.currentTarget,{fetcherKey:e,method:P,navigate:t,replace:r,state:s,relative:c,preventScrollReset:h,viewTransition:d,unstable_defaultShouldRevalidate:f});y&&t!==!1?N.startTransition(()=>L()):L()};return N.createElement("form",{ref:v,method:b,action:m,onSubmit:i?u:k,...p,"data-discover":!x&&n==="render"?"true":void 0})});GM.displayName="Form";function qM(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function B_(n){let e=N.useContext(sd);return ht(e,qM(n)),e}function XM(n,{target:e,replace:t,state:i,preventScrollReset:r,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a,unstable_useTransitions:u}={}){let c=b1(),h=Ha(),d=_m(n,{relative:s});return N.useCallback(f=>{if(kM(f,e)){f.preventDefault();let p=t!==void 0?t:Rf(h)===Rf(d),v=()=>c(n,{replace:p,state:i,preventScrollReset:r,relative:s,viewTransition:o,unstable_defaultShouldRevalidate:a});u?N.startTransition(()=>v()):v()}},[h,c,d,t,i,e,n,r,s,o,a,u])}var YM=0,KM=()=>`__${String(++YM)}__`;function QM(){let{router:n}=B_("useSubmit"),{basename:e}=N.useContext(rr),t=mM(),i=n.fetch,r=n.navigate;return N.useCallback(async(s,o={})=>{let{action:a,method:u,encType:c,formData:h,body:d}=TM(s,e);if(o.navigate===!1){let f=o.fetcherKey||KM();await i(f,t,o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||u,formEncType:o.encType||c,flushSync:o.flushSync})}else await r(o.action||a,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:h,body:d,formMethod:o.method||u,formEncType:o.encType||c,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,r,e,t])}function JM(n,{relative:e}={}){let{basename:t}=N.useContext(rr),i=N.useContext(ps);ht(i,"useFormAction must be used inside a RouteContext");let[r]=i.matches.slice(-1),s={..._m(n||".",{relative:e})},o=Ha();if(n==null){s.search=o.search;let a=new URLSearchParams(s.search),u=a.getAll("index");if(u.some(h=>h==="")){a.delete("index"),u.filter(d=>d).forEach(d=>a.append("index",d));let h=a.toString();s.search=h?`?${h}`:""}}return(!n||n===".")&&r.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:lo([t,s.pathname])),Rf(s)}function ZM(n,{relative:e}={}){let t=N.useContext(P_);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=B_("useViewTransitionState"),r=_m(n,{relative:e});if(!t.isTransitioning)return!1;let s=go(t.currentLocation.pathname,i)||t.currentLocation.pathname,o=go(t.nextLocation.pathname,i)||t.nextLocation.pathname;return Fy(r.pathname,o)!=null||Fy(r.pathname,s)!=null}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var eD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),jn=(n,e)=>{const t=N.forwardRef(({color:i="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:u,...c},h)=>N.createElement("svg",{ref:h,...eD,width:r,height:r,stroke:i,strokeWidth:o?Number(s)*24/Number(r):s,className:["lucide",`lucide-${tD(n)}`,a].join(" "),...c},[...e.map(([d,f])=>N.createElement(d,f)),...Array.isArray(u)?u:[u]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=jn("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xa=jn("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=jn("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=jn("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=jn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rg=jn("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=jn("Instagram",[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=jn("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=jn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=jn("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=jn("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=jn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=jn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=jn("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=jn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function uD(){const[n,e]=N.useState(!1),t=()=>e(!n),i=[{label:"Home",path:"/"},{label:"About",path:"/about"},{label:"Our Team",path:"/team"},{label:"Articles",path:"/articles"},{label:"Join Us",path:"/join"},{label:"Contact",path:"/contact"}];return w.jsxs("header",{className:"fixed top-0 w-full bg-white/95 backdrop-blur-md border-b border-gray-200 z-50",children:[w.jsxs("nav",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center",children:[w.jsx(wt,{to:"/",className:"flex items-center",children:w.jsx("span",{className:"text-2xl font-serif font-bold text-slate-900",children:"Discourse"})}),w.jsx("div",{className:"hidden md:flex items-center gap-8",children:i.map(r=>w.jsx(wt,{to:r.path,className:"text-sm font-medium text-slate-700 hover:text-slate-900 transition-colors",children:r.label},r.path))}),w.jsx("div",{className:"hidden md:flex items-center gap-4",children:w.jsxs(wt,{to:"/submit",className:"text-sm font-medium px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2",children:[w.jsx(RA,{size:16}),"Submit Your Work"]})}),w.jsx("button",{onClick:t,className:"md:hidden p-2 text-slate-700 hover:text-slate-900",children:n?w.jsx(lD,{size:24}):w.jsx(sD,{size:24})})]}),n&&w.jsx("div",{className:"md:hidden bg-white border-t border-gray-200",children:w.jsxs("div",{className:"px-4 py-4 space-y-3",children:[i.map(r=>w.jsx(wt,{to:r.path,className:"block text-sm font-medium text-slate-700 hover:text-slate-900 py-2",onClick:()=>e(!1),children:r.label},r.path)),w.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:w.jsxs(wt,{to:"/submit",className:"block text-sm font-medium text-blue-600 hover:text-blue-700 py-2 flex items-center gap-2",onClick:()=>e(!1),children:[w.jsx(RA,{size:16}),"Submit Your Work"]})})]})})]})}function cD(){const n=new Date().getFullYear();return w.jsx("footer",{className:"bg-slate-900 text-gray-300",children:w.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-12 mb-12",children:[w.jsxs("div",{children:[w.jsx("h3",{className:"text-white font-serif text-xl font-bold mb-4",children:"Discourse"}),w.jsx("p",{className:"text-sm text-gray-400",children:"A student research journal dedicated to rigorous academic discourse and contemporary analysis."})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Quick Links"}),w.jsxs("ul",{className:"space-y-2 text-sm",children:[w.jsx("li",{children:w.jsx(wt,{to:"/",className:"hover:text-white transition-colors",children:"Home"})}),w.jsx("li",{children:w.jsx(wt,{to:"/about",className:"hover:text-white transition-colors",children:"About"})}),w.jsx("li",{children:w.jsx(wt,{to:"/articles",className:"hover:text-white transition-colors",children:"Articles"})}),w.jsx("li",{children:w.jsx(wt,{to:"/team",className:"hover:text-white transition-colors",children:"Our Team"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Resources"}),w.jsxs("ul",{className:"space-y-2 text-sm",children:[w.jsx("li",{children:w.jsx(wt,{to:"/join",className:"hover:text-white transition-colors",children:"Join Us"})}),w.jsx("li",{children:w.jsx(wt,{to:"/contact",className:"hover:text-white transition-colors",children:"Contact"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Archive"})}),w.jsx("li",{children:w.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Submissions"})})]})]}),w.jsxs("div",{children:[w.jsx("h4",{className:"text-white font-semibold mb-4 text-sm",children:"Connect"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(C1,{size:20})}),w.jsx("a",{href:"#",className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(z_,{size:20})}),w.jsx("a",{href:"mailto:hello@discourse.edu",className:"text-gray-400 hover:text-white transition-colors",children:w.jsx(_1,{size:20})})]})]})]}),w.jsxs("div",{className:"border-t border-gray-800 pt-8 flex flex-col md:flex-row justify-between items-center text-sm text-gray-400",children:[w.jsxs("p",{children:[" ",n," Discourse. All rights reserved."]}),w.jsxs("div",{className:"flex gap-6 mt-4 md:mt-0",children:[w.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy Policy"}),w.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Terms"})]})]})]})})}function U_({id:n,title:e,author:t,summary:i,issue:r,date:s,subject:o}){return w.jsx(wt,{to:`/articles/${n}`,children:w.jsx("article",{className:"group h-full",children:w.jsxs("div",{className:"flex flex-col h-full bg-white border border-gray-200 rounded-xl p-6 md:p-7 hover:border-blue-300 hover:shadow-lg transition-all duration-300 hover:-translate-y-1",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("span",{className:"text-xs text-blue-600 font-medium bg-blue-50 px-3 py-1 rounded-full border border-blue-200",children:r}),w.jsx("span",{className:"text-xs text-green-600 font-medium bg-green-50 px-3 py-1 rounded-full border border-green-200",children:o}),w.jsx("span",{className:"text-xs text-gray-500 font-medium",children:new Date(s).toLocaleDateString()})]}),w.jsx("h3",{className:"font-serif text-lg md:text-xl font-bold text-slate-900 mb-3 group-hover:text-blue-600 transition-colors line-clamp-2 leading-tight",children:e}),w.jsx("p",{className:"text-gray-600 text-sm mb-6 flex-grow leading-relaxed line-clamp-3",children:i}),w.jsxs("div",{className:"flex items-center justify-between pt-5 border-t border-gray-100",children:[w.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["By ",t]}),w.jsx("span",{className:"text-blue-600 group-hover:translate-x-1 transition-transform duration-200",children:w.jsx(Xa,{size:16})})]})]})})})}const hD=`---
id: "6"
title: "Beyond Motor Control: The Cognitive and Affective shifts post Cerebellar Dysfunction"
author: "Gabriel Pokorny"
summary: "This article examines how cerebellar lesions affect not only motor coordination but also cognitive and emotional functioning, supporting the framework of the Cerebellar Cognitive Affective Syndrome."
issue: "Spring 2026"
date: "2026-01-01"
published: true
subject: "Neuroscience"
pdfFile: "Gabe1.pdf"
---
`,dD=`---
id: "9"
title: "Using real world examples, evaluate two policies that governments might implement to reduce negative externalities of production associated with the environment."
author: "Jason Huang"
summary: "This article evaluates how governments can reduce environmental negative externalities of production by using realworld examples to compare the effectiveness, advantages, and limitations of Pigouvian taxes and government regulations."
issue: "Winter 2026"
date: "2026-01-17"
published: true
subject: "Economics"
pdfFile: "Jason1.pdf"
---
`,fD=`---
id: "8"
title: "How Lung Cancer Severity Can Be Predicted Using Machine-Learning Based on Different Risk Factors"
author: "Lila Ba"
summary: "This research explores the application of machine learning algorithms to predict lung cancer severity by analyzing various risk factors including genetic predisposition, environmental exposures, and lifestyle choices."
issue: "Winter 2026"
date: "2026-01-16"
published: true
subject: "Medical AI Research"
pdfFile: "Lila1.pdf"
---
`,pD=`---
id: "7"
title: "An introduction to the pursuit of Net Zero"
author: "Ryan Chan"
summary: "This article introduces the concept of net zero by explaining the greenhouse effect, anthropogenic climate change, and the role of sustainability, renewable energy, and policy in mitigating climate impacts."
issue: "Spring 2026"
date: "2026-01-01"
published: true
subject: "Climate Change"
---

# An introduction to the pursuit of Net Zero:
By Ryan Chan - Hong Kong

## Introduction

The pursuit of net zero has become a central principle of climate policy and strategy. According to the United Nations, net-zero simply means cutting anthropogenic carbon emissions to a small amount of residual emissions that can be absorbed and durably stored by nature and other carbon dioxide removal measures, leaving zero in the atmosphere (United Nations, 2024). The term net-zero is now increasingly relevant due to its relation with the greenhouse effect and climate change. To understand the pursuit of Net Zero, it is important to first gain a fundamental understanding of the greenhouse effect and its connection to climate change. This article, being the first of a series of articles surrounding sustainability, renewable energy and environmental policy under the umbrella of climate change aims to introduce fundamental concepts surrounding the greenhouse effect, climate change and the importance of net-zero. Hence, providing readers with a basis of understanding that will aid in their readings of future related articles.

## What is the greenhouse effect and how is it relevant to climate change?

Greenhouse gases are crucial to keeping our planet at a suitable temperature for life. Without the natural greenhouse effect, the heat emitted by the Earth would simply pass outwards from the Earths surface into space and the Earth would have an average temperature of about -20C (British Geological Survey, 2023). The name greenhouse gasses stems from its role in regulating Earths temperatures. Greenhouse gases act similarly to the glass in a greenhouse: they absorb the suns heat that radiates from the Earths surface, trap it in the atmosphere and prevent it from escaping into space (European Parliament, 2023).

## What do humans have to do with climate change?

The CO2 released from the burning of fossil fuels is accumulating as an insulating blanket around the Earth, trapping more of the Suns heat in our atmosphere. Actions carried out by humans are called anthropogenic actions and human activities have a tremendous impact on the carbon cycle. Burning fossil fuels, changing land use, and using limestone to make concrete all transfer significant quantities of carbon into the atmosphere (Noaa.gov, 2025). This is important because the anthropogenic release of CO2 is the main and most significant contributor to the current enhanced greenhouse effect, drastically disrupting the natural carbon cycles equilibrium that has been established and maintaining our planets temperatures for billions of years.

The large amounts of anthropogenic release of C02 that is occurring in the modern day disrupt the carbon cycle as each year, human activities release more carbon dioxide into the atmosphere than natural processes can remove, causing the amount of carbon dioxide in the atmosphere to increase. Specifically, fossil fuels like coal and oil contain the carbon from millions of years of photosynthesisthe process by which plants remove carbon dioxide from the atmosphereand humans are returning that carbon to the atmosphere at a rapid rate of just a few hundred years. Since the middle of the 20th century, annual emissions of carbon dioxide from burning fossil fuels have increased every decade, from close to 11 billion tons of carbon dioxide per year in the 1960s to an estimated 37.4 billion tons in 2024 according to the Global Carbon Budget 2024. This has led to a new record high of global average carbon dioxide in 2024: 422.7 parts per million ("ppm" for short) (NOAA Climate.gov, 2025).

## What are the implications of anthropogenic carbon emissions and the disruption of the delicate carbon cycle?

Record level highs of carbon dioxide being emitted into the atmosphere have exacerbated climate change, and the consequences of decades of ignorance of environmental sustainability amongst policy-makers and the general public are driving the Earth towards potentially irreversible tipping points, with climate change posing many risks to human beings and all other forms of life on Earth (United Nations, 2024). With the amount of carbon dioxide already greater than at any time in the last 3.6 million years, the ocean is now absorbing much of the carbon dioxide that is released from burning fossil fuels. This extra carbon dioxide is lowering the oceans pH through a process called ocean acidification.

Ocean acidification interferes with the ability of marine organisms (including corals, Dungeness crabs, and snails) to build their shells and skeletons. Moreover, examples of natural disasters exacerbated by climate change include recent once in a hundred years storms that have occurred more frequently in the 21st century (e.g. Hurricane Katrina, Superstorm Sandy, and Hurricane Maria), as higher temperatures cause more water vapor to be evaporated into the atmosphere which acts as fuel for more powerful storms. This heat and high ocean surface temperature also cause increased wind speed, which increases the mortality and damage risk for hurricanes and other storms (Nyu.edu, 2019).

## What role can sustainability, renewable energy and policy making play in the mitigation of anthropogenic caused climate change?

Sustainability, renewable energy, and effective policy making offer practical pathways to curbing the enhanced greenhouse effect. Sustainability practicessuch as reforestation, sustainable agriculture, and circular economiesenhance natural carbon sinks while minimizing waste and resource depletion. Renewable energy sources, including solar, wind, hydro, and geothermal, displace fossil fuels, directly slashing CO emissions; for instance, Ember Energy reports that growth in solar and wind pushed the world past 30% renewable electricity for the first time in 2023 (EMBER, 2024), with projections for further growth under supportive policies (IEA, 2024).

Effective policymaking accelerates this transition through mechanisms like carbon pricing, subsidies for clean technologies, international agreements such as the Paris Accord, and national net-zero targetsover 140 countries have now committed to net-zero by mid-century (United Nations, 2024). By integrating these elements, societies can reduce residual emissions to levels absorbable by nature and technology, averting the worst climate impacts and paving the way for a resilient, low-carbon future. This ideal foundational shift not only mitigates risks associated with climate change but also fosters economic innovation and equity, which will be further explored in subsequent articles.

## Citation list

British Geological Survey. The Greenhouse Effect. British Geological Survey, 2022.  
www.bgs.ac.uk/discovering-geology/climate-change/how-does-the-greenhouse-effect-work/.

EMBER. World Passes 30% Renewable Electricity Milestone | Ember. Ember, 7 May 2024.  
ember-energy.org/latest-updates/world-passes-30-renewable-electricity-milestone/.

European Parliament. Climate Change: The Greenhouse Gases Causing Global Warming. European Parliament, 23 Mar. 2023.  
www.europarl.europa.eu/topics/en/article/20230316STO77629/climate-change-the-greenhouse-gases-causing-global-warming.

IEA. Global Overview  Renewables 2024  Analysis. IEA, 2024.  
www.iea.org/reports/renewables-2024/global-overview.

Lindsey, Rebecca. Climate Change: Atmospheric Carbon Dioxide. Climate.gov, NOAA, 21 May 2025.  
www.climate.gov/news-features/understanding-climate/climate-change-atmospheric-carbon-dioxide.

National Oceanic and Atmospheric Administration. Carbon Cycle. NOAA, 1 Feb. 2019.  
www.noaa.gov/education/resource-collections/climate/carbon-cycle.

NYU School of Global Public Health. Natural Disasters.  
publichealth.nyu.edu/explore/what-is-climate-change/natural-disasters.

United Nations. Climate Action Fast Facts. United Nations, 2023.  
www.un.org/en/climatechange/science/key-findings#physical-science.`,mD=`---
id: "10"
title: "Economics Well-being IA based on 'Australia begins enforcing world-first teen social media ban'"
author: "Zijing Wu"
summary: "This article examines Australias worldfirst ban on social media for children under 16, analysing how the policy aims to reduce negative externalities from social media overuse while evaluating its impacts on the economic wellbeing of teenagers, the government, and social media platforms."
issue: "Winter 2026"
date: "2026-01-17"
published: true
subject: "Economics"
pdfFile: "Zijing1.pdf"
---
`,gD=`---
id: "2"
title: "The Ethics of Digital Scholarship"
author: "Michael Chen"
summary: "A critical examination of ethical considerations in the age of digital humanities and open-access publishing."
issue: "Spring 2026"
date: "2026-01-10"
published: false
subject: "Digital Ethics"
---

# The Ethics of Digital Scholarship

As scholarship increasingly moves into digital spaces, new ethical questions emerge about access, ownership, and the democratization of knowledge.

## Open Access and Equity

Digital platforms promise to democratize knowledge by removing traditional barriers to access. However, questions remain about who truly benefits from open-access models and whether they inadvertently create new forms of inequality.

## Data Privacy and Research Ethics

The digital age has brought unprecedented opportunities for data collection and analysis. Researchers must navigate complex ethical terrain regarding participant privacy, informed consent, and the responsible use of personal information.

## The Future of Scholarly Communication

As we move forward, the academic community must develop robust ethical frameworks that balance innovation with responsibility, ensuring that digital scholarship serves the common good.
`,yD=`---
id: "4"
title: "Interdisciplinary Approaches to Climate Research"
author: "Dr. Robert Martinez"
summary: "Exploring how cross-disciplinary collaboration can advance our understanding of climate change and inform policy solutions."
issue: "Fall 2025"
date: "2025-10-05"
published: false
subject: "Climate Science"
---

# Interdisciplinary Approaches to Climate Research

Climate change represents one of humanity's most complex challenges, requiring insights from natural sciences, social sciences, and humanities alike.

## The Need for Integration

No single discipline can adequately address the multifaceted nature of climate change. Effective solutions require synthesizing knowledge across traditional academic boundaries.

## Successful Collaborations

Recent interdisciplinary projects have demonstrated the power of combining perspectives from ecology, economics, sociology, and policy studies. These collaborations produce more comprehensive and actionable research.

## Moving Forward

Academic institutions must create structures that support and reward interdisciplinary work, recognizing that the most pressing challenges of our time demand collaborative approaches.
`,vD=`---
id: "3"
title: "Reimagining Peer Review in the 21st Century"
author: "Sarah Williams"
summary: "An analysis of traditional peer review processes and proposals for reform in contemporary academic publishing."
issue: "Fall 2025"
date: "2025-11-20"
published: False
subject: "Academic Publishing"
---

# Reimagining Peer Review in the 21st Century

Peer review has long been the gold standard for ensuring academic quality, but the system faces mounting criticism in the digital age.

## Current Challenges

Traditional peer review processes often involve lengthy delays, limited transparency, and potential bias. These issues have prompted calls for reform across multiple disciplines.

## Alternative Models

Open peer review, post-publication review, and collaborative evaluation models offer promising alternatives to traditional systems. Each approach brings unique benefits and challenges that merit serious consideration.

## Building a Better System

The future of peer review likely lies not in abandoning the system entirely, but in thoughtfully integrating new technologies and methodologies to create more efficient, transparent, and equitable evaluation processes.
`,xD=`---
id: "5"
title: "The Role of Mentorship in Academic Success"
author: "Emily Thompson"
summary: "Examining the critical importance of mentorship relationships in shaping successful academic careers."
issue: "Spring 2025"
date: "2025-04-12"
published: false
subject: "Education"
---

# The Role of Mentorship in Academic Success

Mentorship relationships profoundly shape academic trajectories, yet these connections often develop informally and unequally across different student populations.

## Beyond Technical Guidance

Effective mentorship extends beyond discipline-specific advice to include professional development, emotional support, and advocacy. The best mentors help mentees navigate both academic and personal challenges.

## Addressing Inequities

Students from underrepresented backgrounds often face additional barriers to finding mentors who understand their unique experiences. Institutions must work actively to ensure equitable access to mentorship.

## Creating Sustainable Systems

Rather than relying solely on informal relationships, universities should develop structured mentorship programs that provide consistent support to all students throughout their academic journeys.
`,wD=`---
id: "1"
title: "Student Identity and Global Discourse"
author: "Jane Doe"
summary: "An exploration of student identity within global scholarship, examining how young scholars navigate cultural boundaries in academic spaces."
issue: "Fall 2025"
date: "2026-01-15"
published: False
subject: "Identity Studies"
---

# Student Identity and Global Discourse

In an increasingly interconnected world, students find themselves at the crossroads of local and global identities. This article examines how contemporary scholars negotiate their sense of self within academic communities that span continents.

## The Challenge of Multiple Identities

Students today carry multiple identities simultaneously - national, cultural, linguistic, and disciplinary. Each of these identities informs their scholarship and shapes their contributions to academic discourse.

## Bridging Cultural Boundaries

The modern academic environment demands that students become cultural translators, capable of communicating complex ideas across diverse contexts while maintaining the integrity of their unique perspectives.

## Conclusion

As global discourse continues to evolve, students must develop strategies for preserving their authentic voices while engaging meaningfully with international scholarly communities.
`,NA=Object.assign({"../articles/Gabe1.md":hD,"../articles/Jason1.md":dD,"../articles/Lila1.md":fD,"../articles/Ryanc1.md":pD,"../articles/Zijing1.md":mD,"../articles/ethics-digital-scholarship.md":gD,"../articles/interdisciplinary-climate-research.md":yD,"../articles/reimagining-peer-review.md":vD,"../articles/role-mentorship-academic-success.md":xD,"../articles/student-identity-global-discourse.md":wD});function bD(n){const e=/^---\s*\n([\s\S]*?)\n---\s*\n([\s\S]*)$/,t=n.match(e);if(!t)return{data:{},content:n};const[,i,r]=t,s={};return i.split(`
`).forEach(o=>{const a=o.indexOf(":");if(a>0){const u=o.substring(0,a).trim();let c=o.substring(a+1).trim();(c.startsWith('"')&&c.endsWith('"')||c.startsWith("'")&&c.endsWith("'"))&&(c=c.slice(1,-1)),c==="true"&&(c=!0),c==="false"&&(c=!1),s[u]=c}}),{data:s,content:r}}function T1(){const n=[];for(const e in NA){const t=NA[e],{data:i,content:r}=bD(t);n.push({id:i.id,title:i.title,author:i.author,summary:i.summary,content:r.trim(),issue:i.issue,date:i.date,published:i.published??!0,subject:i.subject,pdfFile:i.pdfFile})}return n.filter(e=>e.published).sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime())}function SD(n){return T1().find(e=>e.id===n)}function AD(n){return`/pdfs/${n}`}function ED(){const n=T1().slice(0,3);return w.jsxs("div",{className:"min-h-screen bg-white",children:[w.jsxs("div",{className:"relative bg-gradient-to-br from-blue-50 via-white to-gray-50 overflow-hidden",children:[w.jsxs("div",{className:"absolute inset-0 opacity-40",children:[w.jsx("div",{className:"absolute top-0 right-0 w-96 h-96 bg-blue-100 rounded-full mix-blend-multiply filter blur-3xl"}),w.jsx("div",{className:"absolute bottom-0 left-0 w-96 h-96 bg-indigo-100 rounded-full mix-blend-multiply filter blur-3xl"})]}),w.jsx("div",{className:"relative pt-32 pb-24 px-4 sm:px-6 lg:px-8",children:w.jsx("div",{className:"max-w-5xl mx-auto",children:w.jsxs("div",{className:"text-center space-y-8",children:[w.jsx("div",{className:"animate-fade-in",children:w.jsxs("div",{className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-100 to-blue-50 text-blue-700 px-4 py-2 rounded-full text-sm font-semibold border border-blue-200 shadow-sm",children:[w.jsx(PA,{size:18,className:"animate-float"}),"Academic Discourse Reimagined"]})}),w.jsx("div",{className:"animate-fade-in animate-fade-in-delay-100",children:w.jsx("h1",{className:"font-serif text-6xl sm:text-7xl md:text-8xl font-bold text-slate-900 mb-0 leading-tight tracking-tight",children:"Discourse"})}),w.jsxs("div",{className:"animate-fade-in animate-fade-in-delay-200 space-y-4 max-w-2xl mx-auto",children:[w.jsx("p",{className:"text-xl md:text-2xl text-gray-700 font-light leading-relaxed",children:"Rigorous academic analysis. Contemporary discourse. Global perspectives."}),w.jsx("p",{className:"text-gray-600 text-lg",children:"A student-led research journal bridging scholarship and real-world impact"})]}),w.jsxs("div",{className:"animate-fade-in animate-fade-in-delay-300 flex gap-4 justify-center flex-wrap",children:[w.jsxs(wt,{to:"/articles",className:"group inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-4 rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 active:translate-y-0",children:["Read Latest Articles",w.jsx(Xa,{size:20,className:"group-hover:translate-x-1 transition-transform duration-200"})]}),w.jsxs(wt,{to:"/join",className:"group inline-flex items-center gap-2 bg-white text-blue-600 border-2 border-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 active:translate-y-0",children:["Contribute Your Work",w.jsx(Xa,{size:20,className:"group-hover:translate-x-1 transition-transform duration-200"})]})]})]})})}),w.jsx("svg",{className:"w-full h-auto",viewBox:"0 0 1200 120",preserveAspectRatio:"none",children:w.jsx("path",{d:"M0,50 Q300,100 600,50 T1200,50 L1200,120 L0,120 Z",fill:"white",opacity:"0.1"})})]}),w.jsx("div",{className:"bg-white py-24 px-4 sm:px-6 lg:px-8",children:w.jsx("div",{className:"max-w-5xl mx-auto",children:w.jsxs("div",{className:"animate-fade-in grid grid-cols-1 md:grid-cols-2 gap-8 md:gap-12 items-center",children:[w.jsxs("div",{className:"space-y-6",children:[w.jsx("div",{children:w.jsxs("h2",{className:"font-serif text-4xl md:text-5xl font-bold text-slate-900 mb-2 inline-block relative",children:["Our Mission",w.jsx("div",{className:"absolute bottom-0 left-0 w-16 h-1 bg-gradient-to-r from-blue-600 to-blue-400"})]})}),w.jsx("p",{className:"text-gray-700 text-lg leading-relaxed font-light",children:"Discourse is a student-led academic journal dedicated to publishing rigorous research, critical analysis, and innovative thinking on pressing global issues."}),w.jsx("p",{className:"text-gray-600 leading-relaxed text-lg",children:"We bring together diverse voices from universities worldwide to advance meaningful discourse on economics, environment, policy, technology, and society."}),w.jsxs(wt,{to:"/about",className:"inline-flex items-center gap-2 text-blue-600 font-semibold hover:text-blue-700 text-lg group transition-colors duration-200",children:["Learn our full story",w.jsx(Xa,{size:20,className:"group-hover:translate-x-1 transition-transform duration-200"})]})]}),w.jsxs("div",{className:"animate-fade-in animate-fade-in-delay-100 relative h-64 md:h-80",children:[w.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-100 via-blue-50 to-indigo-50 rounded-2xl"}),w.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:w.jsxs("div",{className:"relative",children:[w.jsx("div",{className:"absolute inset-0 bg-blue-200 rounded-full blur-3xl opacity-30 animate-pulse"}),w.jsx(PA,{size:80,className:"text-blue-400 relative z-10"})]})})]})]})})}),n.length>0&&w.jsx("div",{className:"bg-gray-50 py-24 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-6xl mx-auto",children:[w.jsxs("div",{className:"animate-fade-in mb-16 text-center",children:[w.jsxs("h2",{className:"font-serif text-4xl md:text-5xl font-bold text-slate-900 mb-4 inline-block relative",children:["Latest Articles",w.jsx("div",{className:"absolute bottom-0 left-1/2 transform -translate-x-1/2 w-20 h-1 bg-gradient-to-r from-blue-600 to-blue-400"})]}),w.jsx("p",{className:"text-gray-600 text-center max-w-2xl mx-auto text-lg mt-6",children:"Explore our most recent publications on research, policy, and contemporary issues"})]}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-16",children:n.map((e,t)=>{const i=t===0?"animate-fade-in":t===1?"animate-fade-in animate-fade-in-delay-100":"animate-fade-in animate-fade-in-delay-200";return w.jsx("div",{className:i,children:w.jsx(U_,{...e})},e.id)})}),w.jsx("div",{className:"text-center animate-fade-in animate-fade-in-delay-300",children:w.jsxs(wt,{to:"/articles",className:"inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-8 py-4 rounded-lg font-semibold hover:from-blue-700 hover:to-blue-800 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1 active:translate-y-0",children:["View all articles",w.jsx(Xa,{size:20,className:"group-hover:translate-x-1 transition-transform duration-200"})]})})]})}),w.jsx("div",{className:"py-24 px-4 sm:px-6 lg:px-8 bg-white",children:w.jsx("div",{className:"max-w-6xl mx-auto",children:w.jsxs("div",{className:"animate-fade-in bg-gradient-to-br from-blue-600 via-blue-700 to-indigo-800 rounded-3xl p-12 md:p-16 text-white shadow-2xl",children:[w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8 mb-12",children:[w.jsxs("div",{className:"text-center animate-fade-in animate-fade-in-delay-100",children:[w.jsx("div",{className:"text-4xl md:text-5xl font-bold text-blue-100 mb-3",children:"0"}),w.jsx("p",{className:"text-blue-50 font-medium text-sm md:text-base",children:"Contributors"})]}),w.jsxs("div",{className:"text-center animate-fade-in animate-fade-in-delay-200",children:[w.jsx("div",{className:"text-4xl md:text-5xl font-bold text-blue-100 mb-3",children:"0"}),w.jsx("p",{className:"text-blue-50 font-medium text-sm md:text-base",children:"Countries"})]}),w.jsxs("div",{className:"text-center animate-fade-in animate-fade-in-delay-300",children:[w.jsx("div",{className:"text-4xl md:text-5xl font-bold text-blue-100 mb-3",children:"0"}),w.jsx("p",{className:"text-blue-50 font-medium text-sm md:text-base",children:"Articles Published"})]}),w.jsxs("div",{className:"text-center animate-fade-in animate-fade-in-delay-400",children:[w.jsx("div",{className:"text-4xl md:text-5xl font-bold text-blue-100 mb-3",children:"0"}),w.jsx("p",{className:"text-blue-50 font-medium text-sm md:text-base",children:"Editorial Team"})]})]}),w.jsx("div",{className:"border-t border-blue-500/30 pt-8",children:w.jsx("p",{className:"text-center text-blue-50 text-lg font-light",children:"Uniting voices across continents in rigorous academic discourse"})})]})})}),w.jsxs("div",{className:"relative py-24 px-4 sm:px-6 lg:px-8 bg-gradient-to-r from-blue-600 to-blue-700 text-white overflow-hidden",children:[w.jsx("div",{className:"absolute inset-0 opacity-10",children:w.jsxs("svg",{className:"absolute inset-0 w-full h-full",viewBox:"0 0 1200 600",preserveAspectRatio:"none",children:[w.jsx("circle",{cx:"200",cy:"150",r:"100",fill:"white",opacity:"0.1"}),w.jsx("circle",{cx:"1000",cy:"400",r:"150",fill:"white",opacity:"0.1"})]})}),w.jsx("div",{className:"relative max-w-4xl mx-auto text-center",children:w.jsxs("div",{className:"animate-fade-in space-y-8",children:[w.jsx("div",{children:w.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-bold",children:"Join the Next Generation of Thinkers"})}),w.jsx("p",{className:"text-lg md:text-xl text-blue-100 max-w-2xl mx-auto leading-relaxed font-light",children:"Submit your research, share your ideas, and shape the future of academic conversation. We welcome contributions from researchers, students, and scholars worldwide."}),w.jsxs("div",{className:"flex gap-4 justify-center flex-wrap pt-4",children:[w.jsxs(wt,{to:"/join",className:"group inline-flex items-center gap-2 bg-white text-blue-600 px-8 py-4 rounded-lg font-semibold hover:bg-blue-50 transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 active:translate-y-0",children:["Start Contributing",w.jsx(Xa,{size:20,className:"group-hover:translate-x-1 transition-transform duration-200"})]}),w.jsxs(wt,{to:"/contact",className:"group inline-flex items-center gap-2 bg-blue-700 text-white px-8 py-4 rounded-lg font-semibold hover:bg-blue-800 transition-all duration-300 border-2 border-blue-400 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 active:translate-y-0",children:["Get in Touch",w.jsx(Xa,{size:20,className:"group-hover:translate-x-1 transition-transform duration-200"})]})]})]})})]})]})}function od({title:n,subtitle:e,centered:t=!0}){return w.jsxs("div",{className:`mb-12 ${t?"text-center":""}`,children:[w.jsx("h2",{className:"font-serif text-4xl md:text-5xl font-bold text-slate-900 mb-4",children:n}),e&&w.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:e})]})}function kD(){const[n,e]=N.useState("all"),[t,i]=N.useState("all"),r=T1(),s=N.useMemo(()=>[...new Set(r.map(c=>c.issue))].sort().reverse(),[]),o=N.useMemo(()=>[...new Set(r.map(c=>c.subject))].sort(),[]),a=N.useMemo(()=>{let u=r;return n!=="all"&&(u=u.filter(c=>c.issue===n)),t!=="all"&&(u=u.filter(c=>c.subject===t)),u.sort((c,h)=>new Date(h.date).getTime()-new Date(c.date).getTime())},[r,n,t]);return w.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsx(od,{title:"Articles",subtitle:"Explore rigorous research and analysis across multiple disciplines"}),s.length>1&&w.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:[w.jsx("button",{onClick:()=>e("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n==="all"?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Issues"}),s.map(u=>w.jsx("button",{onClick:()=>e(u),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${n===u?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:u},u))]}),o.length>1&&w.jsxs("div",{className:"flex flex-wrap gap-2 mb-8 justify-center",children:[w.jsx("button",{onClick:()=>i("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t==="all"?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All Subjects"}),o.map(u=>w.jsx("button",{onClick:()=>i(u),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${t===u?"bg-green-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:u},u))]}),a.length===0?w.jsx("div",{className:"text-center py-12",children:w.jsx("p",{className:"text-gray-500 text-lg",children:"No articles published yet."})}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:a.map(u=>w.jsx(U_,{...u},u.id))})]})})}function CD(n,e){const t={};return(n[n.length-1]===""?[...n,""]:n).join((t.padRight?" ":"")+","+(t.padLeft===!1?"":" ")).trim()}const _D=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,TD=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,PD={};function LA(n,e){return(PD.jsx?TD:_D).test(n)}const RD=/[ \t\n\f\r]/g;function ND(n){return typeof n=="object"?n.type==="text"?MA(n.value):!1:MA(n)}function MA(n){return n.replace(RD,"")===""}class Tm{constructor(e,t,i){this.normal=t,this.property=e,i&&(this.space=i)}}Tm.prototype.normal={};Tm.prototype.property={};Tm.prototype.space=void 0;function H_(n,e){const t={},i={};for(const r of n)Object.assign(t,r.property),Object.assign(i,r.normal);return new Tm(t,i,e)}function Hx(n){return n.toLowerCase()}class ni{constructor(e,t){this.attribute=t,this.property=e}}ni.prototype.attribute="";ni.prototype.booleanish=!1;ni.prototype.boolean=!1;ni.prototype.commaOrSpaceSeparated=!1;ni.prototype.commaSeparated=!1;ni.prototype.defined=!1;ni.prototype.mustUseProperty=!1;ni.prototype.number=!1;ni.prototype.overloadedBoolean=!1;ni.prototype.property="";ni.prototype.spaceSeparated=!1;ni.prototype.space=void 0;let LD=0;const fe=Tu(),Pt=Tu(),$x=Tu(),V=Tu(),Xe=Tu(),pc=Tu(),ri=Tu();function Tu(){return 2**++LD}const Vx=Object.freeze(Object.defineProperty({__proto__:null,boolean:fe,booleanish:Pt,commaOrSpaceSeparated:ri,commaSeparated:pc,number:V,overloadedBoolean:$x,spaceSeparated:Xe},Symbol.toStringTag,{value:"Module"})),Pv=Object.keys(Vx);class P1 extends ni{constructor(e,t,i,r){let s=-1;if(super(e,t),DA(this,"space",r),typeof i=="number")for(;++s<Pv.length;){const o=Pv[s];DA(this,Pv[s],(i&Vx[o])===Vx[o])}}}P1.prototype.defined=!0;function DA(n,e,t){t&&(n[e]=t)}function ad(n){const e={},t={};for(const[i,r]of Object.entries(n.properties)){const s=new P1(i,n.transform(n.attributes||{},i),r,n.space);n.mustUseProperty&&n.mustUseProperty.includes(i)&&(s.mustUseProperty=!0),e[i]=s,t[Hx(i)]=i,t[Hx(s.attribute)]=i}return new Tm(e,t,n.space)}const $_=ad({properties:{ariaActiveDescendant:null,ariaAtomic:Pt,ariaAutoComplete:null,ariaBusy:Pt,ariaChecked:Pt,ariaColCount:V,ariaColIndex:V,ariaColSpan:V,ariaControls:Xe,ariaCurrent:null,ariaDescribedBy:Xe,ariaDetails:null,ariaDisabled:Pt,ariaDropEffect:Xe,ariaErrorMessage:null,ariaExpanded:Pt,ariaFlowTo:Xe,ariaGrabbed:Pt,ariaHasPopup:null,ariaHidden:Pt,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Xe,ariaLevel:V,ariaLive:null,ariaModal:Pt,ariaMultiLine:Pt,ariaMultiSelectable:Pt,ariaOrientation:null,ariaOwns:Xe,ariaPlaceholder:null,ariaPosInSet:V,ariaPressed:Pt,ariaReadOnly:Pt,ariaRelevant:null,ariaRequired:Pt,ariaRoleDescription:Xe,ariaRowCount:V,ariaRowIndex:V,ariaRowSpan:V,ariaSelected:Pt,ariaSetSize:V,ariaSort:null,ariaValueMax:V,ariaValueMin:V,ariaValueNow:V,ariaValueText:null,role:null},transform(n,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}});function V_(n,e){return e in n?n[e]:e}function W_(n,e){return V_(n,e.toLowerCase())}const MD=ad({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:pc,acceptCharset:Xe,accessKey:Xe,action:null,allow:null,allowFullScreen:fe,allowPaymentRequest:fe,allowUserMedia:fe,alt:null,as:null,async:fe,autoCapitalize:null,autoComplete:Xe,autoFocus:fe,autoPlay:fe,blocking:Xe,capture:null,charSet:null,checked:fe,cite:null,className:Xe,cols:V,colSpan:null,content:null,contentEditable:Pt,controls:fe,controlsList:Xe,coords:V|pc,crossOrigin:null,data:null,dateTime:null,decoding:null,default:fe,defer:fe,dir:null,dirName:null,disabled:fe,download:$x,draggable:Pt,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:fe,formTarget:null,headers:Xe,height:V,hidden:$x,high:V,href:null,hrefLang:null,htmlFor:Xe,httpEquiv:Xe,id:null,imageSizes:null,imageSrcSet:null,inert:fe,inputMode:null,integrity:null,is:null,isMap:fe,itemId:null,itemProp:Xe,itemRef:Xe,itemScope:fe,itemType:Xe,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:fe,low:V,manifest:null,max:null,maxLength:V,media:null,method:null,min:null,minLength:V,multiple:fe,muted:fe,name:null,nonce:null,noModule:fe,noValidate:fe,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:fe,optimum:V,pattern:null,ping:Xe,placeholder:null,playsInline:fe,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:fe,referrerPolicy:null,rel:Xe,required:fe,reversed:fe,rows:V,rowSpan:V,sandbox:Xe,scope:null,scoped:fe,seamless:fe,selected:fe,shadowRootClonable:fe,shadowRootDelegatesFocus:fe,shadowRootMode:null,shape:null,size:V,sizes:null,slot:null,span:V,spellCheck:Pt,src:null,srcDoc:null,srcLang:null,srcSet:null,start:V,step:null,style:null,tabIndex:V,target:null,title:null,translate:null,type:null,typeMustMatch:fe,useMap:null,value:Pt,width:V,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Xe,axis:null,background:null,bgColor:null,border:V,borderColor:null,bottomMargin:V,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:fe,declare:fe,event:null,face:null,frame:null,frameBorder:null,hSpace:V,leftMargin:V,link:null,longDesc:null,lowSrc:null,marginHeight:V,marginWidth:V,noResize:fe,noHref:fe,noShade:fe,noWrap:fe,object:null,profile:null,prompt:null,rev:null,rightMargin:V,rules:null,scheme:null,scrolling:Pt,standby:null,summary:null,text:null,topMargin:V,valueType:null,version:null,vAlign:null,vLink:null,vSpace:V,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:fe,disableRemotePlayback:fe,prefix:null,property:null,results:V,security:null,unselectable:null},space:"html",transform:W_}),DD=ad({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:ri,accentHeight:V,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:V,amplitude:V,arabicForm:null,ascent:V,attributeName:null,attributeType:null,azimuth:V,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:V,by:null,calcMode:null,capHeight:V,className:Xe,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:V,diffuseConstant:V,direction:null,display:null,dur:null,divisor:V,dominantBaseline:null,download:fe,dx:null,dy:null,edgeMode:null,editable:null,elevation:V,enableBackground:null,end:null,event:null,exponent:V,externalResourcesRequired:null,fill:null,fillOpacity:V,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:pc,g2:pc,glyphName:pc,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:V,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:V,horizOriginX:V,horizOriginY:V,id:null,ideographic:V,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:V,k:V,k1:V,k2:V,k3:V,k4:V,kernelMatrix:ri,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:V,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:V,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:V,overlineThickness:V,paintOrder:null,panose1:null,path:null,pathLength:V,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Xe,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:V,pointsAtY:V,pointsAtZ:V,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:ri,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:ri,rev:ri,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:ri,requiredFeatures:ri,requiredFonts:ri,requiredFormats:ri,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:V,specularExponent:V,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:V,strikethroughThickness:V,string:null,stroke:null,strokeDashArray:ri,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:V,strokeOpacity:V,strokeWidth:null,style:null,surfaceScale:V,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:ri,tabIndex:V,tableValues:null,target:null,targetX:V,targetY:V,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:ri,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:V,underlineThickness:V,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:V,values:null,vAlphabetic:V,vMathematical:V,vectorEffect:null,vHanging:V,vIdeographic:V,version:null,vertAdvY:V,vertOriginX:V,vertOriginY:V,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:V,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:V_}),G_=ad({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(n,e){return"xlink:"+e.slice(5).toLowerCase()}}),q_=ad({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:W_}),X_=ad({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(n,e){return"xml:"+e.slice(3).toLowerCase()}}),ID={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},FD=/[A-Z]/g,IA=/-[a-z]/g,OD=/^data[-\w.:]+$/i;function jD(n,e){const t=Hx(e);let i=e,r=ni;if(t in n.normal)return n.property[n.normal[t]];if(t.length>4&&t.slice(0,4)==="data"&&OD.test(e)){if(e.charAt(4)==="-"){const s=e.slice(5).replace(IA,zD);i="data"+s.charAt(0).toUpperCase()+s.slice(1)}else{const s=e.slice(4);if(!IA.test(s)){let o=s.replace(FD,BD);o.charAt(0)!=="-"&&(o="-"+o),e="data"+o}}r=P1}return new r(i,e)}function BD(n){return"-"+n.toLowerCase()}function zD(n){return n.charAt(1).toUpperCase()}const UD=H_([$_,MD,G_,q_,X_],"html"),R1=H_([$_,DD,G_,q_,X_],"svg");function HD(n){return n.join(" ").trim()}var N1={},FA=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,$D=/\n/g,VD=/^\s*/,WD=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,GD=/^:\s*/,qD=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,XD=/^[;\s]*/,YD=/^\s+|\s+$/g,KD=`
`,OA="/",jA="*",Ja="",QD="comment",JD="declaration";function ZD(n,e){if(typeof n!="string")throw new TypeError("First argument must be a string");if(!n)return[];e=e||{};var t=1,i=1;function r(v){var y=v.match($D);y&&(t+=y.length);var E=v.lastIndexOf(KD);i=~E?v.length-E:i+v.length}function s(){var v={line:t,column:i};return function(y){return y.position=new o(v),c(),y}}function o(v){this.start=v,this.end={line:t,column:i},this.source=e.source}o.prototype.content=n;function a(v){var y=new Error(e.source+":"+t+":"+i+": "+v);if(y.reason=v,y.filename=e.source,y.line=t,y.column=i,y.source=n,!e.silent)throw y}function u(v){var y=v.exec(n);if(y){var E=y[0];return r(E),n=n.slice(E.length),y}}function c(){u(VD)}function h(v){var y;for(v=v||[];y=d();)y!==!1&&v.push(y);return v}function d(){var v=s();if(!(OA!=n.charAt(0)||jA!=n.charAt(1))){for(var y=2;Ja!=n.charAt(y)&&(jA!=n.charAt(y)||OA!=n.charAt(y+1));)++y;if(y+=2,Ja===n.charAt(y-1))return a("End of comment missing");var E=n.slice(2,y-2);return i+=2,r(E),n=n.slice(y),i+=2,v({type:QD,comment:E})}}function f(){var v=s(),y=u(WD);if(y){if(d(),!u(GD))return a("property missing ':'");var E=u(qD),m=v({type:JD,property:BA(y[0].replace(FA,Ja)),value:E?BA(E[0].replace(FA,Ja)):Ja});return u(XD),m}}function p(){var v=[];h(v);for(var y;y=f();)y!==!1&&(v.push(y),h(v));return v}return c(),p()}function BA(n){return n?n.replace(YD,Ja):Ja}var eI=ZD,tI=hy&&hy.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(N1,"__esModule",{value:!0});N1.default=iI;const nI=tI(eI);function iI(n,e){let t=null;if(!n||typeof n!="string")return t;const i=(0,nI.default)(n),r=typeof e=="function";return i.forEach(s=>{if(s.type!=="declaration")return;const{property:o,value:a}=s;r?e(o,a,s):a&&(t=t||{},t[o]=a)}),t}var D0={};Object.defineProperty(D0,"__esModule",{value:!0});D0.camelCase=void 0;var rI=/^--[a-zA-Z0-9_-]+$/,sI=/-([a-z])/g,oI=/^[^-]+$/,aI=/^-(webkit|moz|ms|o|khtml)-/,lI=/^-(ms)-/,uI=function(n){return!n||oI.test(n)||rI.test(n)},cI=function(n,e){return e.toUpperCase()},zA=function(n,e){return"".concat(e,"-")},hI=function(n,e){return e===void 0&&(e={}),uI(n)?n:(n=n.toLowerCase(),e.reactCompat?n=n.replace(lI,zA):n=n.replace(aI,zA),n.replace(sI,cI))};D0.camelCase=hI;var dI=hy&&hy.__importDefault||function(n){return n&&n.__esModule?n:{default:n}},fI=dI(N1),pI=D0;function Wx(n,e){var t={};return!n||typeof n!="string"||(0,fI.default)(n,function(i,r){i&&r&&(t[(0,pI.camelCase)(i,e)]=r)}),t}Wx.default=Wx;var mI=Wx;const gI=kb(mI),Y_=K_("end"),L1=K_("start");function K_(n){return e;function e(t){const i=t&&t.position&&t.position[n]||{};if(typeof i.line=="number"&&i.line>0&&typeof i.column=="number"&&i.column>0)return{line:i.line,column:i.column,offset:typeof i.offset=="number"&&i.offset>-1?i.offset:void 0}}}function yI(n){const e=L1(n),t=Y_(n);if(e&&t)return{start:e,end:t}}function uf(n){return!n||typeof n!="object"?"":"position"in n||"type"in n?UA(n.position):"start"in n||"end"in n?UA(n):"line"in n||"column"in n?Gx(n):""}function Gx(n){return HA(n&&n.line)+":"+HA(n&&n.column)}function UA(n){return Gx(n&&n.start)+"-"+Gx(n&&n.end)}function HA(n){return n&&typeof n=="number"?n:1}class En extends Error{constructor(e,t,i){super(),typeof t=="string"&&(i=t,t=void 0);let r="",s={},o=!1;if(t&&("line"in t&&"column"in t?s={place:t}:"start"in t&&"end"in t?s={place:t}:"type"in t?s={ancestors:[t],place:t.position}:s={...t}),typeof e=="string"?r=e:!s.cause&&e&&(o=!0,r=e.message,s.cause=e),!s.ruleId&&!s.source&&typeof i=="string"){const u=i.indexOf(":");u===-1?s.ruleId=i:(s.source=i.slice(0,u),s.ruleId=i.slice(u+1))}if(!s.place&&s.ancestors&&s.ancestors){const u=s.ancestors[s.ancestors.length-1];u&&(s.place=u.position)}const a=s.place&&"start"in s.place?s.place.start:s.place;this.ancestors=s.ancestors||void 0,this.cause=s.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=r,this.line=a?a.line:void 0,this.name=uf(s.place)||"1:1",this.place=s.place||void 0,this.reason=this.message,this.ruleId=s.ruleId||void 0,this.source=s.source||void 0,this.stack=o&&s.cause&&typeof s.cause.stack=="string"?s.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}En.prototype.file="";En.prototype.name="";En.prototype.reason="";En.prototype.message="";En.prototype.stack="";En.prototype.column=void 0;En.prototype.line=void 0;En.prototype.ancestors=void 0;En.prototype.cause=void 0;En.prototype.fatal=void 0;En.prototype.place=void 0;En.prototype.ruleId=void 0;En.prototype.source=void 0;const M1={}.hasOwnProperty,vI=new Map,xI=/[A-Z]/g,wI=new Set(["table","tbody","thead","tfoot","tr"]),bI=new Set(["td","th"]),Q_="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function SI(n,e){if(!e||e.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const t=e.filePath||void 0;let i;if(e.development){if(typeof e.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");i=RI(t,e.jsxDEV)}else{if(typeof e.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof e.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");i=PI(t,e.jsx,e.jsxs)}const r={Fragment:e.Fragment,ancestors:[],components:e.components||{},create:i,elementAttributeNameCase:e.elementAttributeNameCase||"react",evaluater:e.createEvaluater?e.createEvaluater():void 0,filePath:t,ignoreInvalidStyle:e.ignoreInvalidStyle||!1,passKeys:e.passKeys!==!1,passNode:e.passNode||!1,schema:e.space==="svg"?R1:UD,stylePropertyNameCase:e.stylePropertyNameCase||"dom",tableCellAlignToStyle:e.tableCellAlignToStyle!==!1},s=J_(r,n,void 0);return s&&typeof s!="string"?s:r.create(n,r.Fragment,{children:s||void 0},void 0)}function J_(n,e,t){if(e.type==="element")return AI(n,e,t);if(e.type==="mdxFlowExpression"||e.type==="mdxTextExpression")return EI(n,e);if(e.type==="mdxJsxFlowElement"||e.type==="mdxJsxTextElement")return CI(n,e,t);if(e.type==="mdxjsEsm")return kI(n,e);if(e.type==="root")return _I(n,e,t);if(e.type==="text")return TI(n,e)}function AI(n,e,t){const i=n.schema;let r=i;e.tagName.toLowerCase()==="svg"&&i.space==="html"&&(r=R1,n.schema=r),n.ancestors.push(e);const s=eT(n,e.tagName,!1),o=NI(n,e);let a=I1(n,e);return wI.has(e.tagName)&&(a=a.filter(function(u){return typeof u=="string"?!ND(u):!0})),Z_(n,o,s,e),D1(o,a),n.ancestors.pop(),n.schema=i,n.create(e,s,o,t)}function EI(n,e){if(e.data&&e.data.estree&&n.evaluater){const i=e.data.estree.body[0];return i.type,n.evaluater.evaluateExpression(i.expression)}Nf(n,e.position)}function kI(n,e){if(e.data&&e.data.estree&&n.evaluater)return n.evaluater.evaluateProgram(e.data.estree);Nf(n,e.position)}function CI(n,e,t){const i=n.schema;let r=i;e.name==="svg"&&i.space==="html"&&(r=R1,n.schema=r),n.ancestors.push(e);const s=e.name===null?n.Fragment:eT(n,e.name,!0),o=LI(n,e),a=I1(n,e);return Z_(n,o,s,e),D1(o,a),n.ancestors.pop(),n.schema=i,n.create(e,s,o,t)}function _I(n,e,t){const i={};return D1(i,I1(n,e)),n.create(e,n.Fragment,i,t)}function TI(n,e){return e.value}function Z_(n,e,t,i){typeof t!="string"&&t!==n.Fragment&&n.passNode&&(e.node=i)}function D1(n,e){if(e.length>0){const t=e.length>1?e:e[0];t&&(n.children=t)}}function PI(n,e,t){return i;function i(r,s,o,a){const c=Array.isArray(o.children)?t:e;return a?c(s,o,a):c(s,o)}}function RI(n,e){return t;function t(i,r,s,o){const a=Array.isArray(s.children),u=L1(i);return e(r,s,o,a,{columnNumber:u?u.column-1:void 0,fileName:n,lineNumber:u?u.line:void 0},void 0)}}function NI(n,e){const t={};let i,r;for(r in e.properties)if(r!=="children"&&M1.call(e.properties,r)){const s=MI(n,r,e.properties[r]);if(s){const[o,a]=s;n.tableCellAlignToStyle&&o==="align"&&typeof a=="string"&&bI.has(e.tagName)?i=a:t[o]=a}}if(i){const s=t.style||(t.style={});s[n.stylePropertyNameCase==="css"?"text-align":"textAlign"]=i}return t}function LI(n,e){const t={};for(const i of e.attributes)if(i.type==="mdxJsxExpressionAttribute")if(i.data&&i.data.estree&&n.evaluater){const s=i.data.estree.body[0];s.type;const o=s.expression;o.type;const a=o.properties[0];a.type,Object.assign(t,n.evaluater.evaluateExpression(a.argument))}else Nf(n,e.position);else{const r=i.name;let s;if(i.value&&typeof i.value=="object")if(i.value.data&&i.value.data.estree&&n.evaluater){const a=i.value.data.estree.body[0];a.type,s=n.evaluater.evaluateExpression(a.expression)}else Nf(n,e.position);else s=i.value===null?!0:i.value;t[r]=s}return t}function I1(n,e){const t=[];let i=-1;const r=n.passKeys?new Map:vI;for(;++i<e.children.length;){const s=e.children[i];let o;if(n.passKeys){const u=s.type==="element"?s.tagName:s.type==="mdxJsxFlowElement"||s.type==="mdxJsxTextElement"?s.name:void 0;if(u){const c=r.get(u)||0;o=u+"-"+c,r.set(u,c+1)}}const a=J_(n,s,o);a!==void 0&&t.push(a)}return t}function MI(n,e,t){const i=jD(n.schema,e);if(!(t==null||typeof t=="number"&&Number.isNaN(t))){if(Array.isArray(t)&&(t=i.commaSeparated?CD(t):HD(t)),i.property==="style"){let r=typeof t=="object"?t:DI(n,String(t));return n.stylePropertyNameCase==="css"&&(r=II(r)),["style",r]}return[n.elementAttributeNameCase==="react"&&i.space?ID[i.property]||i.property:i.attribute,t]}}function DI(n,e){try{return gI(e,{reactCompat:!0})}catch(t){if(n.ignoreInvalidStyle)return{};const i=t,r=new En("Cannot parse `style` attribute",{ancestors:n.ancestors,cause:i,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw r.file=n.filePath||void 0,r.url=Q_+"#cannot-parse-style-attribute",r}}function eT(n,e,t){let i;if(!t)i={type:"Literal",value:e};else if(e.includes(".")){const r=e.split(".");let s=-1,o;for(;++s<r.length;){const a=LA(r[s])?{type:"Identifier",name:r[s]}:{type:"Literal",value:r[s]};o=o?{type:"MemberExpression",object:o,property:a,computed:!!(s&&a.type==="Literal"),optional:!1}:a}i=o}else i=LA(e)&&!/^[a-z]/.test(e)?{type:"Identifier",name:e}:{type:"Literal",value:e};if(i.type==="Literal"){const r=i.value;return M1.call(n.components,r)?n.components[r]:r}if(n.evaluater)return n.evaluater.evaluateExpression(i);Nf(n)}function Nf(n,e){const t=new En("Cannot handle MDX estrees without `createEvaluater`",{ancestors:n.ancestors,place:e,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw t.file=n.filePath||void 0,t.url=Q_+"#cannot-handle-mdx-estrees-without-createevaluater",t}function II(n){const e={};let t;for(t in n)M1.call(n,t)&&(e[FI(t)]=n[t]);return e}function FI(n){let e=n.replace(xI,OI);return e.slice(0,3)==="ms-"&&(e="-"+e),e}function OI(n){return"-"+n.toLowerCase()}const Rv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},jI={};function BI(n,e){const t=jI,i=typeof t.includeImageAlt=="boolean"?t.includeImageAlt:!0,r=typeof t.includeHtml=="boolean"?t.includeHtml:!0;return tT(n,i,r)}function tT(n,e,t){if(zI(n)){if("value"in n)return n.type==="html"&&!t?"":n.value;if(e&&"alt"in n&&n.alt)return n.alt;if("children"in n)return $A(n.children,e,t)}return Array.isArray(n)?$A(n,e,t):""}function $A(n,e,t){const i=[];let r=-1;for(;++r<n.length;)i[r]=tT(n[r],e,t);return i.join("")}function zI(n){return!!(n&&typeof n=="object")}const VA=document.createElement("i");function F1(n){const e="&"+n+";";VA.innerHTML=e;const t=VA.textContent;return t.charCodeAt(t.length-1)===59&&n!=="semi"||t===e?!1:t}function ds(n,e,t,i){const r=n.length;let s=0,o;if(e<0?e=-e>r?0:r+e:e=e>r?r:e,t=t>0?t:0,i.length<1e4)o=Array.from(i),o.unshift(e,t),n.splice(...o);else for(t&&n.splice(e,t);s<i.length;)o=i.slice(s,s+1e4),o.unshift(e,0),n.splice(...o),s+=1e4,e+=1e4}function Ki(n,e){return n.length>0?(ds(n,n.length,0,e),n):e}const WA={}.hasOwnProperty;function UI(n){const e={};let t=-1;for(;++t<n.length;)HI(e,n[t]);return e}function HI(n,e){let t;for(t in e){const r=(WA.call(n,t)?n[t]:void 0)||(n[t]={}),s=e[t];let o;if(s)for(o in s){WA.call(r,o)||(r[o]=[]);const a=s[o];$I(r[o],Array.isArray(a)?a:a?[a]:[])}}}function $I(n,e){let t=-1;const i=[];for(;++t<e.length;)(e[t].add==="after"?n:i).push(e[t]);ds(n,0,0,i)}function nT(n,e){const t=Number.parseInt(n,e);return t<9||t===11||t>13&&t<32||t>126&&t<160||t>55295&&t<57344||t>64975&&t<65008||(t&65535)===65535||(t&65535)===65534||t>1114111?"":String.fromCodePoint(t)}function mc(n){return n.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const as=$a(/[A-Za-z]/),Ti=$a(/[\dA-Za-z]/),VI=$a(/[#-'*+\--9=?A-Z^-~]/);function qx(n){return n!==null&&(n<32||n===127)}const Xx=$a(/\d/),WI=$a(/[\dA-Fa-f]/),GI=$a(/[!-/:-@[-`{-~]/);function oe(n){return n!==null&&n<-2}function ti(n){return n!==null&&(n<0||n===32)}function Pe(n){return n===-2||n===-1||n===32}const qI=$a(new RegExp("\\p{P}|\\p{S}","u")),XI=$a(/\s/);function $a(n){return e;function e(t){return t!==null&&t>-1&&n.test(String.fromCharCode(t))}}function ld(n){const e=[];let t=-1,i=0,r=0;for(;++t<n.length;){const s=n.charCodeAt(t);let o="";if(s===37&&Ti(n.charCodeAt(t+1))&&Ti(n.charCodeAt(t+2)))r=2;else if(s<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(s))||(o=String.fromCharCode(s));else if(s>55295&&s<57344){const a=n.charCodeAt(t+1);s<56320&&a>56319&&a<57344?(o=String.fromCharCode(s,a),r=1):o=""}else o=String.fromCharCode(s);o&&(e.push(n.slice(i,t),encodeURIComponent(o)),i=t+r+1,o=""),r&&(t+=r,r=0)}return e.join("")+n.slice(i)}function Ke(n,e,t,i){const r=i?i-1:Number.POSITIVE_INFINITY;let s=0;return o;function o(u){return Pe(u)?(n.enter(t),a(u)):e(u)}function a(u){return Pe(u)&&s++<r?(n.consume(u),a):(n.exit(t),e(u))}}const YI={tokenize:KI};function KI(n){const e=n.attempt(this.parser.constructs.contentInitial,i,r);let t;return e;function i(a){if(a===null){n.consume(a);return}return n.enter("lineEnding"),n.consume(a),n.exit("lineEnding"),Ke(n,e,"linePrefix")}function r(a){return n.enter("paragraph"),s(a)}function s(a){const u=n.enter("chunkText",{contentType:"text",previous:t});return t&&(t.next=u),t=u,o(a)}function o(a){if(a===null){n.exit("chunkText"),n.exit("paragraph"),n.consume(a);return}return oe(a)?(n.consume(a),n.exit("chunkText"),s):(n.consume(a),o)}}const QI={tokenize:JI},GA={tokenize:ZI};function JI(n){const e=this,t=[];let i=0,r,s,o;return a;function a(x){if(i<t.length){const k=t[i];return e.containerState=k[1],n.attempt(k[0].continuation,u,c)(x)}return c(x)}function u(x){if(i++,e.containerState._closeFlow){e.containerState._closeFlow=void 0,r&&b();const k=e.events.length;let _=k,C;for(;_--;)if(e.events[_][0]==="exit"&&e.events[_][1].type==="chunkFlow"){C=e.events[_][1].end;break}m(i);let P=k;for(;P<e.events.length;)e.events[P][1].end={...C},P++;return ds(e.events,_+1,0,e.events.slice(k)),e.events.length=P,c(x)}return a(x)}function c(x){if(i===t.length){if(!r)return f(x);if(r.currentConstruct&&r.currentConstruct.concrete)return v(x);e.interrupt=!!(r.currentConstruct&&!r._gfmTableDynamicInterruptHack)}return e.containerState={},n.check(GA,h,d)(x)}function h(x){return r&&b(),m(i),f(x)}function d(x){return e.parser.lazy[e.now().line]=i!==t.length,o=e.now().offset,v(x)}function f(x){return e.containerState={},n.attempt(GA,p,v)(x)}function p(x){return i++,t.push([e.currentConstruct,e.containerState]),f(x)}function v(x){if(x===null){r&&b(),m(0),n.consume(x);return}return r=r||e.parser.flow(e.now()),n.enter("chunkFlow",{_tokenizer:r,contentType:"flow",previous:s}),y(x)}function y(x){if(x===null){E(n.exit("chunkFlow"),!0),m(0),n.consume(x);return}return oe(x)?(n.consume(x),E(n.exit("chunkFlow")),i=0,e.interrupt=void 0,a):(n.consume(x),y)}function E(x,k){const _=e.sliceStream(x);if(k&&_.push(null),x.previous=s,s&&(s.next=x),s=x,r.defineSkip(x.start),r.write(_),e.parser.lazy[x.start.line]){let C=r.events.length;for(;C--;)if(r.events[C][1].start.offset<o&&(!r.events[C][1].end||r.events[C][1].end.offset>o))return;const P=e.events.length;let L=P,D,M;for(;L--;)if(e.events[L][0]==="exit"&&e.events[L][1].type==="chunkFlow"){if(D){M=e.events[L][1].end;break}D=!0}for(m(i),C=P;C<e.events.length;)e.events[C][1].end={...M},C++;ds(e.events,L+1,0,e.events.slice(P)),e.events.length=C}}function m(x){let k=t.length;for(;k-- >x;){const _=t[k];e.containerState=_[1],_[0].exit.call(e,n)}t.length=x}function b(){r.write([null]),s=void 0,r=void 0,e.containerState._closeFlow=void 0}}function ZI(n,e,t){return Ke(n,n.attempt(this.parser.constructs.document,e,t),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function qA(n){if(n===null||ti(n)||XI(n))return 1;if(qI(n))return 2}function O1(n,e,t){const i=[];let r=-1;for(;++r<n.length;){const s=n[r].resolveAll;s&&!i.includes(s)&&(e=s(e,t),i.push(s))}return e}const Yx={name:"attention",resolveAll:eF,tokenize:tF};function eF(n,e){let t=-1,i,r,s,o,a,u,c,h;for(;++t<n.length;)if(n[t][0]==="enter"&&n[t][1].type==="attentionSequence"&&n[t][1]._close){for(i=t;i--;)if(n[i][0]==="exit"&&n[i][1].type==="attentionSequence"&&n[i][1]._open&&e.sliceSerialize(n[i][1]).charCodeAt(0)===e.sliceSerialize(n[t][1]).charCodeAt(0)){if((n[i][1]._close||n[t][1]._open)&&(n[t][1].end.offset-n[t][1].start.offset)%3&&!((n[i][1].end.offset-n[i][1].start.offset+n[t][1].end.offset-n[t][1].start.offset)%3))continue;u=n[i][1].end.offset-n[i][1].start.offset>1&&n[t][1].end.offset-n[t][1].start.offset>1?2:1;const d={...n[i][1].end},f={...n[t][1].start};XA(d,-u),XA(f,u),o={type:u>1?"strongSequence":"emphasisSequence",start:d,end:{...n[i][1].end}},a={type:u>1?"strongSequence":"emphasisSequence",start:{...n[t][1].start},end:f},s={type:u>1?"strongText":"emphasisText",start:{...n[i][1].end},end:{...n[t][1].start}},r={type:u>1?"strong":"emphasis",start:{...o.start},end:{...a.end}},n[i][1].end={...o.start},n[t][1].start={...a.end},c=[],n[i][1].end.offset-n[i][1].start.offset&&(c=Ki(c,[["enter",n[i][1],e],["exit",n[i][1],e]])),c=Ki(c,[["enter",r,e],["enter",o,e],["exit",o,e],["enter",s,e]]),c=Ki(c,O1(e.parser.constructs.insideSpan.null,n.slice(i+1,t),e)),c=Ki(c,[["exit",s,e],["enter",a,e],["exit",a,e],["exit",r,e]]),n[t][1].end.offset-n[t][1].start.offset?(h=2,c=Ki(c,[["enter",n[t][1],e],["exit",n[t][1],e]])):h=0,ds(n,i-1,t-i+3,c),t=i+c.length-h-2;break}}for(t=-1;++t<n.length;)n[t][1].type==="attentionSequence"&&(n[t][1].type="data");return n}function tF(n,e){const t=this.parser.constructs.attentionMarkers.null,i=this.previous,r=qA(i);let s;return o;function o(u){return s=u,n.enter("attentionSequence"),a(u)}function a(u){if(u===s)return n.consume(u),a;const c=n.exit("attentionSequence"),h=qA(u),d=!h||h===2&&r||t.includes(u),f=!r||r===2&&h||t.includes(i);return c._open=!!(s===42?d:d&&(r||!f)),c._close=!!(s===42?f:f&&(h||!d)),e(u)}}function XA(n,e){n.column+=e,n.offset+=e,n._bufferIndex+=e}const nF={name:"autolink",tokenize:iF};function iF(n,e,t){let i=0;return r;function r(p){return n.enter("autolink"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.enter("autolinkProtocol"),s}function s(p){return as(p)?(n.consume(p),o):p===64?t(p):c(p)}function o(p){return p===43||p===45||p===46||Ti(p)?(i=1,a(p)):c(p)}function a(p){return p===58?(n.consume(p),i=0,u):(p===43||p===45||p===46||Ti(p))&&i++<32?(n.consume(p),a):(i=0,c(p))}function u(p){return p===62?(n.exit("autolinkProtocol"),n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),e):p===null||p===32||p===60||qx(p)?t(p):(n.consume(p),u)}function c(p){return p===64?(n.consume(p),h):VI(p)?(n.consume(p),c):t(p)}function h(p){return Ti(p)?d(p):t(p)}function d(p){return p===46?(n.consume(p),i=0,h):p===62?(n.exit("autolinkProtocol").type="autolinkEmail",n.enter("autolinkMarker"),n.consume(p),n.exit("autolinkMarker"),n.exit("autolink"),e):f(p)}function f(p){if((p===45||Ti(p))&&i++<63){const v=p===45?f:d;return n.consume(p),v}return t(p)}}const I0={partial:!0,tokenize:rF};function rF(n,e,t){return i;function i(s){return Pe(s)?Ke(n,r,"linePrefix")(s):r(s)}function r(s){return s===null||oe(s)?e(s):t(s)}}const iT={continuation:{tokenize:oF},exit:aF,name:"blockQuote",tokenize:sF};function sF(n,e,t){const i=this;return r;function r(o){if(o===62){const a=i.containerState;return a.open||(n.enter("blockQuote",{_container:!0}),a.open=!0),n.enter("blockQuotePrefix"),n.enter("blockQuoteMarker"),n.consume(o),n.exit("blockQuoteMarker"),s}return t(o)}function s(o){return Pe(o)?(n.enter("blockQuotePrefixWhitespace"),n.consume(o),n.exit("blockQuotePrefixWhitespace"),n.exit("blockQuotePrefix"),e):(n.exit("blockQuotePrefix"),e(o))}}function oF(n,e,t){const i=this;return r;function r(o){return Pe(o)?Ke(n,s,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o):s(o)}function s(o){return n.attempt(iT,e,t)(o)}}function aF(n){n.exit("blockQuote")}const rT={name:"characterEscape",tokenize:lF};function lF(n,e,t){return i;function i(s){return n.enter("characterEscape"),n.enter("escapeMarker"),n.consume(s),n.exit("escapeMarker"),r}function r(s){return GI(s)?(n.enter("characterEscapeValue"),n.consume(s),n.exit("characterEscapeValue"),n.exit("characterEscape"),e):t(s)}}const sT={name:"characterReference",tokenize:uF};function uF(n,e,t){const i=this;let r=0,s,o;return a;function a(d){return n.enter("characterReference"),n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),u}function u(d){return d===35?(n.enter("characterReferenceMarkerNumeric"),n.consume(d),n.exit("characterReferenceMarkerNumeric"),c):(n.enter("characterReferenceValue"),s=31,o=Ti,h(d))}function c(d){return d===88||d===120?(n.enter("characterReferenceMarkerHexadecimal"),n.consume(d),n.exit("characterReferenceMarkerHexadecimal"),n.enter("characterReferenceValue"),s=6,o=WI,h):(n.enter("characterReferenceValue"),s=7,o=Xx,h(d))}function h(d){if(d===59&&r){const f=n.exit("characterReferenceValue");return o===Ti&&!F1(i.sliceSerialize(f))?t(d):(n.enter("characterReferenceMarker"),n.consume(d),n.exit("characterReferenceMarker"),n.exit("characterReference"),e)}return o(d)&&r++<s?(n.consume(d),h):t(d)}}const YA={partial:!0,tokenize:hF},KA={concrete:!0,name:"codeFenced",tokenize:cF};function cF(n,e,t){const i=this,r={partial:!0,tokenize:_};let s=0,o=0,a;return u;function u(C){return c(C)}function c(C){const P=i.events[i.events.length-1];return s=P&&P[1].type==="linePrefix"?P[2].sliceSerialize(P[1],!0).length:0,a=C,n.enter("codeFenced"),n.enter("codeFencedFence"),n.enter("codeFencedFenceSequence"),h(C)}function h(C){return C===a?(o++,n.consume(C),h):o<3?t(C):(n.exit("codeFencedFenceSequence"),Pe(C)?Ke(n,d,"whitespace")(C):d(C))}function d(C){return C===null||oe(C)?(n.exit("codeFencedFence"),i.interrupt?e(C):n.check(YA,y,k)(C)):(n.enter("codeFencedFenceInfo"),n.enter("chunkString",{contentType:"string"}),f(C))}function f(C){return C===null||oe(C)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),d(C)):Pe(C)?(n.exit("chunkString"),n.exit("codeFencedFenceInfo"),Ke(n,p,"whitespace")(C)):C===96&&C===a?t(C):(n.consume(C),f)}function p(C){return C===null||oe(C)?d(C):(n.enter("codeFencedFenceMeta"),n.enter("chunkString",{contentType:"string"}),v(C))}function v(C){return C===null||oe(C)?(n.exit("chunkString"),n.exit("codeFencedFenceMeta"),d(C)):C===96&&C===a?t(C):(n.consume(C),v)}function y(C){return n.attempt(r,k,E)(C)}function E(C){return n.enter("lineEnding"),n.consume(C),n.exit("lineEnding"),m}function m(C){return s>0&&Pe(C)?Ke(n,b,"linePrefix",s+1)(C):b(C)}function b(C){return C===null||oe(C)?n.check(YA,y,k)(C):(n.enter("codeFlowValue"),x(C))}function x(C){return C===null||oe(C)?(n.exit("codeFlowValue"),b(C)):(n.consume(C),x)}function k(C){return n.exit("codeFenced"),e(C)}function _(C,P,L){let D=0;return M;function M(G){return C.enter("lineEnding"),C.consume(G),C.exit("lineEnding"),I}function I(G){return C.enter("codeFencedFence"),Pe(G)?Ke(C,F,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(G):F(G)}function F(G){return G===a?(C.enter("codeFencedFenceSequence"),W(G)):L(G)}function W(G){return G===a?(D++,C.consume(G),W):D>=o?(C.exit("codeFencedFenceSequence"),Pe(G)?Ke(C,z,"whitespace")(G):z(G)):L(G)}function z(G){return G===null||oe(G)?(C.exit("codeFencedFence"),P(G)):L(G)}}}function hF(n,e,t){const i=this;return r;function r(o){return o===null?t(o):(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s)}function s(o){return i.parser.lazy[i.now().line]?t(o):e(o)}}const Nv={name:"codeIndented",tokenize:fF},dF={partial:!0,tokenize:pF};function fF(n,e,t){const i=this;return r;function r(c){return n.enter("codeIndented"),Ke(n,s,"linePrefix",5)(c)}function s(c){const h=i.events[i.events.length-1];return h&&h[1].type==="linePrefix"&&h[2].sliceSerialize(h[1],!0).length>=4?o(c):t(c)}function o(c){return c===null?u(c):oe(c)?n.attempt(dF,o,u)(c):(n.enter("codeFlowValue"),a(c))}function a(c){return c===null||oe(c)?(n.exit("codeFlowValue"),o(c)):(n.consume(c),a)}function u(c){return n.exit("codeIndented"),e(c)}}function pF(n,e,t){const i=this;return r;function r(o){return i.parser.lazy[i.now().line]?t(o):oe(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),r):Ke(n,s,"linePrefix",5)(o)}function s(o){const a=i.events[i.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):oe(o)?r(o):t(o)}}const mF={name:"codeText",previous:yF,resolve:gF,tokenize:vF};function gF(n){let e=n.length-4,t=3,i,r;if((n[t][1].type==="lineEnding"||n[t][1].type==="space")&&(n[e][1].type==="lineEnding"||n[e][1].type==="space")){for(i=t;++i<e;)if(n[i][1].type==="codeTextData"){n[t][1].type="codeTextPadding",n[e][1].type="codeTextPadding",t+=2,e-=2;break}}for(i=t-1,e++;++i<=e;)r===void 0?i!==e&&n[i][1].type!=="lineEnding"&&(r=i):(i===e||n[i][1].type==="lineEnding")&&(n[r][1].type="codeTextData",i!==r+2&&(n[r][1].end=n[i-1][1].end,n.splice(r+2,i-r-2),e-=i-r-2,i=r+2),r=void 0);return n}function yF(n){return n!==96||this.events[this.events.length-1][1].type==="characterEscape"}function vF(n,e,t){let i=0,r,s;return o;function o(d){return n.enter("codeText"),n.enter("codeTextSequence"),a(d)}function a(d){return d===96?(n.consume(d),i++,a):(n.exit("codeTextSequence"),u(d))}function u(d){return d===null?t(d):d===32?(n.enter("space"),n.consume(d),n.exit("space"),u):d===96?(s=n.enter("codeTextSequence"),r=0,h(d)):oe(d)?(n.enter("lineEnding"),n.consume(d),n.exit("lineEnding"),u):(n.enter("codeTextData"),c(d))}function c(d){return d===null||d===32||d===96||oe(d)?(n.exit("codeTextData"),u(d)):(n.consume(d),c)}function h(d){return d===96?(n.consume(d),r++,h):r===i?(n.exit("codeTextSequence"),n.exit("codeText"),e(d)):(s.type="codeTextData",c(d))}}class xF{constructor(e){this.left=e?[...e]:[],this.right=[]}get(e){if(e<0||e>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+e+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return e<this.left.length?this.left[e]:this.right[this.right.length-e+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(e,t){const i=t??Number.POSITIVE_INFINITY;return i<this.left.length?this.left.slice(e,i):e>this.left.length?this.right.slice(this.right.length-i+this.left.length,this.right.length-e+this.left.length).reverse():this.left.slice(e).concat(this.right.slice(this.right.length-i+this.left.length).reverse())}splice(e,t,i){const r=t||0;this.setCursor(Math.trunc(e));const s=this.right.splice(this.right.length-r,Number.POSITIVE_INFINITY);return i&&Sd(this.left,i),s.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(e){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(e)}pushMany(e){this.setCursor(Number.POSITIVE_INFINITY),Sd(this.left,e)}unshift(e){this.setCursor(0),this.right.push(e)}unshiftMany(e){this.setCursor(0),Sd(this.right,e.reverse())}setCursor(e){if(!(e===this.left.length||e>this.left.length&&this.right.length===0||e<0&&this.left.length===0))if(e<this.left.length){const t=this.left.splice(e,Number.POSITIVE_INFINITY);Sd(this.right,t.reverse())}else{const t=this.right.splice(this.left.length+this.right.length-e,Number.POSITIVE_INFINITY);Sd(this.left,t.reverse())}}}function Sd(n,e){let t=0;if(e.length<1e4)n.push(...e);else for(;t<e.length;)n.push(...e.slice(t,t+1e4)),t+=1e4}function oT(n){const e={};let t=-1,i,r,s,o,a,u,c;const h=new xF(n);for(;++t<h.length;){for(;t in e;)t=e[t];if(i=h.get(t),t&&i[1].type==="chunkFlow"&&h.get(t-1)[1].type==="listItemPrefix"&&(u=i[1]._tokenizer.events,s=0,s<u.length&&u[s][1].type==="lineEndingBlank"&&(s+=2),s<u.length&&u[s][1].type==="content"))for(;++s<u.length&&u[s][1].type!=="content";)u[s][1].type==="chunkText"&&(u[s][1]._isInFirstContentOfListItem=!0,s++);if(i[0]==="enter")i[1].contentType&&(Object.assign(e,wF(h,t)),t=e[t],c=!0);else if(i[1]._container){for(s=t,r=void 0;s--;)if(o=h.get(s),o[1].type==="lineEnding"||o[1].type==="lineEndingBlank")o[0]==="enter"&&(r&&(h.get(r)[1].type="lineEndingBlank"),o[1].type="lineEnding",r=s);else if(!(o[1].type==="linePrefix"||o[1].type==="listItemIndent"))break;r&&(i[1].end={...h.get(r)[1].start},a=h.slice(r,t),a.unshift(i),h.splice(r,t-r+1,a))}}return ds(n,0,Number.POSITIVE_INFINITY,h.slice(0)),!c}function wF(n,e){const t=n.get(e)[1],i=n.get(e)[2];let r=e-1;const s=[];let o=t._tokenizer;o||(o=i.parser[t.contentType](t.start),t._contentTypeTextTrailing&&(o._contentTypeTextTrailing=!0));const a=o.events,u=[],c={};let h,d,f=-1,p=t,v=0,y=0;const E=[y];for(;p;){for(;n.get(++r)[1]!==p;);s.push(r),p._tokenizer||(h=i.sliceStream(p),p.next||h.push(null),d&&o.defineSkip(p.start),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=!0),o.write(h),p._isInFirstContentOfListItem&&(o._gfmTasklistFirstContentOfListItem=void 0)),d=p,p=p.next}for(p=t;++f<a.length;)a[f][0]==="exit"&&a[f-1][0]==="enter"&&a[f][1].type===a[f-1][1].type&&a[f][1].start.line!==a[f][1].end.line&&(y=f+1,E.push(y),p._tokenizer=void 0,p.previous=void 0,p=p.next);for(o.events=[],p?(p._tokenizer=void 0,p.previous=void 0):E.pop(),f=E.length;f--;){const m=a.slice(E[f],E[f+1]),b=s.pop();u.push([b,b+m.length-1]),n.splice(b,2,m)}for(u.reverse(),f=-1;++f<u.length;)c[v+u[f][0]]=v+u[f][1],v+=u[f][1]-u[f][0]-1;return c}const bF={resolve:AF,tokenize:EF},SF={partial:!0,tokenize:kF};function AF(n){return oT(n),n}function EF(n,e){let t;return i;function i(a){return n.enter("content"),t=n.enter("chunkContent",{contentType:"content"}),r(a)}function r(a){return a===null?s(a):oe(a)?n.check(SF,o,s)(a):(n.consume(a),r)}function s(a){return n.exit("chunkContent"),n.exit("content"),e(a)}function o(a){return n.consume(a),n.exit("chunkContent"),t.next=n.enter("chunkContent",{contentType:"content",previous:t}),t=t.next,r}}function kF(n,e,t){const i=this;return r;function r(o){return n.exit("chunkContent"),n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),Ke(n,s,"linePrefix")}function s(o){if(o===null||oe(o))return t(o);const a=i.events[i.events.length-1];return!i.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?e(o):n.interrupt(i.parser.constructs.flow,t,e)(o)}}function aT(n,e,t,i,r,s,o,a,u){const c=u||Number.POSITIVE_INFINITY;let h=0;return d;function d(m){return m===60?(n.enter(i),n.enter(r),n.enter(s),n.consume(m),n.exit(s),f):m===null||m===32||m===41||qx(m)?t(m):(n.enter(i),n.enter(o),n.enter(a),n.enter("chunkString",{contentType:"string"}),y(m))}function f(m){return m===62?(n.enter(s),n.consume(m),n.exit(s),n.exit(r),n.exit(i),e):(n.enter(a),n.enter("chunkString",{contentType:"string"}),p(m))}function p(m){return m===62?(n.exit("chunkString"),n.exit(a),f(m)):m===null||m===60||oe(m)?t(m):(n.consume(m),m===92?v:p)}function v(m){return m===60||m===62||m===92?(n.consume(m),p):p(m)}function y(m){return!h&&(m===null||m===41||ti(m))?(n.exit("chunkString"),n.exit(a),n.exit(o),n.exit(i),e(m)):h<c&&m===40?(n.consume(m),h++,y):m===41?(n.consume(m),h--,y):m===null||m===32||m===40||qx(m)?t(m):(n.consume(m),m===92?E:y)}function E(m){return m===40||m===41||m===92?(n.consume(m),y):y(m)}}function lT(n,e,t,i,r,s){const o=this;let a=0,u;return c;function c(p){return n.enter(i),n.enter(r),n.consume(p),n.exit(r),n.enter(s),h}function h(p){return a>999||p===null||p===91||p===93&&!u||p===94&&!a&&"_hiddenFootnoteSupport"in o.parser.constructs?t(p):p===93?(n.exit(s),n.enter(r),n.consume(p),n.exit(r),n.exit(i),e):oe(p)?(n.enter("lineEnding"),n.consume(p),n.exit("lineEnding"),h):(n.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===null||p===91||p===93||oe(p)||a++>999?(n.exit("chunkString"),h(p)):(n.consume(p),u||(u=!Pe(p)),p===92?f:d)}function f(p){return p===91||p===92||p===93?(n.consume(p),a++,d):d(p)}}function uT(n,e,t,i,r,s){let o;return a;function a(f){return f===34||f===39||f===40?(n.enter(i),n.enter(r),n.consume(f),n.exit(r),o=f===40?41:f,u):t(f)}function u(f){return f===o?(n.enter(r),n.consume(f),n.exit(r),n.exit(i),e):(n.enter(s),c(f))}function c(f){return f===o?(n.exit(s),u(o)):f===null?t(f):oe(f)?(n.enter("lineEnding"),n.consume(f),n.exit("lineEnding"),Ke(n,c,"linePrefix")):(n.enter("chunkString",{contentType:"string"}),h(f))}function h(f){return f===o||f===null||oe(f)?(n.exit("chunkString"),c(f)):(n.consume(f),f===92?d:h)}function d(f){return f===o||f===92?(n.consume(f),h):h(f)}}function cf(n,e){let t;return i;function i(r){return oe(r)?(n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),t=!0,i):Pe(r)?Ke(n,i,t?"linePrefix":"lineSuffix")(r):e(r)}}const CF={name:"definition",tokenize:TF},_F={partial:!0,tokenize:PF};function TF(n,e,t){const i=this;let r;return s;function s(p){return n.enter("definition"),o(p)}function o(p){return lT.call(i,n,a,t,"definitionLabel","definitionLabelMarker","definitionLabelString")(p)}function a(p){return r=mc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)),p===58?(n.enter("definitionMarker"),n.consume(p),n.exit("definitionMarker"),u):t(p)}function u(p){return ti(p)?cf(n,c)(p):c(p)}function c(p){return aT(n,h,t,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(p)}function h(p){return n.attempt(_F,d,d)(p)}function d(p){return Pe(p)?Ke(n,f,"whitespace")(p):f(p)}function f(p){return p===null||oe(p)?(n.exit("definition"),i.parser.defined.push(r),e(p)):t(p)}}function PF(n,e,t){return i;function i(a){return ti(a)?cf(n,r)(a):t(a)}function r(a){return uT(n,s,t,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function s(a){return Pe(a)?Ke(n,o,"whitespace")(a):o(a)}function o(a){return a===null||oe(a)?e(a):t(a)}}const RF={name:"hardBreakEscape",tokenize:NF};function NF(n,e,t){return i;function i(s){return n.enter("hardBreakEscape"),n.consume(s),r}function r(s){return oe(s)?(n.exit("hardBreakEscape"),e(s)):t(s)}}const LF={name:"headingAtx",resolve:MF,tokenize:DF};function MF(n,e){let t=n.length-2,i=3,r,s;return n[i][1].type==="whitespace"&&(i+=2),t-2>i&&n[t][1].type==="whitespace"&&(t-=2),n[t][1].type==="atxHeadingSequence"&&(i===t-1||t-4>i&&n[t-2][1].type==="whitespace")&&(t-=i+1===t?2:4),t>i&&(r={type:"atxHeadingText",start:n[i][1].start,end:n[t][1].end},s={type:"chunkText",start:n[i][1].start,end:n[t][1].end,contentType:"text"},ds(n,i,t-i+1,[["enter",r,e],["enter",s,e],["exit",s,e],["exit",r,e]])),n}function DF(n,e,t){let i=0;return r;function r(h){return n.enter("atxHeading"),s(h)}function s(h){return n.enter("atxHeadingSequence"),o(h)}function o(h){return h===35&&i++<6?(n.consume(h),o):h===null||ti(h)?(n.exit("atxHeadingSequence"),a(h)):t(h)}function a(h){return h===35?(n.enter("atxHeadingSequence"),u(h)):h===null||oe(h)?(n.exit("atxHeading"),e(h)):Pe(h)?Ke(n,a,"whitespace")(h):(n.enter("atxHeadingText"),c(h))}function u(h){return h===35?(n.consume(h),u):(n.exit("atxHeadingSequence"),a(h))}function c(h){return h===null||h===35||ti(h)?(n.exit("atxHeadingText"),a(h)):(n.consume(h),c)}}const IF=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],QA=["pre","script","style","textarea"],FF={concrete:!0,name:"htmlFlow",resolveTo:BF,tokenize:zF},OF={partial:!0,tokenize:HF},jF={partial:!0,tokenize:UF};function BF(n){let e=n.length;for(;e--&&!(n[e][0]==="enter"&&n[e][1].type==="htmlFlow"););return e>1&&n[e-2][1].type==="linePrefix"&&(n[e][1].start=n[e-2][1].start,n[e+1][1].start=n[e-2][1].start,n.splice(e-2,2)),n}function zF(n,e,t){const i=this;let r,s,o,a,u;return c;function c(R){return h(R)}function h(R){return n.enter("htmlFlow"),n.enter("htmlFlowData"),n.consume(R),d}function d(R){return R===33?(n.consume(R),f):R===47?(n.consume(R),s=!0,y):R===63?(n.consume(R),r=3,i.interrupt?e:T):as(R)?(n.consume(R),o=String.fromCharCode(R),E):t(R)}function f(R){return R===45?(n.consume(R),r=2,p):R===91?(n.consume(R),r=5,a=0,v):as(R)?(n.consume(R),r=4,i.interrupt?e:T):t(R)}function p(R){return R===45?(n.consume(R),i.interrupt?e:T):t(R)}function v(R){const ve="CDATA[";return R===ve.charCodeAt(a++)?(n.consume(R),a===ve.length?i.interrupt?e:F:v):t(R)}function y(R){return as(R)?(n.consume(R),o=String.fromCharCode(R),E):t(R)}function E(R){if(R===null||R===47||R===62||ti(R)){const ve=R===47,Re=o.toLowerCase();return!ve&&!s&&QA.includes(Re)?(r=1,i.interrupt?e(R):F(R)):IF.includes(o.toLowerCase())?(r=6,ve?(n.consume(R),m):i.interrupt?e(R):F(R)):(r=7,i.interrupt&&!i.parser.lazy[i.now().line]?t(R):s?b(R):x(R))}return R===45||Ti(R)?(n.consume(R),o+=String.fromCharCode(R),E):t(R)}function m(R){return R===62?(n.consume(R),i.interrupt?e:F):t(R)}function b(R){return Pe(R)?(n.consume(R),b):M(R)}function x(R){return R===47?(n.consume(R),M):R===58||R===95||as(R)?(n.consume(R),k):Pe(R)?(n.consume(R),x):M(R)}function k(R){return R===45||R===46||R===58||R===95||Ti(R)?(n.consume(R),k):_(R)}function _(R){return R===61?(n.consume(R),C):Pe(R)?(n.consume(R),_):x(R)}function C(R){return R===null||R===60||R===61||R===62||R===96?t(R):R===34||R===39?(n.consume(R),u=R,P):Pe(R)?(n.consume(R),C):L(R)}function P(R){return R===u?(n.consume(R),u=null,D):R===null||oe(R)?t(R):(n.consume(R),P)}function L(R){return R===null||R===34||R===39||R===47||R===60||R===61||R===62||R===96||ti(R)?_(R):(n.consume(R),L)}function D(R){return R===47||R===62||Pe(R)?x(R):t(R)}function M(R){return R===62?(n.consume(R),I):t(R)}function I(R){return R===null||oe(R)?F(R):Pe(R)?(n.consume(R),I):t(R)}function F(R){return R===45&&r===2?(n.consume(R),U):R===60&&r===1?(n.consume(R),$):R===62&&r===4?(n.consume(R),se):R===63&&r===3?(n.consume(R),T):R===93&&r===5?(n.consume(R),q):oe(R)&&(r===6||r===7)?(n.exit("htmlFlowData"),n.check(OF,te,W)(R)):R===null||oe(R)?(n.exit("htmlFlowData"),W(R)):(n.consume(R),F)}function W(R){return n.check(jF,z,te)(R)}function z(R){return n.enter("lineEnding"),n.consume(R),n.exit("lineEnding"),G}function G(R){return R===null||oe(R)?W(R):(n.enter("htmlFlowData"),F(R))}function U(R){return R===45?(n.consume(R),T):F(R)}function $(R){return R===47?(n.consume(R),o="",O):F(R)}function O(R){if(R===62){const ve=o.toLowerCase();return QA.includes(ve)?(n.consume(R),se):F(R)}return as(R)&&o.length<8?(n.consume(R),o+=String.fromCharCode(R),O):F(R)}function q(R){return R===93?(n.consume(R),T):F(R)}function T(R){return R===62?(n.consume(R),se):R===45&&r===2?(n.consume(R),T):F(R)}function se(R){return R===null||oe(R)?(n.exit("htmlFlowData"),te(R)):(n.consume(R),se)}function te(R){return n.exit("htmlFlow"),e(R)}}function UF(n,e,t){const i=this;return r;function r(o){return oe(o)?(n.enter("lineEnding"),n.consume(o),n.exit("lineEnding"),s):t(o)}function s(o){return i.parser.lazy[i.now().line]?t(o):e(o)}}function HF(n,e,t){return i;function i(r){return n.enter("lineEnding"),n.consume(r),n.exit("lineEnding"),n.attempt(I0,e,t)}}const $F={name:"htmlText",tokenize:VF};function VF(n,e,t){const i=this;let r,s,o;return a;function a(T){return n.enter("htmlText"),n.enter("htmlTextData"),n.consume(T),u}function u(T){return T===33?(n.consume(T),c):T===47?(n.consume(T),_):T===63?(n.consume(T),x):as(T)?(n.consume(T),L):t(T)}function c(T){return T===45?(n.consume(T),h):T===91?(n.consume(T),s=0,v):as(T)?(n.consume(T),b):t(T)}function h(T){return T===45?(n.consume(T),p):t(T)}function d(T){return T===null?t(T):T===45?(n.consume(T),f):oe(T)?(o=d,$(T)):(n.consume(T),d)}function f(T){return T===45?(n.consume(T),p):d(T)}function p(T){return T===62?U(T):T===45?f(T):d(T)}function v(T){const se="CDATA[";return T===se.charCodeAt(s++)?(n.consume(T),s===se.length?y:v):t(T)}function y(T){return T===null?t(T):T===93?(n.consume(T),E):oe(T)?(o=y,$(T)):(n.consume(T),y)}function E(T){return T===93?(n.consume(T),m):y(T)}function m(T){return T===62?U(T):T===93?(n.consume(T),m):y(T)}function b(T){return T===null||T===62?U(T):oe(T)?(o=b,$(T)):(n.consume(T),b)}function x(T){return T===null?t(T):T===63?(n.consume(T),k):oe(T)?(o=x,$(T)):(n.consume(T),x)}function k(T){return T===62?U(T):x(T)}function _(T){return as(T)?(n.consume(T),C):t(T)}function C(T){return T===45||Ti(T)?(n.consume(T),C):P(T)}function P(T){return oe(T)?(o=P,$(T)):Pe(T)?(n.consume(T),P):U(T)}function L(T){return T===45||Ti(T)?(n.consume(T),L):T===47||T===62||ti(T)?D(T):t(T)}function D(T){return T===47?(n.consume(T),U):T===58||T===95||as(T)?(n.consume(T),M):oe(T)?(o=D,$(T)):Pe(T)?(n.consume(T),D):U(T)}function M(T){return T===45||T===46||T===58||T===95||Ti(T)?(n.consume(T),M):I(T)}function I(T){return T===61?(n.consume(T),F):oe(T)?(o=I,$(T)):Pe(T)?(n.consume(T),I):D(T)}function F(T){return T===null||T===60||T===61||T===62||T===96?t(T):T===34||T===39?(n.consume(T),r=T,W):oe(T)?(o=F,$(T)):Pe(T)?(n.consume(T),F):(n.consume(T),z)}function W(T){return T===r?(n.consume(T),r=void 0,G):T===null?t(T):oe(T)?(o=W,$(T)):(n.consume(T),W)}function z(T){return T===null||T===34||T===39||T===60||T===61||T===96?t(T):T===47||T===62||ti(T)?D(T):(n.consume(T),z)}function G(T){return T===47||T===62||ti(T)?D(T):t(T)}function U(T){return T===62?(n.consume(T),n.exit("htmlTextData"),n.exit("htmlText"),e):t(T)}function $(T){return n.exit("htmlTextData"),n.enter("lineEnding"),n.consume(T),n.exit("lineEnding"),O}function O(T){return Pe(T)?Ke(n,q,"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):q(T)}function q(T){return n.enter("htmlTextData"),o(T)}}const j1={name:"labelEnd",resolveAll:XF,resolveTo:YF,tokenize:KF},WF={tokenize:QF},GF={tokenize:JF},qF={tokenize:ZF};function XF(n){let e=-1;const t=[];for(;++e<n.length;){const i=n[e][1];if(t.push(n[e]),i.type==="labelImage"||i.type==="labelLink"||i.type==="labelEnd"){const r=i.type==="labelImage"?4:2;i.type="data",e+=r}}return n.length!==t.length&&ds(n,0,n.length,t),n}function YF(n,e){let t=n.length,i=0,r,s,o,a;for(;t--;)if(r=n[t][1],s){if(r.type==="link"||r.type==="labelLink"&&r._inactive)break;n[t][0]==="enter"&&r.type==="labelLink"&&(r._inactive=!0)}else if(o){if(n[t][0]==="enter"&&(r.type==="labelImage"||r.type==="labelLink")&&!r._balanced&&(s=t,r.type!=="labelLink")){i=2;break}}else r.type==="labelEnd"&&(o=t);const u={type:n[s][1].type==="labelLink"?"link":"image",start:{...n[s][1].start},end:{...n[n.length-1][1].end}},c={type:"label",start:{...n[s][1].start},end:{...n[o][1].end}},h={type:"labelText",start:{...n[s+i+2][1].end},end:{...n[o-2][1].start}};return a=[["enter",u,e],["enter",c,e]],a=Ki(a,n.slice(s+1,s+i+3)),a=Ki(a,[["enter",h,e]]),a=Ki(a,O1(e.parser.constructs.insideSpan.null,n.slice(s+i+4,o-3),e)),a=Ki(a,[["exit",h,e],n[o-2],n[o-1],["exit",c,e]]),a=Ki(a,n.slice(o+1)),a=Ki(a,[["exit",u,e]]),ds(n,s,n.length,a),n}function KF(n,e,t){const i=this;let r=i.events.length,s,o;for(;r--;)if((i.events[r][1].type==="labelImage"||i.events[r][1].type==="labelLink")&&!i.events[r][1]._balanced){s=i.events[r][1];break}return a;function a(f){return s?s._inactive?d(f):(o=i.parser.defined.includes(mc(i.sliceSerialize({start:s.end,end:i.now()}))),n.enter("labelEnd"),n.enter("labelMarker"),n.consume(f),n.exit("labelMarker"),n.exit("labelEnd"),u):t(f)}function u(f){return f===40?n.attempt(WF,h,o?h:d)(f):f===91?n.attempt(GF,h,o?c:d)(f):o?h(f):d(f)}function c(f){return n.attempt(qF,h,d)(f)}function h(f){return e(f)}function d(f){return s._balanced=!0,t(f)}}function QF(n,e,t){return i;function i(d){return n.enter("resource"),n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),r}function r(d){return ti(d)?cf(n,s)(d):s(d)}function s(d){return d===41?h(d):aT(n,o,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(d)}function o(d){return ti(d)?cf(n,u)(d):h(d)}function a(d){return t(d)}function u(d){return d===34||d===39||d===40?uT(n,c,t,"resourceTitle","resourceTitleMarker","resourceTitleString")(d):h(d)}function c(d){return ti(d)?cf(n,h)(d):h(d)}function h(d){return d===41?(n.enter("resourceMarker"),n.consume(d),n.exit("resourceMarker"),n.exit("resource"),e):t(d)}}function JF(n,e,t){const i=this;return r;function r(a){return lT.call(i,n,s,o,"reference","referenceMarker","referenceString")(a)}function s(a){return i.parser.defined.includes(mc(i.sliceSerialize(i.events[i.events.length-1][1]).slice(1,-1)))?e(a):t(a)}function o(a){return t(a)}}function ZF(n,e,t){return i;function i(s){return n.enter("reference"),n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),r}function r(s){return s===93?(n.enter("referenceMarker"),n.consume(s),n.exit("referenceMarker"),n.exit("reference"),e):t(s)}}const eO={name:"labelStartImage",resolveAll:j1.resolveAll,tokenize:tO};function tO(n,e,t){const i=this;return r;function r(a){return n.enter("labelImage"),n.enter("labelImageMarker"),n.consume(a),n.exit("labelImageMarker"),s}function s(a){return a===91?(n.enter("labelMarker"),n.consume(a),n.exit("labelMarker"),n.exit("labelImage"),o):t(a)}function o(a){return a===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(a):e(a)}}const nO={name:"labelStartLink",resolveAll:j1.resolveAll,tokenize:iO};function iO(n,e,t){const i=this;return r;function r(o){return n.enter("labelLink"),n.enter("labelMarker"),n.consume(o),n.exit("labelMarker"),n.exit("labelLink"),s}function s(o){return o===94&&"_hiddenFootnoteSupport"in i.parser.constructs?t(o):e(o)}}const Lv={name:"lineEnding",tokenize:rO};function rO(n,e){return t;function t(i){return n.enter("lineEnding"),n.consume(i),n.exit("lineEnding"),Ke(n,e,"linePrefix")}}const Ng={name:"thematicBreak",tokenize:sO};function sO(n,e,t){let i=0,r;return s;function s(c){return n.enter("thematicBreak"),o(c)}function o(c){return r=c,a(c)}function a(c){return c===r?(n.enter("thematicBreakSequence"),u(c)):i>=3&&(c===null||oe(c))?(n.exit("thematicBreak"),e(c)):t(c)}function u(c){return c===r?(n.consume(c),i++,u):(n.exit("thematicBreakSequence"),Pe(c)?Ke(n,a,"whitespace")(c):a(c))}}const Bn={continuation:{tokenize:uO},exit:hO,name:"list",tokenize:lO},oO={partial:!0,tokenize:dO},aO={partial:!0,tokenize:cO};function lO(n,e,t){const i=this,r=i.events[i.events.length-1];let s=r&&r[1].type==="linePrefix"?r[2].sliceSerialize(r[1],!0).length:0,o=0;return a;function a(p){const v=i.containerState.type||(p===42||p===43||p===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!i.containerState.marker||p===i.containerState.marker:Xx(p)){if(i.containerState.type||(i.containerState.type=v,n.enter(v,{_container:!0})),v==="listUnordered")return n.enter("listItemPrefix"),p===42||p===45?n.check(Ng,t,c)(p):c(p);if(!i.interrupt||p===49)return n.enter("listItemPrefix"),n.enter("listItemValue"),u(p)}return t(p)}function u(p){return Xx(p)&&++o<10?(n.consume(p),u):(!i.interrupt||o<2)&&(i.containerState.marker?p===i.containerState.marker:p===41||p===46)?(n.exit("listItemValue"),c(p)):t(p)}function c(p){return n.enter("listItemMarker"),n.consume(p),n.exit("listItemMarker"),i.containerState.marker=i.containerState.marker||p,n.check(I0,i.interrupt?t:h,n.attempt(oO,f,d))}function h(p){return i.containerState.initialBlankLine=!0,s++,f(p)}function d(p){return Pe(p)?(n.enter("listItemPrefixWhitespace"),n.consume(p),n.exit("listItemPrefixWhitespace"),f):t(p)}function f(p){return i.containerState.size=s+i.sliceSerialize(n.exit("listItemPrefix"),!0).length,e(p)}}function uO(n,e,t){const i=this;return i.containerState._closeFlow=void 0,n.check(I0,r,s);function r(a){return i.containerState.furtherBlankLines=i.containerState.furtherBlankLines||i.containerState.initialBlankLine,Ke(n,e,"listItemIndent",i.containerState.size+1)(a)}function s(a){return i.containerState.furtherBlankLines||!Pe(a)?(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,o(a)):(i.containerState.furtherBlankLines=void 0,i.containerState.initialBlankLine=void 0,n.attempt(aO,e,o)(a))}function o(a){return i.containerState._closeFlow=!0,i.interrupt=void 0,Ke(n,n.attempt(Bn,e,t),"linePrefix",i.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function cO(n,e,t){const i=this;return Ke(n,r,"listItemIndent",i.containerState.size+1);function r(s){const o=i.events[i.events.length-1];return o&&o[1].type==="listItemIndent"&&o[2].sliceSerialize(o[1],!0).length===i.containerState.size?e(s):t(s)}}function hO(n){n.exit(this.containerState.type)}function dO(n,e,t){const i=this;return Ke(n,r,"listItemPrefixWhitespace",i.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function r(s){const o=i.events[i.events.length-1];return!Pe(s)&&o&&o[1].type==="listItemPrefixWhitespace"?e(s):t(s)}}const JA={name:"setextUnderline",resolveTo:fO,tokenize:pO};function fO(n,e){let t=n.length,i,r,s;for(;t--;)if(n[t][0]==="enter"){if(n[t][1].type==="content"){i=t;break}n[t][1].type==="paragraph"&&(r=t)}else n[t][1].type==="content"&&n.splice(t,1),!s&&n[t][1].type==="definition"&&(s=t);const o={type:"setextHeading",start:{...n[i][1].start},end:{...n[n.length-1][1].end}};return n[r][1].type="setextHeadingText",s?(n.splice(r,0,["enter",o,e]),n.splice(s+1,0,["exit",n[i][1],e]),n[i][1].end={...n[s][1].end}):n[i][1]=o,n.push(["exit",o,e]),n}function pO(n,e,t){const i=this;let r;return s;function s(c){let h=i.events.length,d;for(;h--;)if(i.events[h][1].type!=="lineEnding"&&i.events[h][1].type!=="linePrefix"&&i.events[h][1].type!=="content"){d=i.events[h][1].type==="paragraph";break}return!i.parser.lazy[i.now().line]&&(i.interrupt||d)?(n.enter("setextHeadingLine"),r=c,o(c)):t(c)}function o(c){return n.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===r?(n.consume(c),a):(n.exit("setextHeadingLineSequence"),Pe(c)?Ke(n,u,"lineSuffix")(c):u(c))}function u(c){return c===null||oe(c)?(n.exit("setextHeadingLine"),e(c)):t(c)}}const mO={tokenize:gO};function gO(n){const e=this,t=n.attempt(I0,i,n.attempt(this.parser.constructs.flowInitial,r,Ke(n,n.attempt(this.parser.constructs.flow,r,n.attempt(bF,r)),"linePrefix")));return t;function i(s){if(s===null){n.consume(s);return}return n.enter("lineEndingBlank"),n.consume(s),n.exit("lineEndingBlank"),e.currentConstruct=void 0,t}function r(s){if(s===null){n.consume(s);return}return n.enter("lineEnding"),n.consume(s),n.exit("lineEnding"),e.currentConstruct=void 0,t}}const yO={resolveAll:hT()},vO=cT("string"),xO=cT("text");function cT(n){return{resolveAll:hT(n==="text"?wO:void 0),tokenize:e};function e(t){const i=this,r=this.parser.constructs[n],s=t.attempt(r,o,a);return o;function o(h){return c(h)?s(h):a(h)}function a(h){if(h===null){t.consume(h);return}return t.enter("data"),t.consume(h),u}function u(h){return c(h)?(t.exit("data"),s(h)):(t.consume(h),u)}function c(h){if(h===null)return!0;const d=r[h];let f=-1;if(d)for(;++f<d.length;){const p=d[f];if(!p.previous||p.previous.call(i,i.previous))return!0}return!1}}}function hT(n){return e;function e(t,i){let r=-1,s;for(;++r<=t.length;)s===void 0?t[r]&&t[r][1].type==="data"&&(s=r,r++):(!t[r]||t[r][1].type!=="data")&&(r!==s+2&&(t[s][1].end=t[r-1][1].end,t.splice(s+2,r-s-2),r=s+2),s=void 0);return n?n(t,i):t}}function wO(n,e){let t=0;for(;++t<=n.length;)if((t===n.length||n[t][1].type==="lineEnding")&&n[t-1][1].type==="data"){const i=n[t-1][1],r=e.sliceStream(i);let s=r.length,o=-1,a=0,u;for(;s--;){const c=r[s];if(typeof c=="string"){for(o=c.length;c.charCodeAt(o-1)===32;)a++,o--;if(o)break;o=-1}else if(c===-2)u=!0,a++;else if(c!==-1){s++;break}}if(e._contentTypeTextTrailing&&t===n.length&&(a=0),a){const c={type:t===n.length||u||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:s?o:i.start._bufferIndex+o,_index:i.start._index+s,line:i.end.line,column:i.end.column-a,offset:i.end.offset-a},end:{...i.end}};i.end={...c.start},i.start.offset===i.end.offset?Object.assign(i,c):(n.splice(t,0,["enter",c,e],["exit",c,e]),t+=2)}t++}return n}const bO={42:Bn,43:Bn,45:Bn,48:Bn,49:Bn,50:Bn,51:Bn,52:Bn,53:Bn,54:Bn,55:Bn,56:Bn,57:Bn,62:iT},SO={91:CF},AO={[-2]:Nv,[-1]:Nv,32:Nv},EO={35:LF,42:Ng,45:[JA,Ng],60:FF,61:JA,95:Ng,96:KA,126:KA},kO={38:sT,92:rT},CO={[-5]:Lv,[-4]:Lv,[-3]:Lv,33:eO,38:sT,42:Yx,60:[nF,$F],91:nO,92:[RF,rT],93:j1,95:Yx,96:mF},_O={null:[Yx,yO]},TO={null:[42,95]},PO={null:[]},RO=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:TO,contentInitial:SO,disable:PO,document:bO,flow:EO,flowInitial:AO,insideSpan:_O,string:kO,text:CO},Symbol.toStringTag,{value:"Module"}));function NO(n,e,t){let i={_bufferIndex:-1,_index:0,line:t&&t.line||1,column:t&&t.column||1,offset:t&&t.offset||0};const r={},s=[];let o=[],a=[];const u={attempt:P(_),check:P(C),consume:b,enter:x,exit:k,interrupt:P(C,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:v,parser:n,previous:null,sliceSerialize:f,sliceStream:p,write:d};let h=e.tokenize.call(c,u);return e.resolveAll&&s.push(e),c;function d(I){return o=Ki(o,I),E(),o[o.length-1]!==null?[]:(L(e,0),c.events=O1(s,c.events,c),c.events)}function f(I,F){return MO(p(I),F)}function p(I){return LO(o,I)}function v(){const{_bufferIndex:I,_index:F,line:W,column:z,offset:G}=i;return{_bufferIndex:I,_index:F,line:W,column:z,offset:G}}function y(I){r[I.line]=I.column,M()}function E(){let I;for(;i._index<o.length;){const F=o[i._index];if(typeof F=="string")for(I=i._index,i._bufferIndex<0&&(i._bufferIndex=0);i._index===I&&i._bufferIndex<F.length;)m(F.charCodeAt(i._bufferIndex));else m(F)}}function m(I){h=h(I)}function b(I){oe(I)?(i.line++,i.column=1,i.offset+=I===-3?2:1,M()):I!==-1&&(i.column++,i.offset++),i._bufferIndex<0?i._index++:(i._bufferIndex++,i._bufferIndex===o[i._index].length&&(i._bufferIndex=-1,i._index++)),c.previous=I}function x(I,F){const W=F||{};return W.type=I,W.start=v(),c.events.push(["enter",W,c]),a.push(W),W}function k(I){const F=a.pop();return F.end=v(),c.events.push(["exit",F,c]),F}function _(I,F){L(I,F.from)}function C(I,F){F.restore()}function P(I,F){return W;function W(z,G,U){let $,O,q,T;return Array.isArray(z)?te(z):"tokenize"in z?te([z]):se(z);function se(de){return ye;function ye(Bt){const cn=Bt!==null&&de[Bt],Ct=Bt!==null&&de.null,Ee=[...Array.isArray(cn)?cn:cn?[cn]:[],...Array.isArray(Ct)?Ct:Ct?[Ct]:[]];return te(Ee)(Bt)}}function te(de){return $=de,O=0,de.length===0?U:R(de[O])}function R(de){return ye;function ye(Bt){return T=D(),q=de,de.partial||(c.currentConstruct=de),de.name&&c.parser.constructs.disable.null.includes(de.name)?Re():de.tokenize.call(F?Object.assign(Object.create(c),F):c,u,ve,Re)(Bt)}}function ve(de){return I(q,T),G}function Re(de){return T.restore(),++O<$.length?R($[O]):U}}}function L(I,F){I.resolveAll&&!s.includes(I)&&s.push(I),I.resolve&&ds(c.events,F,c.events.length-F,I.resolve(c.events.slice(F),c)),I.resolveTo&&(c.events=I.resolveTo(c.events,c))}function D(){const I=v(),F=c.previous,W=c.currentConstruct,z=c.events.length,G=Array.from(a);return{from:z,restore:U};function U(){i=I,c.previous=F,c.currentConstruct=W,c.events.length=z,a=G,M()}}function M(){i.line in r&&i.column<2&&(i.column=r[i.line],i.offset+=r[i.line]-1)}}function LO(n,e){const t=e.start._index,i=e.start._bufferIndex,r=e.end._index,s=e.end._bufferIndex;let o;if(t===r)o=[n[t].slice(i,s)];else{if(o=n.slice(t,r),i>-1){const a=o[0];typeof a=="string"?o[0]=a.slice(i):o.shift()}s>0&&o.push(n[r].slice(0,s))}return o}function MO(n,e){let t=-1;const i=[];let r;for(;++t<n.length;){const s=n[t];let o;if(typeof s=="string")o=s;else switch(s){case-5:{o="\r";break}case-4:{o=`
`;break}case-3:{o=`\r
`;break}case-2:{o=e?" ":"	";break}case-1:{if(!e&&r)continue;o=" ";break}default:o=String.fromCharCode(s)}r=s===-2,i.push(o)}return i.join("")}function DO(n){const i={constructs:UI([RO,...(n||{}).extensions||[]]),content:r(YI),defined:[],document:r(QI),flow:r(mO),lazy:{},string:r(vO),text:r(xO)};return i;function r(s){return o;function o(a){return NO(i,s,a)}}}function IO(n){for(;!oT(n););return n}const ZA=/[\0\t\n\r]/g;function FO(){let n=1,e="",t=!0,i;return r;function r(s,o,a){const u=[];let c,h,d,f,p;for(s=e+(typeof s=="string"?s.toString():new TextDecoder(o||void 0).decode(s)),d=0,e="",t&&(s.charCodeAt(0)===65279&&d++,t=void 0);d<s.length;){if(ZA.lastIndex=d,c=ZA.exec(s),f=c&&c.index!==void 0?c.index:s.length,p=s.charCodeAt(f),!c){e=s.slice(d);break}if(p===10&&d===f&&i)u.push(-3),i=void 0;else switch(i&&(u.push(-5),i=void 0),d<f&&(u.push(s.slice(d,f)),n+=f-d),p){case 0:{u.push(65533),n++;break}case 9:{for(h=Math.ceil(n/4)*4,u.push(-2);n++<h;)u.push(-1);break}case 10:{u.push(-4),n=1;break}default:i=!0,n=1}d=f+1}return a&&(i&&u.push(-5),e&&u.push(e),u.push(null)),u}}const OO=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function jO(n){return n.replace(OO,BO)}function BO(n,e,t){if(e)return e;if(t.charCodeAt(0)===35){const r=t.charCodeAt(1),s=r===120||r===88;return nT(t.slice(s?2:1),s?16:10)}return F1(t)||n}const dT={}.hasOwnProperty;function zO(n,e,t){return typeof e!="string"&&(t=e,e=void 0),UO(t)(IO(DO(t).document().write(FO()(n,e,!0))))}function UO(n){const e={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:s(jm),autolinkProtocol:D,autolinkEmail:D,atxHeading:s(tt),blockQuote:s(Ct),characterEscape:D,characterReference:D,codeFenced:s(Ee),codeFencedFenceInfo:o,codeFencedFenceMeta:o,codeIndented:s(Ee,o),codeText:s(sr,o),codeTextData:D,data:D,codeFlowValue:D,definition:s(Ge),definitionDestinationString:o,definitionLabelString:o,definitionTitleString:o,emphasis:s(Ie),hardBreakEscape:s(Kt),hardBreakTrailing:s(Kt),htmlFlow:s(bt,o),htmlFlowData:D,htmlText:s(bt,o),htmlTextData:D,image:s(X0),label:o,link:s(jm),listItem:s(Y0),listItemValue:f,listOrdered:s(Nu,d),listUnordered:s(Nu),paragraph:s(Lu),reference:R,referenceString:o,resourceDestinationString:o,resourceTitleString:o,setextHeading:s(tt),strong:s(K0),thematicBreak:s(J0)},exit:{atxHeading:u(),atxHeadingSequence:_,autolink:u(),autolinkEmail:cn,autolinkProtocol:Bt,blockQuote:u(),characterEscapeValue:M,characterReferenceMarkerHexadecimal:Re,characterReferenceMarkerNumeric:Re,characterReferenceValue:de,characterReference:ye,codeFenced:u(E),codeFencedFence:y,codeFencedFenceInfo:p,codeFencedFenceMeta:v,codeFlowValue:M,codeIndented:u(m),codeText:u(G),codeTextData:M,data:M,definition:u(),definitionDestinationString:k,definitionLabelString:b,definitionTitleString:x,emphasis:u(),hardBreakEscape:u(F),hardBreakTrailing:u(F),htmlFlow:u(W),htmlFlowData:M,htmlText:u(z),htmlTextData:M,image:u($),label:q,labelText:O,lineEnding:I,link:u(U),listItem:u(),listOrdered:u(),listUnordered:u(),paragraph:u(),referenceString:ve,resourceDestinationString:T,resourceTitleString:se,resource:te,setextHeading:u(L),setextHeadingLineSequence:P,setextHeadingText:C,strong:u(),thematicBreak:u()}};fT(e,(n||{}).mdastExtensions||[]);const t={};return i;function i(j){let X={type:"root",children:[]};const ie={stack:[X],tokenStack:[],config:e,enter:a,exit:c,buffer:o,resume:h,data:t},ce=[];let be=-1;for(;++be<j.length;)if(j[be][1].type==="listOrdered"||j[be][1].type==="listUnordered")if(j[be][0]==="enter")ce.push(be);else{const kn=ce.pop();be=r(j,kn,be)}for(be=-1;++be<j.length;){const kn=e[j[be][0]];dT.call(kn,j[be][1].type)&&kn[j[be][1].type].call(Object.assign({sliceSerialize:j[be][2].sliceSerialize},ie),j[be][1])}if(ie.tokenStack.length>0){const kn=ie.tokenStack[ie.tokenStack.length-1];(kn[1]||eE).call(ie,void 0,kn[0])}for(X.position={start:Ao(j.length>0?j[0][1].start:{line:1,column:1,offset:0}),end:Ao(j.length>0?j[j.length-2][1].end:{line:1,column:1,offset:0})},be=-1;++be<e.transforms.length;)X=e.transforms[be](X)||X;return X}function r(j,X,ie){let ce=X-1,be=-1,kn=!1,Va,ms,hd,dd;for(;++ce<=ie;){const ii=j[ce];switch(ii[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ii[0]==="enter"?be++:be--,dd=void 0;break}case"lineEndingBlank":{ii[0]==="enter"&&(Va&&!dd&&!be&&!hd&&(hd=ce),dd=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:dd=void 0}if(!be&&ii[0]==="enter"&&ii[1].type==="listItemPrefix"||be===-1&&ii[0]==="exit"&&(ii[1].type==="listUnordered"||ii[1].type==="listOrdered")){if(Va){let Mu=ce;for(ms=void 0;Mu--;){const gs=j[Mu];if(gs[1].type==="lineEnding"||gs[1].type==="lineEndingBlank"){if(gs[0]==="exit")continue;ms&&(j[ms][1].type="lineEndingBlank",kn=!0),gs[1].type="lineEnding",ms=Mu}else if(!(gs[1].type==="linePrefix"||gs[1].type==="blockQuotePrefix"||gs[1].type==="blockQuotePrefixWhitespace"||gs[1].type==="blockQuoteMarker"||gs[1].type==="listItemIndent"))break}hd&&(!ms||hd<ms)&&(Va._spread=!0),Va.end=Object.assign({},ms?j[ms][1].start:ii[1].end),j.splice(ms||ce,0,["exit",Va,ii[2]]),ce++,ie++}if(ii[1].type==="listItemPrefix"){const Mu={type:"listItem",_spread:!1,start:Object.assign({},ii[1].start),end:void 0};Va=Mu,j.splice(ce,0,["enter",Mu,ii[2]]),ce++,ie++,hd=void 0,dd=!0}}}return j[X][1]._spread=kn,ie}function s(j,X){return ie;function ie(ce){a.call(this,j(ce),ce),X&&X.call(this,ce)}}function o(){this.stack.push({type:"fragment",children:[]})}function a(j,X,ie){this.stack[this.stack.length-1].children.push(j),this.stack.push(j),this.tokenStack.push([X,ie||void 0]),j.position={start:Ao(X.start),end:void 0}}function u(j){return X;function X(ie){j&&j.call(this,ie),c.call(this,ie)}}function c(j,X){const ie=this.stack.pop(),ce=this.tokenStack.pop();if(ce)ce[0].type!==j.type&&(X?X.call(this,j,ce[0]):(ce[1]||eE).call(this,j,ce[0]));else throw new Error("Cannot close `"+j.type+"` ("+uf({start:j.start,end:j.end})+"): its not open");ie.position.end=Ao(j.end)}function h(){return BI(this.stack.pop())}function d(){this.data.expectingFirstListItemValue=!0}function f(j){if(this.data.expectingFirstListItemValue){const X=this.stack[this.stack.length-2];X.start=Number.parseInt(this.sliceSerialize(j),10),this.data.expectingFirstListItemValue=void 0}}function p(){const j=this.resume(),X=this.stack[this.stack.length-1];X.lang=j}function v(){const j=this.resume(),X=this.stack[this.stack.length-1];X.meta=j}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function E(){const j=this.resume(),X=this.stack[this.stack.length-1];X.value=j.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function m(){const j=this.resume(),X=this.stack[this.stack.length-1];X.value=j.replace(/(\r?\n|\r)$/g,"")}function b(j){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.label=X,ie.identifier=mc(this.sliceSerialize(j)).toLowerCase()}function x(){const j=this.resume(),X=this.stack[this.stack.length-1];X.title=j}function k(){const j=this.resume(),X=this.stack[this.stack.length-1];X.url=j}function _(j){const X=this.stack[this.stack.length-1];if(!X.depth){const ie=this.sliceSerialize(j).length;X.depth=ie}}function C(){this.data.setextHeadingSlurpLineEnding=!0}function P(j){const X=this.stack[this.stack.length-1];X.depth=this.sliceSerialize(j).codePointAt(0)===61?1:2}function L(){this.data.setextHeadingSlurpLineEnding=void 0}function D(j){const ie=this.stack[this.stack.length-1].children;let ce=ie[ie.length-1];(!ce||ce.type!=="text")&&(ce=Q0(),ce.position={start:Ao(j.start),end:void 0},ie.push(ce)),this.stack.push(ce)}function M(j){const X=this.stack.pop();X.value+=this.sliceSerialize(j),X.position.end=Ao(j.end)}function I(j){const X=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ie=X.children[X.children.length-1];ie.position.end=Ao(j.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&e.canContainEols.includes(X.type)&&(D.call(this,j),M.call(this,j))}function F(){this.data.atHardBreak=!0}function W(){const j=this.resume(),X=this.stack[this.stack.length-1];X.value=j}function z(){const j=this.resume(),X=this.stack[this.stack.length-1];X.value=j}function G(){const j=this.resume(),X=this.stack[this.stack.length-1];X.value=j}function U(){const j=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";j.type+="Reference",j.referenceType=X,delete j.url,delete j.title}else delete j.identifier,delete j.label;this.data.referenceType=void 0}function $(){const j=this.stack[this.stack.length-1];if(this.data.inReference){const X=this.data.referenceType||"shortcut";j.type+="Reference",j.referenceType=X,delete j.url,delete j.title}else delete j.identifier,delete j.label;this.data.referenceType=void 0}function O(j){const X=this.sliceSerialize(j),ie=this.stack[this.stack.length-2];ie.label=jO(X),ie.identifier=mc(X).toLowerCase()}function q(){const j=this.stack[this.stack.length-1],X=this.resume(),ie=this.stack[this.stack.length-1];if(this.data.inReference=!0,ie.type==="link"){const ce=j.children;ie.children=ce}else ie.alt=X}function T(){const j=this.resume(),X=this.stack[this.stack.length-1];X.url=j}function se(){const j=this.resume(),X=this.stack[this.stack.length-1];X.title=j}function te(){this.data.inReference=void 0}function R(){this.data.referenceType="collapsed"}function ve(j){const X=this.resume(),ie=this.stack[this.stack.length-1];ie.label=X,ie.identifier=mc(this.sliceSerialize(j)).toLowerCase(),this.data.referenceType="full"}function Re(j){this.data.characterReferenceType=j.type}function de(j){const X=this.sliceSerialize(j),ie=this.data.characterReferenceType;let ce;ie?(ce=nT(X,ie==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ce=F1(X);const be=this.stack[this.stack.length-1];be.value+=ce}function ye(j){const X=this.stack.pop();X.position.end=Ao(j.end)}function Bt(j){M.call(this,j);const X=this.stack[this.stack.length-1];X.url=this.sliceSerialize(j)}function cn(j){M.call(this,j);const X=this.stack[this.stack.length-1];X.url="mailto:"+this.sliceSerialize(j)}function Ct(){return{type:"blockquote",children:[]}}function Ee(){return{type:"code",lang:null,meta:null,value:""}}function sr(){return{type:"inlineCode",value:""}}function Ge(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Ie(){return{type:"emphasis",children:[]}}function tt(){return{type:"heading",depth:0,children:[]}}function Kt(){return{type:"break"}}function bt(){return{type:"html",value:""}}function X0(){return{type:"image",title:null,url:"",alt:null}}function jm(){return{type:"link",title:null,url:"",children:[]}}function Nu(j){return{type:"list",ordered:j.type==="listOrdered",start:null,spread:j._spread,children:[]}}function Y0(j){return{type:"listItem",spread:j._spread,checked:null,children:[]}}function Lu(){return{type:"paragraph",children:[]}}function K0(){return{type:"strong",children:[]}}function Q0(){return{type:"text",value:""}}function J0(){return{type:"thematicBreak"}}}function Ao(n){return{line:n.line,column:n.column,offset:n.offset}}function fT(n,e){let t=-1;for(;++t<e.length;){const i=e[t];Array.isArray(i)?fT(n,i):HO(n,i)}}function HO(n,e){let t;for(t in e)if(dT.call(e,t))switch(t){case"canContainEols":{const i=e[t];i&&n[t].push(...i);break}case"transforms":{const i=e[t];i&&n[t].push(...i);break}case"enter":case"exit":{const i=e[t];i&&Object.assign(n[t],i);break}}}function eE(n,e){throw n?new Error("Cannot close `"+n.type+"` ("+uf({start:n.start,end:n.end})+"): a different token (`"+e.type+"`, "+uf({start:e.start,end:e.end})+") is open"):new Error("Cannot close document, a token (`"+e.type+"`, "+uf({start:e.start,end:e.end})+") is still open")}function $O(n){const e=this;e.parser=t;function t(i){return zO(i,{...e.data("settings"),...n,extensions:e.data("micromarkExtensions")||[],mdastExtensions:e.data("fromMarkdownExtensions")||[]})}}function VO(n,e){const t={type:"element",tagName:"blockquote",properties:{},children:n.wrap(n.all(e),!0)};return n.patch(e,t),n.applyData(e,t)}function WO(n,e){const t={type:"element",tagName:"br",properties:{},children:[]};return n.patch(e,t),[n.applyData(e,t),{type:"text",value:`
`}]}function GO(n,e){const t=e.value?e.value+`
`:"",i={},r=e.lang?e.lang.split(/\s+/):[];r.length>0&&(i.className=["language-"+r[0]]);let s={type:"element",tagName:"code",properties:i,children:[{type:"text",value:t}]};return e.meta&&(s.data={meta:e.meta}),n.patch(e,s),s=n.applyData(e,s),s={type:"element",tagName:"pre",properties:{},children:[s]},n.patch(e,s),s}function qO(n,e){const t={type:"element",tagName:"del",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function XO(n,e){const t={type:"element",tagName:"em",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function YO(n,e){const t=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",i=String(e.identifier).toUpperCase(),r=ld(i.toLowerCase()),s=n.footnoteOrder.indexOf(i);let o,a=n.footnoteCounts.get(i);a===void 0?(a=0,n.footnoteOrder.push(i),o=n.footnoteOrder.length):o=s+1,a+=1,n.footnoteCounts.set(i,a);const u={type:"element",tagName:"a",properties:{href:"#"+t+"fn-"+r,id:t+"fnref-"+r+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(o)}]};n.patch(e,u);const c={type:"element",tagName:"sup",properties:{},children:[u]};return n.patch(e,c),n.applyData(e,c)}function KO(n,e){const t={type:"element",tagName:"h"+e.depth,properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function QO(n,e){if(n.options.allowDangerousHtml){const t={type:"raw",value:e.value};return n.patch(e,t),n.applyData(e,t)}}function pT(n,e){const t=e.referenceType;let i="]";if(t==="collapsed"?i+="[]":t==="full"&&(i+="["+(e.label||e.identifier)+"]"),e.type==="imageReference")return[{type:"text",value:"!["+e.alt+i}];const r=n.all(e),s=r[0];s&&s.type==="text"?s.value="["+s.value:r.unshift({type:"text",value:"["});const o=r[r.length-1];return o&&o.type==="text"?o.value+=i:r.push({type:"text",value:i}),r}function JO(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return pT(n,e);const r={src:ld(i.url||""),alt:e.alt};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"img",properties:r,children:[]};return n.patch(e,s),n.applyData(e,s)}function ZO(n,e){const t={src:ld(e.url)};e.alt!==null&&e.alt!==void 0&&(t.alt=e.alt),e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"img",properties:t,children:[]};return n.patch(e,i),n.applyData(e,i)}function ej(n,e){const t={type:"text",value:e.value.replace(/\r?\n|\r/g," ")};n.patch(e,t);const i={type:"element",tagName:"code",properties:{},children:[t]};return n.patch(e,i),n.applyData(e,i)}function tj(n,e){const t=String(e.identifier).toUpperCase(),i=n.definitionById.get(t);if(!i)return pT(n,e);const r={href:ld(i.url||"")};i.title!==null&&i.title!==void 0&&(r.title=i.title);const s={type:"element",tagName:"a",properties:r,children:n.all(e)};return n.patch(e,s),n.applyData(e,s)}function nj(n,e){const t={href:ld(e.url)};e.title!==null&&e.title!==void 0&&(t.title=e.title);const i={type:"element",tagName:"a",properties:t,children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function ij(n,e,t){const i=n.all(e),r=t?rj(t):mT(e),s={},o=[];if(typeof e.checked=="boolean"){const h=i[0];let d;h&&h.type==="element"&&h.tagName==="p"?d=h:(d={type:"element",tagName:"p",properties:{},children:[]},i.unshift(d)),d.children.length>0&&d.children.unshift({type:"text",value:" "}),d.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:e.checked,disabled:!0},children:[]}),s.className=["task-list-item"]}let a=-1;for(;++a<i.length;){const h=i[a];(r||a!==0||h.type!=="element"||h.tagName!=="p")&&o.push({type:"text",value:`
`}),h.type==="element"&&h.tagName==="p"&&!r?o.push(...h.children):o.push(h)}const u=i[i.length-1];u&&(r||u.type!=="element"||u.tagName!=="p")&&o.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:s,children:o};return n.patch(e,c),n.applyData(e,c)}function rj(n){let e=!1;if(n.type==="list"){e=n.spread||!1;const t=n.children;let i=-1;for(;!e&&++i<t.length;)e=mT(t[i])}return e}function mT(n){const e=n.spread;return e??n.children.length>1}function sj(n,e){const t={},i=n.all(e);let r=-1;for(typeof e.start=="number"&&e.start!==1&&(t.start=e.start);++r<i.length;){const o=i[r];if(o.type==="element"&&o.tagName==="li"&&o.properties&&Array.isArray(o.properties.className)&&o.properties.className.includes("task-list-item")){t.className=["contains-task-list"];break}}const s={type:"element",tagName:e.ordered?"ol":"ul",properties:t,children:n.wrap(i,!0)};return n.patch(e,s),n.applyData(e,s)}function oj(n,e){const t={type:"element",tagName:"p",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function aj(n,e){const t={type:"root",children:n.wrap(n.all(e))};return n.patch(e,t),n.applyData(e,t)}function lj(n,e){const t={type:"element",tagName:"strong",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}function uj(n,e){const t=n.all(e),i=t.shift(),r=[];if(i){const o={type:"element",tagName:"thead",properties:{},children:n.wrap([i],!0)};n.patch(e.children[0],o),r.push(o)}if(t.length>0){const o={type:"element",tagName:"tbody",properties:{},children:n.wrap(t,!0)},a=L1(e.children[1]),u=Y_(e.children[e.children.length-1]);a&&u&&(o.position={start:a,end:u}),r.push(o)}const s={type:"element",tagName:"table",properties:{},children:n.wrap(r,!0)};return n.patch(e,s),n.applyData(e,s)}function cj(n,e,t){const i=t?t.children:void 0,s=(i?i.indexOf(e):1)===0?"th":"td",o=t&&t.type==="table"?t.align:void 0,a=o?o.length:e.children.length;let u=-1;const c=[];for(;++u<a;){const d=e.children[u],f={},p=o?o[u]:void 0;p&&(f.align=p);let v={type:"element",tagName:s,properties:f,children:[]};d&&(v.children=n.all(d),n.patch(d,v),v=n.applyData(d,v)),c.push(v)}const h={type:"element",tagName:"tr",properties:{},children:n.wrap(c,!0)};return n.patch(e,h),n.applyData(e,h)}function hj(n,e){const t={type:"element",tagName:"td",properties:{},children:n.all(e)};return n.patch(e,t),n.applyData(e,t)}const tE=9,nE=32;function dj(n){const e=String(n),t=/\r?\n|\r/g;let i=t.exec(e),r=0;const s=[];for(;i;)s.push(iE(e.slice(r,i.index),r>0,!0),i[0]),r=i.index+i[0].length,i=t.exec(e);return s.push(iE(e.slice(r),r>0,!1)),s.join("")}function iE(n,e,t){let i=0,r=n.length;if(e){let s=n.codePointAt(i);for(;s===tE||s===nE;)i++,s=n.codePointAt(i)}if(t){let s=n.codePointAt(r-1);for(;s===tE||s===nE;)r--,s=n.codePointAt(r-1)}return r>i?n.slice(i,r):""}function fj(n,e){const t={type:"text",value:dj(String(e.value))};return n.patch(e,t),n.applyData(e,t)}function pj(n,e){const t={type:"element",tagName:"hr",properties:{},children:[]};return n.patch(e,t),n.applyData(e,t)}const mj={blockquote:VO,break:WO,code:GO,delete:qO,emphasis:XO,footnoteReference:YO,heading:KO,html:QO,imageReference:JO,image:ZO,inlineCode:ej,linkReference:tj,link:nj,listItem:ij,list:sj,paragraph:oj,root:aj,strong:lj,table:uj,tableCell:hj,tableRow:cj,text:fj,thematicBreak:pj,toml:ig,yaml:ig,definition:ig,footnoteDefinition:ig};function ig(){}const gT=-1,F0=0,hf=1,Oy=2,B1=3,z1=4,U1=5,H1=6,yT=7,vT=8,rE=typeof self=="object"?self:globalThis,gj=(n,e)=>{const t=(r,s)=>(n.set(s,r),r),i=r=>{if(n.has(r))return n.get(r);const[s,o]=e[r];switch(s){case F0:case gT:return t(o,r);case hf:{const a=t([],r);for(const u of o)a.push(i(u));return a}case Oy:{const a=t({},r);for(const[u,c]of o)a[i(u)]=i(c);return a}case B1:return t(new Date(o),r);case z1:{const{source:a,flags:u}=o;return t(new RegExp(a,u),r)}case U1:{const a=t(new Map,r);for(const[u,c]of o)a.set(i(u),i(c));return a}case H1:{const a=t(new Set,r);for(const u of o)a.add(i(u));return a}case yT:{const{name:a,message:u}=o;return t(new rE[a](u),r)}case vT:return t(BigInt(o),r);case"BigInt":return t(Object(BigInt(o)),r);case"ArrayBuffer":return t(new Uint8Array(o).buffer,o);case"DataView":{const{buffer:a}=new Uint8Array(o);return t(new DataView(a),o)}}return t(new rE[s](o),r)};return i},sE=n=>gj(new Map,n)(0),Iu="",{toString:yj}={},{keys:vj}=Object,Ad=n=>{const e=typeof n;if(e!=="object"||!n)return[F0,e];const t=yj.call(n).slice(8,-1);switch(t){case"Array":return[hf,Iu];case"Object":return[Oy,Iu];case"Date":return[B1,Iu];case"RegExp":return[z1,Iu];case"Map":return[U1,Iu];case"Set":return[H1,Iu];case"DataView":return[hf,t]}return t.includes("Array")?[hf,t]:t.includes("Error")?[yT,t]:[Oy,t]},rg=([n,e])=>n===F0&&(e==="function"||e==="symbol"),xj=(n,e,t,i)=>{const r=(o,a)=>{const u=i.push(o)-1;return t.set(a,u),u},s=o=>{if(t.has(o))return t.get(o);let[a,u]=Ad(o);switch(a){case F0:{let h=o;switch(u){case"bigint":a=vT,h=o.toString();break;case"function":case"symbol":if(n)throw new TypeError("unable to serialize "+u);h=null;break;case"undefined":return r([gT],o)}return r([a,h],o)}case hf:{if(u){let f=o;return u==="DataView"?f=new Uint8Array(o.buffer):u==="ArrayBuffer"&&(f=new Uint8Array(o)),r([u,[...f]],o)}const h=[],d=r([a,h],o);for(const f of o)h.push(s(f));return d}case Oy:{if(u)switch(u){case"BigInt":return r([u,o.toString()],o);case"Boolean":case"Number":case"String":return r([u,o.valueOf()],o)}if(e&&"toJSON"in o)return s(o.toJSON());const h=[],d=r([a,h],o);for(const f of vj(o))(n||!rg(Ad(o[f])))&&h.push([s(f),s(o[f])]);return d}case B1:return r([a,o.toISOString()],o);case z1:{const{source:h,flags:d}=o;return r([a,{source:h,flags:d}],o)}case U1:{const h=[],d=r([a,h],o);for(const[f,p]of o)(n||!(rg(Ad(f))||rg(Ad(p))))&&h.push([s(f),s(p)]);return d}case H1:{const h=[],d=r([a,h],o);for(const f of o)(n||!rg(Ad(f)))&&h.push(s(f));return d}}const{message:c}=o;return r([a,{name:u,message:c}],o)};return s},oE=(n,{json:e,lossy:t}={})=>{const i=[];return xj(!(e||t),!!e,new Map,i)(n),i},jy=typeof structuredClone=="function"?(n,e)=>e&&("json"in e||"lossy"in e)?sE(oE(n,e)):structuredClone(n):(n,e)=>sE(oE(n,e));function wj(n,e){const t=[{type:"text",value:""}];return e>1&&t.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(e)}]}),t}function bj(n,e){return"Back to reference "+(n+1)+(e>1?"-"+e:"")}function Sj(n){const e=typeof n.options.clobberPrefix=="string"?n.options.clobberPrefix:"user-content-",t=n.options.footnoteBackContent||wj,i=n.options.footnoteBackLabel||bj,r=n.options.footnoteLabel||"Footnotes",s=n.options.footnoteLabelTagName||"h2",o=n.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let u=-1;for(;++u<n.footnoteOrder.length;){const c=n.footnoteById.get(n.footnoteOrder[u]);if(!c)continue;const h=n.all(c),d=String(c.identifier).toUpperCase(),f=ld(d.toLowerCase());let p=0;const v=[],y=n.footnoteCounts.get(d);for(;y!==void 0&&++p<=y;){v.length>0&&v.push({type:"text",value:" "});let b=typeof t=="string"?t:t(u,p);typeof b=="string"&&(b={type:"text",value:b}),v.push({type:"element",tagName:"a",properties:{href:"#"+e+"fnref-"+f+(p>1?"-"+p:""),dataFootnoteBackref:"",ariaLabel:typeof i=="string"?i:i(u,p),className:["data-footnote-backref"]},children:Array.isArray(b)?b:[b]})}const E=h[h.length-1];if(E&&E.type==="element"&&E.tagName==="p"){const b=E.children[E.children.length-1];b&&b.type==="text"?b.value+=" ":E.children.push({type:"text",value:" "}),E.children.push(...v)}else h.push(...v);const m={type:"element",tagName:"li",properties:{id:e+"fn-"+f},children:n.wrap(h,!0)};n.patch(c,m),a.push(m)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:s,properties:{...jy(o),id:"footnote-label"},children:[{type:"text",value:r}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:n.wrap(a,!0)},{type:"text",value:`
`}]}}const xT=function(n){if(n==null)return Cj;if(typeof n=="function")return O0(n);if(typeof n=="object")return Array.isArray(n)?Aj(n):Ej(n);if(typeof n=="string")return kj(n);throw new Error("Expected function, string, or object as test")};function Aj(n){const e=[];let t=-1;for(;++t<n.length;)e[t]=xT(n[t]);return O0(i);function i(...r){let s=-1;for(;++s<e.length;)if(e[s].apply(this,r))return!0;return!1}}function Ej(n){const e=n;return O0(t);function t(i){const r=i;let s;for(s in n)if(r[s]!==e[s])return!1;return!0}}function kj(n){return O0(e);function e(t){return t&&t.type===n}}function O0(n){return e;function e(t,i,r){return!!(_j(t)&&n.call(this,t,typeof i=="number"?i:void 0,r||void 0))}}function Cj(){return!0}function _j(n){return n!==null&&typeof n=="object"&&"type"in n}const wT=[],Tj=!0,aE=!1,Pj="skip";function Rj(n,e,t,i){let r;typeof e=="function"&&typeof t!="function"?(i=t,t=e):r=e;const s=xT(r),o=i?-1:1;a(n,void 0,[])();function a(u,c,h){const d=u&&typeof u=="object"?u:{};if(typeof d.type=="string"){const p=typeof d.tagName=="string"?d.tagName:typeof d.name=="string"?d.name:void 0;Object.defineProperty(f,"name",{value:"node ("+(u.type+(p?"<"+p+">":""))+")"})}return f;function f(){let p=wT,v,y,E;if((!e||s(u,c,h[h.length-1]||void 0))&&(p=Nj(t(u,h)),p[0]===aE))return p;if("children"in u&&u.children){const m=u;if(m.children&&p[0]!==Pj)for(y=(i?m.children.length:-1)+o,E=h.concat(m);y>-1&&y<m.children.length;){const b=m.children[y];if(v=a(b,y,E)(),v[0]===aE)return v;y=typeof v[1]=="number"?v[1]:y+o}}return p}}}function Nj(n){return Array.isArray(n)?n:typeof n=="number"?[Tj,n]:n==null?wT:[n]}function bT(n,e,t,i){let r,s,o;typeof e=="function"&&typeof t!="function"?(s=void 0,o=e,r=t):(s=e,o=t,r=i),Rj(n,s,a,r);function a(u,c){const h=c[c.length-1],d=h?h.children.indexOf(u):void 0;return o(u,d,h)}}const Kx={}.hasOwnProperty,Lj={};function Mj(n,e){const t=e||Lj,i=new Map,r=new Map,s=new Map,o={...mj,...t.handlers},a={all:c,applyData:Ij,definitionById:i,footnoteById:r,footnoteCounts:s,footnoteOrder:[],handlers:o,one:u,options:t,patch:Dj,wrap:Oj};return bT(n,function(h){if(h.type==="definition"||h.type==="footnoteDefinition"){const d=h.type==="definition"?i:r,f=String(h.identifier).toUpperCase();d.has(f)||d.set(f,h)}}),a;function u(h,d){const f=h.type,p=a.handlers[f];if(Kx.call(a.handlers,f)&&p)return p(a,h,d);if(a.options.passThrough&&a.options.passThrough.includes(f)){if("children"in h){const{children:y,...E}=h,m=jy(E);return m.children=a.all(h),m}return jy(h)}return(a.options.unknownHandler||Fj)(a,h,d)}function c(h){const d=[];if("children"in h){const f=h.children;let p=-1;for(;++p<f.length;){const v=a.one(f[p],h);if(v){if(p&&f[p-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=lE(v.value)),!Array.isArray(v)&&v.type==="element")){const y=v.children[0];y&&y.type==="text"&&(y.value=lE(y.value))}Array.isArray(v)?d.push(...v):d.push(v)}}}return d}}function Dj(n,e){n.position&&(e.position=yI(n))}function Ij(n,e){let t=e;if(n&&n.data){const i=n.data.hName,r=n.data.hChildren,s=n.data.hProperties;if(typeof i=="string")if(t.type==="element")t.tagName=i;else{const o="children"in t?t.children:[t];t={type:"element",tagName:i,properties:{},children:o}}t.type==="element"&&s&&Object.assign(t.properties,jy(s)),"children"in t&&t.children&&r!==null&&r!==void 0&&(t.children=r)}return t}function Fj(n,e){const t=e.data||{},i="value"in e&&!(Kx.call(t,"hProperties")||Kx.call(t,"hChildren"))?{type:"text",value:e.value}:{type:"element",tagName:"div",properties:{},children:n.all(e)};return n.patch(e,i),n.applyData(e,i)}function Oj(n,e){const t=[];let i=-1;for(e&&t.push({type:"text",value:`
`});++i<n.length;)i&&t.push({type:"text",value:`
`}),t.push(n[i]);return e&&n.length>0&&t.push({type:"text",value:`
`}),t}function lE(n){let e=0,t=n.charCodeAt(e);for(;t===9||t===32;)e++,t=n.charCodeAt(e);return n.slice(e)}function uE(n,e){const t=Mj(n,e),i=t.one(n,void 0),r=Sj(t),s=Array.isArray(i)?{type:"root",children:i}:i||{type:"root",children:[]};return r&&s.children.push({type:"text",value:`
`},r),s}function jj(n,e){return n&&"run"in n?async function(t,i){const r=uE(t,{file:i,...e});await n.run(r,i)}:function(t,i){return uE(t,{file:i,...n||e})}}function cE(n){if(n)throw n}var Lg=Object.prototype.hasOwnProperty,ST=Object.prototype.toString,hE=Object.defineProperty,dE=Object.getOwnPropertyDescriptor,fE=function(e){return typeof Array.isArray=="function"?Array.isArray(e):ST.call(e)==="[object Array]"},pE=function(e){if(!e||ST.call(e)!=="[object Object]")return!1;var t=Lg.call(e,"constructor"),i=e.constructor&&e.constructor.prototype&&Lg.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!t&&!i)return!1;var r;for(r in e);return typeof r>"u"||Lg.call(e,r)},mE=function(e,t){hE&&t.name==="__proto__"?hE(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},gE=function(e,t){if(t==="__proto__")if(Lg.call(e,t)){if(dE)return dE(e,t).value}else return;return e[t]},Bj=function n(){var e,t,i,r,s,o,a=arguments[0],u=1,c=arguments.length,h=!1;for(typeof a=="boolean"&&(h=a,a=arguments[1]||{},u=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});u<c;++u)if(e=arguments[u],e!=null)for(t in e)i=gE(a,t),r=gE(e,t),a!==r&&(h&&r&&(pE(r)||(s=fE(r)))?(s?(s=!1,o=i&&fE(i)?i:[]):o=i&&pE(i)?i:{},mE(a,{name:t,newValue:n(h,o,r)})):typeof r<"u"&&mE(a,{name:t,newValue:r}));return a};const Mv=kb(Bj);function Qx(n){if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)}function zj(){const n=[],e={run:t,use:i};return e;function t(...r){let s=-1;const o=r.pop();if(typeof o!="function")throw new TypeError("Expected function as last argument, not "+o);a(null,...r);function a(u,...c){const h=n[++s];let d=-1;if(u){o(u);return}for(;++d<r.length;)(c[d]===null||c[d]===void 0)&&(c[d]=r[d]);r=c,h?Uj(h,a)(...c):o(null,...c)}}function i(r){if(typeof r!="function")throw new TypeError("Expected `middelware` to be a function, not "+r);return n.push(r),e}}function Uj(n,e){let t;return i;function i(...o){const a=n.length>o.length;let u;a&&o.push(r);try{u=n.apply(this,o)}catch(c){const h=c;if(a&&t)throw h;return r(h)}a||(u&&u.then&&typeof u.then=="function"?u.then(s,r):u instanceof Error?r(u):s(u))}function r(o,...a){t||(t=!0,e(o,...a))}function s(o){r(null,o)}}const Fr={basename:Hj,dirname:$j,extname:Vj,join:Wj,sep:"/"};function Hj(n,e){if(e!==void 0&&typeof e!="string")throw new TypeError('"ext" argument must be a string');Pm(n);let t=0,i=-1,r=n.length,s;if(e===void 0||e.length===0||e.length>n.length){for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else i<0&&(s=!0,i=r+1);return i<0?"":n.slice(t,i)}if(e===n)return"";let o=-1,a=e.length-1;for(;r--;)if(n.codePointAt(r)===47){if(s){t=r+1;break}}else o<0&&(s=!0,o=r+1),a>-1&&(n.codePointAt(r)===e.codePointAt(a--)?a<0&&(i=r):(a=-1,i=o));return t===i?i=o:i<0&&(i=n.length),n.slice(t,i)}function $j(n){if(Pm(n),n.length===0)return".";let e=-1,t=n.length,i;for(;--t;)if(n.codePointAt(t)===47){if(i){e=t;break}}else i||(i=!0);return e<0?n.codePointAt(0)===47?"/":".":e===1&&n.codePointAt(0)===47?"//":n.slice(0,e)}function Vj(n){Pm(n);let e=n.length,t=-1,i=0,r=-1,s=0,o;for(;e--;){const a=n.codePointAt(e);if(a===47){if(o){i=e+1;break}continue}t<0&&(o=!0,t=e+1),a===46?r<0?r=e:s!==1&&(s=1):r>-1&&(s=-1)}return r<0||t<0||s===0||s===1&&r===t-1&&r===i+1?"":n.slice(r,t)}function Wj(...n){let e=-1,t;for(;++e<n.length;)Pm(n[e]),n[e]&&(t=t===void 0?n[e]:t+"/"+n[e]);return t===void 0?".":Gj(t)}function Gj(n){Pm(n);const e=n.codePointAt(0)===47;let t=qj(n,!e);return t.length===0&&!e&&(t="."),t.length>0&&n.codePointAt(n.length-1)===47&&(t+="/"),e?"/"+t:t}function qj(n,e){let t="",i=0,r=-1,s=0,o=-1,a,u;for(;++o<=n.length;){if(o<n.length)a=n.codePointAt(o);else{if(a===47)break;a=47}if(a===47){if(!(r===o-1||s===1))if(r!==o-1&&s===2){if(t.length<2||i!==2||t.codePointAt(t.length-1)!==46||t.codePointAt(t.length-2)!==46){if(t.length>2){if(u=t.lastIndexOf("/"),u!==t.length-1){u<0?(t="",i=0):(t=t.slice(0,u),i=t.length-1-t.lastIndexOf("/")),r=o,s=0;continue}}else if(t.length>0){t="",i=0,r=o,s=0;continue}}e&&(t=t.length>0?t+"/..":"..",i=2)}else t.length>0?t+="/"+n.slice(r+1,o):t=n.slice(r+1,o),i=o-r-1;r=o,s=0}else a===46&&s>-1?s++:s=-1}return t}function Pm(n){if(typeof n!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(n))}const Xj={cwd:Yj};function Yj(){return"/"}function Jx(n){return!!(n!==null&&typeof n=="object"&&"href"in n&&n.href&&"protocol"in n&&n.protocol&&n.auth===void 0)}function Kj(n){if(typeof n=="string")n=new URL(n);else if(!Jx(n)){const e=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+n+"`");throw e.code="ERR_INVALID_ARG_TYPE",e}if(n.protocol!=="file:"){const e=new TypeError("The URL must be of scheme file");throw e.code="ERR_INVALID_URL_SCHEME",e}return Qj(n)}function Qj(n){if(n.hostname!==""){const i=new TypeError('File URL host must be "localhost" or empty on darwin');throw i.code="ERR_INVALID_FILE_URL_HOST",i}const e=n.pathname;let t=-1;for(;++t<e.length;)if(e.codePointAt(t)===37&&e.codePointAt(t+1)===50){const i=e.codePointAt(t+2);if(i===70||i===102){const r=new TypeError("File URL path must not include encoded / characters");throw r.code="ERR_INVALID_FILE_URL_PATH",r}}return decodeURIComponent(e)}const Dv=["history","path","basename","stem","extname","dirname"];class AT{constructor(e){let t;e?Jx(e)?t={path:e}:typeof e=="string"||Jj(e)?t={value:e}:t=e:t={},this.cwd="cwd"in t?"":Xj.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let i=-1;for(;++i<Dv.length;){const s=Dv[i];s in t&&t[s]!==void 0&&t[s]!==null&&(this[s]=s==="history"?[...t[s]]:t[s])}let r;for(r in t)Dv.includes(r)||(this[r]=t[r])}get basename(){return typeof this.path=="string"?Fr.basename(this.path):void 0}set basename(e){Fv(e,"basename"),Iv(e,"basename"),this.path=Fr.join(this.dirname||"",e)}get dirname(){return typeof this.path=="string"?Fr.dirname(this.path):void 0}set dirname(e){yE(this.basename,"dirname"),this.path=Fr.join(e||"",this.basename)}get extname(){return typeof this.path=="string"?Fr.extname(this.path):void 0}set extname(e){if(Iv(e,"extname"),yE(this.dirname,"extname"),e){if(e.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(e.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Fr.join(this.dirname,this.stem+(e||""))}get path(){return this.history[this.history.length-1]}set path(e){Jx(e)&&(e=Kj(e)),Fv(e,"path"),this.path!==e&&this.history.push(e)}get stem(){return typeof this.path=="string"?Fr.basename(this.path,this.extname):void 0}set stem(e){Fv(e,"stem"),Iv(e,"stem"),this.path=Fr.join(this.dirname||"",e+(this.extname||""))}fail(e,t,i){const r=this.message(e,t,i);throw r.fatal=!0,r}info(e,t,i){const r=this.message(e,t,i);return r.fatal=void 0,r}message(e,t,i){const r=new En(e,t,i);return this.path&&(r.name=this.path+":"+r.name,r.file=this.path),r.fatal=!1,this.messages.push(r),r}toString(e){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(e||void 0).decode(this.value)}}function Iv(n,e){if(n&&n.includes(Fr.sep))throw new Error("`"+e+"` cannot be a path: did not expect `"+Fr.sep+"`")}function Fv(n,e){if(!n)throw new Error("`"+e+"` cannot be empty")}function yE(n,e){if(!n)throw new Error("Setting `"+e+"` requires `path` to be set too")}function Jj(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const Zj=function(n){const i=this.constructor.prototype,r=i[n],s=function(){return r.apply(s,arguments)};return Object.setPrototypeOf(s,i),s},eB={}.hasOwnProperty;class $1 extends Zj{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=zj()}copy(){const e=new $1;let t=-1;for(;++t<this.attachers.length;){const i=this.attachers[t];e.use(...i)}return e.data(Mv(!0,{},this.namespace)),e}data(e,t){return typeof e=="string"?arguments.length===2?(Bv("data",this.frozen),this.namespace[e]=t,this):eB.call(this.namespace,e)&&this.namespace[e]||void 0:e?(Bv("data",this.frozen),this.namespace=e,this):this.namespace}freeze(){if(this.frozen)return this;const e=this;for(;++this.freezeIndex<this.attachers.length;){const[t,...i]=this.attachers[this.freezeIndex];if(i[0]===!1)continue;i[0]===!0&&(i[0]=void 0);const r=t.call(e,...i);typeof r=="function"&&this.transformers.use(r)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(e){this.freeze();const t=sg(e),i=this.parser||this.Parser;return Ov("parse",i),i(String(t),t)}process(e,t){const i=this;return this.freeze(),Ov("process",this.parser||this.Parser),jv("process",this.compiler||this.Compiler),t?r(void 0,t):new Promise(r);function r(s,o){const a=sg(e),u=i.parse(a);i.run(u,a,function(h,d,f){if(h||!d||!f)return c(h);const p=d,v=i.stringify(p,f);iB(v)?f.value=v:f.result=v,c(h,f)});function c(h,d){h||!d?o(h):s?s(d):t(void 0,d)}}}processSync(e){let t=!1,i;return this.freeze(),Ov("processSync",this.parser||this.Parser),jv("processSync",this.compiler||this.Compiler),this.process(e,r),xE("processSync","process",t),i;function r(s,o){t=!0,cE(s),i=o}}run(e,t,i){vE(e),this.freeze();const r=this.transformers;return!i&&typeof t=="function"&&(i=t,t=void 0),i?s(void 0,i):new Promise(s);function s(o,a){const u=sg(t);r.run(e,u,c);function c(h,d,f){const p=d||e;h?a(h):o?o(p):i(void 0,p,f)}}}runSync(e,t){let i=!1,r;return this.run(e,t,s),xE("runSync","run",i),r;function s(o,a){cE(o),r=a,i=!0}}stringify(e,t){this.freeze();const i=sg(t),r=this.compiler||this.Compiler;return jv("stringify",r),vE(e),r(e,i)}use(e,...t){const i=this.attachers,r=this.namespace;if(Bv("use",this.frozen),e!=null)if(typeof e=="function")u(e,t);else if(typeof e=="object")Array.isArray(e)?a(e):o(e);else throw new TypeError("Expected usable value, not `"+e+"`");return this;function s(c){if(typeof c=="function")u(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[h,...d]=c;u(h,d)}else o(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function o(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(r.settings=Mv(!0,r.settings,c.settings))}function a(c){let h=-1;if(c!=null)if(Array.isArray(c))for(;++h<c.length;){const d=c[h];s(d)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function u(c,h){let d=-1,f=-1;for(;++d<i.length;)if(i[d][0]===c){f=d;break}if(f===-1)i.push([c,...h]);else if(h.length>0){let[p,...v]=h;const y=i[f][1];Qx(y)&&Qx(p)&&(p=Mv(!0,y,p)),i[f]=[c,p,...v]}}}}const tB=new $1().freeze();function Ov(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `parser`")}function jv(n,e){if(typeof e!="function")throw new TypeError("Cannot `"+n+"` without `compiler`")}function Bv(n,e){if(e)throw new Error("Cannot call `"+n+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function vE(n){if(!Qx(n)||typeof n.type!="string")throw new TypeError("Expected node, got `"+n+"`")}function xE(n,e,t){if(!t)throw new Error("`"+n+"` finished async. Use `"+e+"` instead")}function sg(n){return nB(n)?n:new AT(n)}function nB(n){return!!(n&&typeof n=="object"&&"message"in n&&"messages"in n)}function iB(n){return typeof n=="string"||rB(n)}function rB(n){return!!(n&&typeof n=="object"&&"byteLength"in n&&"byteOffset"in n)}const sB="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",wE=[],bE={allowDangerousHtml:!0},oB=/^(https?|ircs?|mailto|xmpp)$/i,aB=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function lB(n){const e=uB(n),t=cB(n);return hB(e.runSync(e.parse(t),t),n)}function uB(n){const e=n.rehypePlugins||wE,t=n.remarkPlugins||wE,i=n.remarkRehypeOptions?{...n.remarkRehypeOptions,...bE}:bE;return tB().use($O).use(t).use(jj,i).use(e)}function cB(n){const e=n.children||"",t=new AT;return typeof e=="string"&&(t.value=e),t}function hB(n,e){const t=e.allowedElements,i=e.allowElement,r=e.components,s=e.disallowedElements,o=e.skipHtml,a=e.unwrapDisallowed,u=e.urlTransform||dB;for(const h of aB)Object.hasOwn(e,h.from)&&(""+h.from+(h.to?"use `"+h.to+"` instead":"remove it")+sB+h.id,void 0);return bT(n,c),SI(n,{Fragment:w.Fragment,components:r,ignoreInvalidStyle:!0,jsx:w.jsx,jsxs:w.jsxs,passKeys:!0,passNode:!0});function c(h,d,f){if(h.type==="raw"&&f&&typeof d=="number")return o?f.children.splice(d,1):f.children[d]={type:"text",value:h.value},d;if(h.type==="element"){let p;for(p in Rv)if(Object.hasOwn(Rv,p)&&Object.hasOwn(h.properties,p)){const v=h.properties[p],y=Rv[p];(y===null||y.includes(h.tagName))&&(h.properties[p]=u(String(v||""),p,h))}}if(h.type==="element"){let p=t?!t.includes(h.tagName):s?s.includes(h.tagName):!1;if(!p&&i&&typeof d=="number"&&(p=!i(h,d,f)),p&&f&&typeof d=="number")return a&&h.children?f.children.splice(d,1,...h.children):f.children.splice(d,1),d}}}function dB(n){const e=n.indexOf(":"),t=n.indexOf("?"),i=n.indexOf("#"),r=n.indexOf("/");return e===-1||r!==-1&&e>r||t!==-1&&e>t||i!==-1&&e>i||oB.test(n.slice(0,e))?n:""}const Nn=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),Zx=[.001,0,0,.001,0,0],zv=1.35,Ai={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},ls={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},Lf="pdfjs_internal_editor_",ae={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},Se={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},ET={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},Qt={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},df={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},St={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},Ou={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},Rm={ERRORS:0,WARNINGS:1,INFOS:5},Jh={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},og={moveTo:0,lineTo:1,curveTo:2,closePath:3},kT={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let j0=Rm.WARNINGS;function fB(n){Number.isInteger(n)&&(j0=n)}function pB(){return j0}function B0(n){j0>=Rm.INFOS&&console.info(`Info: ${n}`)}function le(n){j0>=Rm.WARNINGS&&console.warn(`Warning: ${n}`)}function We(n){throw new Error(n)}function Ae(n,e){n||We(e)}function mB(n){switch(n==null?void 0:n.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function V1(n,e=null,t=null){if(!n)return null;if(t&&typeof n=="string"){if(t.addDefaultProtocol&&n.startsWith("www.")){const r=n.match(/\./g);(r==null?void 0:r.length)>=2&&(n=`http://${n}`)}if(t.tryConvertEncoding)try{n=wB(n)}catch{}}const i=e?URL.parse(n,e):URL.parse(n);return mB(i)?i:null}function W1(n,e,t=!1){const i=URL.parse(n);return i?(i.hash=e,i.href):t&&V1(n,"http://example.com")?n.split("#",1)[0]+`${e?`#${e}`:""}`:""}function pe(n,e,t,i=!1){return Object.defineProperty(n,e,{value:t,enumerable:!i,configurable:!0,writable:!1}),t}const Pu=function(){function e(t,i){this.message=t,this.name=i}return e.prototype=new Error,e.constructor=e,e}();class SE extends Pu{constructor(e,t){super(e,"PasswordException"),this.code=t}}class Uv extends Pu{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class By extends Pu{constructor(e){super(e,"InvalidPDFException")}}class Mf extends Pu{constructor(e,t,i){super(e,"ResponseException"),this.status=t,this.missing=i}}class gB extends Pu{constructor(e){super(e,"FormatError")}}class yo extends Pu{constructor(e){super(e,"AbortException")}}function CT(n){(typeof n!="object"||(n==null?void 0:n.length)===void 0)&&We("Invalid argument for bytesToString");const e=n.length,t=8192;if(e<t)return String.fromCharCode.apply(null,n);const i=[];for(let r=0;r<e;r+=t){const s=Math.min(r+t,e),o=n.subarray(r,s);i.push(String.fromCharCode.apply(null,o))}return i.join("")}function Nm(n){typeof n!="string"&&We("Invalid argument for stringToBytes");const e=n.length,t=new Uint8Array(e);for(let i=0;i<e;++i)t[i]=n.charCodeAt(i)&255;return t}function yB(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,n&255)}function vB(){const n=new Uint8Array(4);return n[0]=1,new Uint32Array(n.buffer,0,1)[0]===1}function xB(){try{return new Function(""),!0}catch{return!1}}class Yt{static get isLittleEndian(){return pe(this,"isLittleEndian",vB())}static get isEvalSupported(){return pe(this,"isEvalSupported",xB())}static get isOffscreenCanvasSupported(){return pe(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return pe(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:t}=navigator;return pe(this,"platform",{isAndroid:t.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:t.includes("Firefox")})}static get isCSSRoundSupported(){var e,t;return pe(this,"isCSSRoundSupported",(t=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const Hv=Array.from(Array(256).keys(),n=>n.toString(16).padStart(2,"0"));var uo,Mg,ew;class J{static makeHexColor(e,t,i){return`#${Hv[e]}${Hv[t]}${Hv[i]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,t){let i;e[0]?(e[0]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[3],t[3]*=e[3]):(i=t[0],t[0]=t[1],t[1]=i,i=t[2],t[2]=t[3],t[3]=i,e[1]<0&&(i=t[1],t[1]=t[3],t[3]=i),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(i=t[0],t[0]=t[2],t[2]=i),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static multiplyByDOMMatrix(e,t){return[e[0]*t.a+e[2]*t.b,e[1]*t.a+e[3]*t.b,e[0]*t.c+e[2]*t.d,e[1]*t.c+e[3]*t.d,e[0]*t.e+e[2]*t.f+e[4],e[1]*t.e+e[3]*t.f+e[5]]}static applyTransform(e,t,i=0){const r=e[i],s=e[i+1];e[i]=r*t[0]+s*t[2]+t[4],e[i+1]=r*t[1]+s*t[3]+t[5]}static applyTransformToBezier(e,t,i=0){const r=t[0],s=t[1],o=t[2],a=t[3],u=t[4],c=t[5];for(let h=0;h<6;h+=2){const d=e[i+h],f=e[i+h+1];e[i+h]=d*r+f*o+u,e[i+h+1]=d*s+f*a+c}}static applyInverseTransform(e,t){const i=e[0],r=e[1],s=t[0]*t[3]-t[1]*t[2];e[0]=(i*t[3]-r*t[2]+t[2]*t[5]-t[4]*t[3])/s,e[1]=(-i*t[1]+r*t[0]+t[4]*t[1]-t[5]*t[0])/s}static axialAlignedBoundingBox(e,t,i){const r=t[0],s=t[1],o=t[2],a=t[3],u=t[4],c=t[5],h=e[0],d=e[1],f=e[2],p=e[3];let v=r*h+u,y=v,E=r*f+u,m=E,b=a*d+c,x=b,k=a*p+c,_=k;if(s!==0||o!==0){const C=s*h,P=s*f,L=o*d,D=o*p;v+=L,m+=L,E+=D,y+=D,b+=C,_+=C,k+=P,x+=P}i[0]=Math.min(i[0],v,E,y,m),i[1]=Math.min(i[1],b,k,x,_),i[2]=Math.max(i[2],v,E,y,m),i[3]=Math.max(i[3],b,k,x,_)}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e,t){const i=e[0],r=e[1],s=e[2],o=e[3],a=i**2+r**2,u=i*s+r*o,c=s**2+o**2,h=(a+c)/2,d=Math.sqrt(h**2-(a*c-u**2));t[0]=Math.sqrt(h+d||1),t[1]=Math.sqrt(h-d||1)}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const i=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(i>r)return null;const s=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),o=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return s>o?null:[i,s,r,o]}static pointBoundingBox(e,t,i){i[0]=Math.min(i[0],e),i[1]=Math.min(i[1],t),i[2]=Math.max(i[2],e),i[3]=Math.max(i[3],t)}static rectBoundingBox(e,t,i,r,s){s[0]=Math.min(s[0],e,i),s[1]=Math.min(s[1],t,r),s[2]=Math.max(s[2],e,i),s[3]=Math.max(s[3],t,r)}static bezierBoundingBox(e,t,i,r,s,o,a,u,c){c[0]=Math.min(c[0],e,a),c[1]=Math.min(c[1],t,u),c[2]=Math.max(c[2],e,a),c[3]=Math.max(c[3],t,u),A(this,uo,ew).call(this,e,i,s,a,t,r,o,u,3*(-e+3*(i-s)+a),6*(e-2*i+s),3*(i-e),c),A(this,uo,ew).call(this,e,i,s,a,t,r,o,u,3*(-t+3*(r-o)+u),6*(t-2*r+o),3*(r-t),c)}}uo=new WeakSet,Mg=function(e,t,i,r,s,o,a,u,c,h){if(c<=0||c>=1)return;const d=1-c,f=c*c,p=f*c,v=d*(d*(d*e+3*c*t)+3*f*i)+p*r,y=d*(d*(d*s+3*c*o)+3*f*a)+p*u;h[0]=Math.min(h[0],v),h[1]=Math.min(h[1],y),h[2]=Math.max(h[2],v),h[3]=Math.max(h[3],y)},ew=function(e,t,i,r,s,o,a,u,c,h,d,f){if(Math.abs(c)<1e-12){Math.abs(h)>=1e-12&&A(this,uo,Mg).call(this,e,t,i,r,s,o,a,u,-d/h,f);return}const p=h**2-4*d*c;if(p<0)return;const v=Math.sqrt(p),y=2*c;A(this,uo,Mg).call(this,e,t,i,r,s,o,a,u,(-h+v)/y,f),A(this,uo,Mg).call(this,e,t,i,r,s,o,a,u,(-h-v)/y,f)},S(J,uo);function wB(n){return decodeURIComponent(escape(n))}let $v=null,AE=null;function _T(n){return $v||($v=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,AE=new Map([["","t"]])),n.replaceAll($v,(e,t,i)=>t?t.normalize("NFKC"):AE.get(i))}function G1(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const n=new Uint8Array(32);return crypto.getRandomValues(n),CT(n)}const q1="pdfjs_internal_id_";function bB(n,e,t){if(!Array.isArray(t)||t.length<2)return!1;const[i,r,...s]=t;if(!n(i)&&!Number.isInteger(i)||!e(r))return!1;const o=s.length;let a=!0;switch(r.name){case"XYZ":if(o<2||o>3)return!1;break;case"Fit":case"FitB":return o===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(o>1)return!1;break;case"FitR":if(o!==4)return!1;a=!1;break;default:return!1}for(const u of s)if(!(typeof u=="number"||a&&u===null))return!1;return!0}function wn(n,e,t){return Math.min(Math.max(n,e),t)}function TT(n){return Uint8Array.prototype.toBase64?n.toBase64():btoa(CT(n))}function SB(n){return Uint8Array.fromBase64?Uint8Array.fromBase64(n):Nm(atob(n))}typeof Promise.try!="function"&&(Promise.try=function(n,...e){return new Promise(t=>{t(n(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(n){return n.reduce((e,t)=>e+t,0)});class Df{static textContent(e){const t=[],i={items:t,styles:Object.create(null)};function r(s){var u;if(!s)return;let o=null;const a=s.name;if(a==="#text")o=s.value;else if(Df.shouldBuildText(a))(u=s==null?void 0:s.attributes)!=null&&u.textContent?o=s.attributes.textContent:s.value&&(o=s.value);else return;if(o!==null&&t.push({str:o}),!!s.children)for(const c of s.children)r(c)}return r(e),i}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class X1{static setupStorage(e,t,i,r,s){const o=r.getValue(t,{value:null});switch(i.name){case"textarea":if(o.value!==null&&(e.textContent=o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})});break;case"input":if(i.attributes.type==="radio"||i.attributes.type==="checkbox"){if(o.value===i.attributes.xfaOn?e.setAttribute("checked",!0):o.value===i.attributes.xfaOff&&e.removeAttribute("checked"),s==="print")break;e.addEventListener("change",a=>{r.setValue(t,{value:a.target.checked?a.target.getAttribute("xfaOn"):a.target.getAttribute("xfaOff")})})}else{if(o.value!==null&&e.setAttribute("value",o.value),s==="print")break;e.addEventListener("input",a=>{r.setValue(t,{value:a.target.value})})}break;case"select":if(o.value!==null){e.setAttribute("value",o.value);for(const a of i.children)a.attributes.value===o.value?a.attributes.selected=!0:a.attributes.hasOwnProperty("selected")&&delete a.attributes.selected}e.addEventListener("input",a=>{const u=a.target.options,c=u.selectedIndex===-1?"":u[u.selectedIndex].value;r.setValue(t,{value:c})});break}}static setAttributes({html:e,element:t,storage:i=null,intent:r,linkService:s}){const{attributes:o}=t,a=e instanceof HTMLAnchorElement;o.type==="radio"&&(o.name=`${o.name}-${r}`);for(const[u,c]of Object.entries(o))if(c!=null)switch(u){case"class":c.length&&e.setAttribute(u,c.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",c);break;case"style":Object.assign(e.style,c);break;case"textContent":e.textContent=c;break;default:(!a||u!=="href"&&u!=="newWindow")&&e.setAttribute(u,c)}a&&s.addLinkAttributes(e,o.href,o.newWindow),i&&o.dataId&&this.setupStorage(e,o.dataId,t,i)}static render(e){var d,f;const t=e.annotationStorage,i=e.linkService,r=e.xfaHtml,s=e.intent||"display",o=document.createElement(r.name);r.attributes&&this.setAttributes({html:o,element:r,intent:s,linkService:i});const a=s!=="richText",u=e.div;if(u.append(o),e.viewport){const p=`matrix(${e.viewport.transform.join(",")})`;u.style.transform=p}a&&u.setAttribute("class","xfaLayer xfaFont");const c=[];if(r.children.length===0){if(r.value){const p=document.createTextNode(r.value);o.append(p),a&&Df.shouldBuildText(r.name)&&c.push(p)}return{textDivs:c}}const h=[[r,-1,o]];for(;h.length>0;){const[p,v,y]=h.at(-1);if(v+1===p.children.length){h.pop();continue}const E=p.children[++h.at(-1)[1]];if(E===null)continue;const{name:m}=E;if(m==="#text"){const x=document.createTextNode(E.value);c.push(x),y.append(x);continue}const b=(d=E==null?void 0:E.attributes)!=null&&d.xmlns?document.createElementNS(E.attributes.xmlns,m):document.createElement(m);if(y.append(b),E.attributes&&this.setAttributes({html:b,element:E,storage:t,intent:s,linkService:i}),((f=E.children)==null?void 0:f.length)>0)h.push([E,-1,b]);else if(E.value){const x=document.createTextNode(E.value);a&&Df.shouldBuildText(m)&&c.push(x),b.append(x)}}for(const p of u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))p.setAttribute("readOnly",!0);return{textDivs:c}}static update(e){const t=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=t,e.div.hidden=!1}}const vs="http://www.w3.org/2000/svg",Za=class Za{};B(Za,"CSS",96),B(Za,"PDF",72),B(Za,"PDF_TO_CSS_UNITS",Za.CSS/Za.PDF);let vo=Za;async function ud(n,e="text"){if(Ld(n,document.baseURI)){const t=await fetch(n);if(!t.ok)throw new Error(t.statusText);switch(e){case"arraybuffer":return t.arrayBuffer();case"blob":return t.blob();case"json":return t.json()}return t.text()}return new Promise((t,i)=>{const r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType=e,r.onreadystatechange=()=>{if(r.readyState===XMLHttpRequest.DONE){if(r.status===200||r.status===0){switch(e){case"arraybuffer":case"blob":case"json":t(r.response);return}t(r.responseText);return}i(new Error(r.statusText))}},r.send(null)})}class Lm{constructor({viewBox:e,userUnit:t,scale:i,rotation:r,offsetX:s=0,offsetY:o=0,dontFlip:a=!1}){this.viewBox=e,this.userUnit=t,this.scale=i,this.rotation=r,this.offsetX=s,this.offsetY=o,i*=t;const u=(e[2]+e[0])/2,c=(e[3]+e[1])/2;let h,d,f,p;switch(r%=360,r<0&&(r+=360),r){case 180:h=-1,d=0,f=0,p=1;break;case 90:h=0,d=1,f=1,p=0;break;case 270:h=0,d=-1,f=-1,p=0;break;case 0:h=1,d=0,f=0,p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(f=-f,p=-p);let v,y,E,m;h===0?(v=Math.abs(c-e[1])*i+s,y=Math.abs(u-e[0])*i+o,E=(e[3]-e[1])*i,m=(e[2]-e[0])*i):(v=Math.abs(u-e[0])*i+s,y=Math.abs(c-e[1])*i+o,E=(e[2]-e[0])*i,m=(e[3]-e[1])*i),this.transform=[h*i,d*i,f*i,p*i,v-h*i*u-f*i*c,y-d*i*u-p*i*c],this.width=E,this.height=m}get rawDims(){const e=this.viewBox;return pe(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:t=this.rotation,offsetX:i=this.offsetX,offsetY:r=this.offsetY,dontFlip:s=!1}={}){return new Lm({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}convertToViewportPoint(e,t){const i=[e,t];return J.applyTransform(i,this.transform),i}convertToViewportRectangle(e){const t=[e[0],e[1]];J.applyTransform(t,this.transform);const i=[e[2],e[3]];return J.applyTransform(i,this.transform),[t[0],t[1],i[0],i[1]]}convertToPdfPoint(e,t){const i=[e,t];return J.applyInverseTransform(i,this.transform),i}}class z0 extends Pu{constructor(e,t=0){super(e,"RenderingCancelledException"),this.extraDelay=t}}function Mm(n){const e=n.length;let t=0;for(;t<e&&n[t].trim()==="";)t++;return n.substring(t,t+5).toLowerCase()==="data:"}function U0(n){return typeof n=="string"&&/\.pdf$/i.test(n)}function PT(n){return[n]=n.split(/[#?]/,1),n.substring(n.lastIndexOf("/")+1)}function RT(n,e="document.pdf"){if(typeof n!="string")return e;if(Mm(n))return le('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const i=(a=>{try{return new URL(a)}catch{try{return new URL(decodeURIComponent(a))}catch{try{return new URL(a,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(a),"https://foo.bar")}catch{return null}}}}})(n);if(!i)return e;const r=a=>{try{let u=decodeURIComponent(a);return u.includes("/")?(u=u.split("/").at(-1),u.test(/^\.pdf$/i)?u:a):u}catch{return a}},s=/\.pdf$/i,o=i.pathname.split("/").at(-1);if(s.test(o))return r(o);if(i.searchParams.size>0){const a=Array.from(i.searchParams.values()).reverse();for(const c of a)if(s.test(c))return r(c);const u=Array.from(i.searchParams.keys()).reverse();for(const c of u)if(s.test(c))return r(c)}if(i.hash){const u=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(i.hash);if(u)return r(u[0])}return e}class EE{constructor(){B(this,"started",Object.create(null));B(this,"times",[])}time(e){e in this.started&&le(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||le(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:i}of this.times)t=Math.max(i.length,t);for(const{name:i,start:r,end:s}of this.times)e.push(`${i.padEnd(t)} ${s-r}ms
`);return e.join("")}}function Ld(n,e){const t=e?URL.parse(n,e):URL.parse(n);return(t==null?void 0:t.protocol)==="http:"||(t==null?void 0:t.protocol)==="https:"}function Li(n){n.preventDefault()}function ut(n){n.preventDefault(),n.stopPropagation()}function AB(n){console.log("Deprecated API usage: "+n)}var zf;class If{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;l(this,zf)||g(this,zf,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const t=l(this,zf).exec(e);if(!t)return null;const i=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let s=parseInt(t[3],10);s=s>=1&&s<=31?s:1;let o=parseInt(t[4],10);o=o>=0&&o<=23?o:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let u=parseInt(t[6],10);u=u>=0&&u<=59?u:0;const c=t[7]||"Z";let h=parseInt(t[8],10);h=h>=0&&h<=23?h:0;let d=parseInt(t[9],10)||0;return d=d>=0&&d<=59?d:0,c==="-"?(o+=h,a+=d):c==="+"&&(o-=h,a-=d),new Date(Date.UTC(i,r,s,o,a,u))}}zf=new WeakMap,S(If,zf);function NT(n,{scale:e=1,rotation:t=0}){const{width:i,height:r}=n.attributes.style,s=[0,0,parseInt(i),parseInt(r)];return new Lm({viewBox:s,userUnit:1,scale:e,rotation:t})}function cd(n){if(n.startsWith("#")){const e=parseInt(n.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return n.startsWith("rgb(")?n.slice(4,-1).split(",").map(e=>parseInt(e)):n.startsWith("rgba(")?n.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(le(`Not a valid color format: "${n}"`),[0,0,0])}function EB(n){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const t of n.keys()){e.style.color=t;const i=window.getComputedStyle(e).color;n.set(t,cd(i))}e.remove()}function at(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform();return[e,t,i,r,s,o]}function Lr(n){const{a:e,b:t,c:i,d:r,e:s,f:o}=n.getTransform().invertSelf();return[e,t,i,r,s,o]}function Ia(n,e,t=!1,i=!0){if(e instanceof Lm){const{pageWidth:r,pageHeight:s}=e.rawDims,{style:o}=n,a=Yt.isCSSRoundSupported,u=`var(--total-scale-factor) * ${r}px`,c=`var(--total-scale-factor) * ${s}px`,h=a?`round(down, ${u}, var(--scale-round-x))`:`calc(${u})`,d=a?`round(down, ${c}, var(--scale-round-y))`:`calc(${c})`;!t||e.rotation%180===0?(o.width=h,o.height=d):(o.width=d,o.height=h)}i&&n.setAttribute("data-main-rotation",e.rotation)}class Pr{constructor(){const{pixelRatio:e}=Pr;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,t,i,r,s=-1){let o=1/0,a=1/0,u=1/0;i=Pr.capPixels(i,s),i>0&&(o=Math.sqrt(i/(e*t))),r!==-1&&(a=r/e,u=r/t);const c=Math.min(o,a,u);return this.sx>c||this.sy>c?(this.sx=c,this.sy=c,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,t){if(t>=0){const i=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+t/100));return e>0?Math.min(e,i):i}return e}}const zy=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class kB{static get isDarkMode(){var e;return pe(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class LT{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:t}=e;t.width=t.height="0",t.display="none",t.color="var(--comment-fg-color)",document.body.append(e);const{color:i}=window.getComputedStyle(e);return e.remove(),pe(this,"commentForegroundColor",cd(i))}}function MT(n,e,t,i){i=Math.min(Math.max(i??1,0),1);const r=255*(1-i);return n=Math.round(n*i+r),e=Math.round(e*i+r),t=Math.round(t*i+r),[n,e,t]}function kE(n,e){const t=n[0]/255,i=n[1]/255,r=n[2]/255,s=Math.max(t,i,r),o=Math.min(t,i,r),a=(s+o)/2;if(s===o)e[0]=e[1]=0;else{const u=s-o;switch(e[1]=a<.5?u/(s+o):u/(2-s-o),s){case t:e[0]=((i-r)/u+(i<r?6:0))*60;break;case i:e[0]=((r-t)/u+2)*60;break;case r:e[0]=((t-i)/u+4)*60;break}}e[2]=a}function tw(n,e){const t=n[0],i=n[1],r=n[2],s=(1-Math.abs(2*r-1))*i,o=s*(1-Math.abs(t/60%2-1)),a=r-s/2;switch(Math.floor(t/60)){case 0:e[0]=s+a,e[1]=o+a,e[2]=a;break;case 1:e[0]=o+a,e[1]=s+a,e[2]=a;break;case 2:e[0]=a,e[1]=s+a,e[2]=o+a;break;case 3:e[0]=a,e[1]=o+a,e[2]=s+a;break;case 4:e[0]=o+a,e[1]=a,e[2]=s+a;break;case 5:case 6:e[0]=s+a,e[1]=a,e[2]=o+a;break}}function CE(n){return n<=.03928?n/12.92:((n+.055)/1.055)**2.4}function _E(n,e,t){tw(n,t),t.map(CE);const i=.2126*t[0]+.7152*t[1]+.0722*t[2];tw(e,t),t.map(CE);const r=.2126*t[0]+.7152*t[1]+.0722*t[2];return i>r?(i+.05)/(r+.05):(r+.05)/(i+.05)}const TE=new Map;function DT(n,e){const t=n[0]+n[1]*256+n[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let i=TE.get(t);if(i)return i;const r=new Float32Array(9),s=r.subarray(0,3),o=r.subarray(3,6);kE(n,o);const a=r.subarray(6,9);kE(e,a);const u=a[2]<.5,c=u?12:4.5;if(o[2]=u?Math.sqrt(o[2]):1-Math.sqrt(1-o[2]),_E(o,a,s)<c){let h,d;u?(h=o[2],d=1):(h=0,d=o[2]);const f=.005;for(;d-h>f;){const p=o[2]=(h+d)/2;u===_E(o,a,s)<c?h=p:d=p}o[2]=u?d:h}return tw(o,s),i=J.makeHexColor(Math.round(s[0]*255),Math.round(s[1]*255),Math.round(s[2]*255)),TE.set(t,i),i}function Y1({html:n,dir:e,className:t},i){const r=document.createDocumentFragment();if(typeof n=="string"){const s=document.createElement("p");s.dir=e||"auto";const o=n.split(/(?:\r\n?|\n)/);for(let a=0,u=o.length;a<u;++a){const c=o[a];s.append(document.createTextNode(c)),a<u-1&&s.append(document.createElement("br"))}r.append(s)}else X1.render({xfaHtml:n,div:r,intent:"richText"});r.firstChild.classList.add("richText",t),i.append(r)}var Po,Ro,Oi,ji,Uf,No,xc,wc,Hf,Qy,IT,an,FT,OT,ju,Md;const Ss=class Ss{constructor(e){S(this,an);S(this,Po,null);S(this,Ro,null);S(this,Oi);S(this,ji,null);S(this,Uf,null);S(this,No,null);S(this,xc,null);S(this,wc,null);g(this,Oi,e),l(Ss,Hf)||g(Ss,Hf,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=g(this,Po,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=l(this,Oi)._uiManager._signal;t instanceof AbortSignal&&!t.aborted&&(e.addEventListener("contextmenu",Li,{signal:t}),e.addEventListener("pointerdown",A(Ss,Qy,IT),{signal:t}));const i=g(this,ji,document.createElement("div"));i.className="buttons",e.append(i);const r=l(this,Oi).toolbarPosition;if(r){const{style:s}=e,o=l(this,Oi)._uiManager.direction==="ltr"?1-r[0]:r[0];s.insetInlineEnd=`${100*o}%`,s.top=`calc(${100*r[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return l(this,Po)}hide(){var e;l(this,Po).classList.add("hidden"),(e=l(this,Ro))==null||e.hideDropdown()}show(){var e,t;l(this,Po).classList.remove("hidden"),(e=l(this,Uf))==null||e.shown(),(t=l(this,No))==null||t.shown()}addDeleteButton(){const{editorType:e,_uiManager:t}=l(this,Oi),i=document.createElement("button");i.classList.add("basic","deleteButton"),i.tabIndex=0,i.setAttribute("data-l10n-id",l(Ss,Hf)[e]),A(this,an,ju).call(this,i)&&i.addEventListener("click",r=>{t.delete()},{signal:t._signal}),l(this,ji).append(i)}async addAltText(e){const t=await e.render();A(this,an,ju).call(this,t),l(this,ji).append(t,l(this,an,Md)),g(this,Uf,e)}addComment(e,t=null){if(l(this,No))return;const i=e.renderForToolbar();if(!i)return;A(this,an,ju).call(this,i);const r=g(this,xc,l(this,an,Md));t?(l(this,ji).insertBefore(i,t),l(this,ji).insertBefore(r,t)):l(this,ji).append(i,r),g(this,No,e),e.toolbar=this}addColorPicker(e){if(l(this,Ro))return;g(this,Ro,e);const t=e.renderButton();A(this,an,ju).call(this,t),l(this,ji).append(t,l(this,an,Md))}async addEditSignatureButton(e){const t=g(this,wc,await e.renderEditButton(l(this,Oi)));A(this,an,ju).call(this,t),l(this,ji).append(t,l(this,an,Md))}removeButton(e){var t,i;switch(e){case"comment":(t=l(this,No))==null||t.removeToolbarCommentButton(),g(this,No,null),(i=l(this,xc))==null||i.remove(),g(this,xc,null);break}}async addButton(e,t){switch(e){case"colorPicker":this.addColorPicker(t);break;case"altText":await this.addAltText(t);break;case"editSignature":await this.addEditSignatureButton(t);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(t);break}}async addButtonBefore(e,t,i){const r=l(this,ji).querySelector(i);r&&e==="comment"&&this.addComment(t,r)}updateEditSignatureButton(e){l(this,wc)&&(l(this,wc).title=e)}remove(){var e;l(this,Po).remove(),(e=l(this,Ro))==null||e.destroy(),g(this,Ro,null)}};Po=new WeakMap,Ro=new WeakMap,Oi=new WeakMap,ji=new WeakMap,Uf=new WeakMap,No=new WeakMap,xc=new WeakMap,wc=new WeakMap,Hf=new WeakMap,Qy=new WeakSet,IT=function(e){e.stopPropagation()},an=new WeakSet,FT=function(e){l(this,Oi)._focusEventsAllowed=!1,ut(e)},OT=function(e){l(this,Oi)._focusEventsAllowed=!0,ut(e)},ju=function(e){const t=l(this,Oi)._uiManager._signal;return!(t instanceof AbortSignal)||t.aborted?!1:(e.addEventListener("focusin",A(this,an,FT).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",A(this,an,OT).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Li,{signal:t}),!0)},Md=function(){const e=document.createElement("div");return e.className="divider",e},S(Ss,Qy),S(Ss,Hf,null);let nw=Ss;var $f,sl,ks,xo,jT,BT,iw;class CB{constructor(e){S(this,xo);S(this,$f,null);S(this,sl,null);S(this,ks);g(this,ks,e)}show(e,t,i){const[r,s]=A(this,xo,BT).call(this,t,i),{style:o}=l(this,sl)||g(this,sl,A(this,xo,jT).call(this));e.append(l(this,sl)),o.insetInlineEnd=`${100*r}%`,o.top=`calc(${100*s}% + var(--editor-toolbar-vert-offset))`}hide(){l(this,sl).remove()}}$f=new WeakMap,sl=new WeakMap,ks=new WeakMap,xo=new WeakSet,jT=function(){const e=g(this,sl,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const t=l(this,ks)._signal;t instanceof AbortSignal&&!t.aborted&&e.addEventListener("contextmenu",Li,{signal:t});const i=g(this,$f,document.createElement("div"));return i.className="buttons",e.append(i),l(this,ks).hasCommentManager()&&A(this,xo,iw).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{l(this,ks).commentSelection("floating_button")}),A(this,xo,iw).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{l(this,ks).highlightSelection("floating_button")}),e},BT=function(e,t){let i=0,r=0;for(const s of e){const o=s.y+s.height;if(o<i)continue;const a=s.x+(t?s.width:0);if(o>i){r=a,i=o;continue}t?a>r&&(r=a):a<r&&(r=a)}return[t?1-r:r,i]},iw=function(e,t,i,r){const s=document.createElement("button");s.classList.add("basic",e),s.tabIndex=0,s.setAttribute("data-l10n-id",t);const o=document.createElement("span");s.append(o),o.className="visuallyHidden",o.setAttribute("data-l10n-id",i);const a=l(this,ks)._signal;a instanceof AbortSignal&&!a.aborted&&(s.addEventListener("contextmenu",Li,{signal:a}),s.addEventListener("click",r,{signal:a})),l(this,$f).append(s)};function zT(n,e,t){for(const i of t)e.addEventListener(i,n[i].bind(n))}var Jy;class _B{constructor(){S(this,Jy,0)}get id(){return`${Lf}${Lt(this,Jy)._++}`}}Jy=new WeakMap;var bc,Vf,pn,Sc,Dg;const aS=class aS{constructor(){S(this,Sc);S(this,bc,G1());S(this,Vf,0);S(this,pn,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',i=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),r=new Image;r.src=e;const s=r.decode().then(()=>(i.drawImage(r,0,0,1,1,0,0,1,3),new Uint32Array(i.getImageData(0,0,1,1).data.buffer)[0]===0));return pe(this,"_isSVGFittingCanvas",s)}async getFromFile(e){const{lastModified:t,name:i,size:r,type:s}=e;return A(this,Sc,Dg).call(this,`${t}_${i}_${r}_${s}`,e)}async getFromUrl(e){return A(this,Sc,Dg).call(this,e,e)}async getFromBlob(e,t){const i=await t;return A(this,Sc,Dg).call(this,e,i)}async getFromId(e){l(this,pn)||g(this,pn,new Map);const t=l(this,pn).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:i}=t;return delete t.blobPromise,this.getFromBlob(t.id,i)}return this.getFromUrl(t.url)}getFromCanvas(e,t){l(this,pn)||g(this,pn,new Map);let i=l(this,pn).get(e);if(i!=null&&i.bitmap)return i.refCounter+=1,i;const r=new OffscreenCanvas(t.width,t.height);return r.getContext("2d").drawImage(t,0,0),i={bitmap:r.transferToImageBitmap(),id:`image_${l(this,bc)}_${Lt(this,Vf)._++}`,refCounter:1,isSvg:!1},l(this,pn).set(e,i),l(this,pn).set(i.id,i),i}getSvgUrl(e){const t=l(this,pn).get(e);return t!=null&&t.isSvg?t.svgUrl:null}deleteId(e){var r;l(this,pn)||g(this,pn,new Map);const t=l(this,pn).get(e);if(!t||(t.refCounter-=1,t.refCounter!==0))return;const{bitmap:i}=t;if(!t.url&&!t.file){const s=new OffscreenCanvas(i.width,i.height);s.getContext("bitmaprenderer").transferFromImageBitmap(i),t.blobPromise=s.convertToBlob()}(r=i.close)==null||r.call(i),t.bitmap=null}isValidId(e){return e.startsWith(`image_${l(this,bc)}_`)}};bc=new WeakMap,Vf=new WeakMap,pn=new WeakMap,Sc=new WeakSet,Dg=async function(e,t){l(this,pn)||g(this,pn,new Map);let i=l(this,pn).get(e);if(i===null)return null;if(i!=null&&i.bitmap)return i.refCounter+=1,i;try{i||(i={bitmap:null,id:`image_${l(this,bc)}_${Lt(this,Vf)._++}`,refCounter:0,isSvg:!1});let r;if(typeof t=="string"?(i.url=t,r=await ud(t,"blob")):t instanceof File?r=i.file=t:t instanceof Blob&&(r=t),r.type==="image/svg+xml"){const s=aS._isSVGFittingCanvas,o=new FileReader,a=new Image,u=new Promise((c,h)=>{a.onload=()=>{i.bitmap=a,i.isSvg=!0,c()},o.onload=async()=>{const d=i.svgUrl=o.result;a.src=await s?`${d}#svgView(preserveAspectRatio(none))`:d},a.onerror=o.onerror=h});o.readAsDataURL(r),await u}else i.bitmap=await createImageBitmap(r);i.refCounter=1}catch(r){le(r),i=null}return l(this,pn).set(e,i),i&&l(this,pn).set(i.id,i),i};let rw=aS;var At,Lo,Wf,ot;class TB{constructor(e=128){S(this,At,[]);S(this,Lo,!1);S(this,Wf);S(this,ot,-1);g(this,Wf,e)}add({cmd:e,undo:t,post:i,mustExec:r,type:s=NaN,overwriteIfSameType:o=!1,keepUndo:a=!1}){if(r&&e(),l(this,Lo))return;const u={cmd:e,undo:t,post:i,type:s};if(l(this,ot)===-1){l(this,At).length>0&&(l(this,At).length=0),g(this,ot,0),l(this,At).push(u);return}if(o&&l(this,At)[l(this,ot)].type===s){a&&(u.undo=l(this,At)[l(this,ot)].undo),l(this,At)[l(this,ot)]=u;return}const c=l(this,ot)+1;c===l(this,Wf)?l(this,At).splice(0,1):(g(this,ot,c),c<l(this,At).length&&l(this,At).splice(c)),l(this,At).push(u)}undo(){if(l(this,ot)===-1)return;g(this,Lo,!0);const{undo:e,post:t}=l(this,At)[l(this,ot)];e(),t==null||t(),g(this,Lo,!1),g(this,ot,l(this,ot)-1)}redo(){if(l(this,ot)<l(this,At).length-1){g(this,ot,l(this,ot)+1),g(this,Lo,!0);const{cmd:e,post:t}=l(this,At)[l(this,ot)];e(),t==null||t(),g(this,Lo,!1)}}hasSomethingToUndo(){return l(this,ot)!==-1}hasSomethingToRedo(){return l(this,ot)<l(this,At).length-1}cleanType(e){if(l(this,ot)!==-1){for(let t=l(this,ot);t>=0;t--)if(l(this,At)[t].type!==e){l(this,At).splice(t+1,l(this,ot)-t),g(this,ot,t);return}l(this,At).length=0,g(this,ot,-1)}}destroy(){g(this,At,null)}}At=new WeakMap,Lo=new WeakMap,Wf=new WeakMap,ot=new WeakMap;var Zy,UT;class Dm{constructor(e){S(this,Zy);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=Yt.platform;for(const[i,r,s={}]of e)for(const o of i){const a=o.startsWith("mac+");t&&a?(this.callbacks.set(o.slice(4),{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1))):!t&&!a&&(this.callbacks.set(o,{callback:r,options:s}),this.allKeys.add(o.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const i=this.callbacks.get(A(this,Zy,UT).call(this,t));if(!i)return;const{callback:r,options:{bubbles:s=!1,args:o=[],checker:a=null}}=i;a&&!a(e,t)||(r.bind(e,...o,t)(),s||ut(t))}}Zy=new WeakSet,UT=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t};const e0=class e0{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return EB(e),pe(this,"_colors",e)}convert(e){const t=cd(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[i,r]of this._colors)if(r.every((s,o)=>s===t[o]))return e0._colorsMapping.get(i);return t}getHexCode(e){const t=this._colors.get(e);return t?J.makeHexColor(...t):e}};B(e0,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let sw=e0;var Ac,oi,Ec,pt,Dt,kc,Bi,Cc,zi,mn,Mo,Do,_c,Io,Or,Ui,ol,Gf,qf,Tc,Xf,jr,Fo,Pc,Oo,Br,t0,jo,Rc,Yf,Bo,al,Nc,zo,Kf,Tt,Le,Cs,Uo,Ho,Qf,Lc,Jf,$o,zr,_s,Zf,ep,Hi,Y,Ig,ow,HT,$T,Dd,VT,WT,GT,aw,qT,lw,uw,XT,Cn,xs,YT,KT,cw,QT,Id,hw;const rc=class rc{constructor(e,t,i,r,s,o,a,u,c,h,d,f,p,v,y,E){S(this,Y);S(this,Ac,new AbortController);S(this,oi,null);S(this,Ec,null);S(this,pt,new Map);S(this,Dt,new Map);S(this,kc,null);S(this,Bi,null);S(this,Cc,null);S(this,zi,new TB);S(this,mn,null);S(this,Mo,null);S(this,Do,null);S(this,_c,0);S(this,Io,new Set);S(this,Or,null);S(this,Ui,null);S(this,ol,new Set);B(this,"_editorUndoBar",null);S(this,Gf,!1);S(this,qf,!1);S(this,Tc,!1);S(this,Xf,null);S(this,jr,null);S(this,Fo,null);S(this,Pc,null);S(this,Oo,!1);S(this,Br,null);S(this,t0,new _B);S(this,jo,!1);S(this,Rc,!1);S(this,Yf,!1);S(this,Bo,null);S(this,al,null);S(this,Nc,null);S(this,zo,null);S(this,Kf,null);S(this,Tt,ae.NONE);S(this,Le,new Set);S(this,Cs,null);S(this,Uo,null);S(this,Ho,null);S(this,Qf,null);S(this,Lc,null);S(this,Jf,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});S(this,$o,[0,0]);S(this,zr,null);S(this,_s,null);S(this,Zf,null);S(this,ep,null);S(this,Hi,null);const m=this._signal=l(this,Ac).signal;g(this,_s,e),g(this,Zf,t),g(this,ep,i),g(this,kc,r),g(this,mn,s),g(this,Uo,o),g(this,Lc,u),this._eventBus=a,a._on("editingaction",this.onEditingAction.bind(this),{signal:m}),a._on("pagechanging",this.onPageChanging.bind(this),{signal:m}),a._on("scalechanging",this.onScaleChanging.bind(this),{signal:m}),a._on("rotationchanging",this.onRotationChanging.bind(this),{signal:m}),a._on("setpreference",this.onSetPreference.bind(this),{signal:m}),a._on("switchannotationeditorparams",b=>this.updateParams(b.type,b.value),{signal:m}),window.addEventListener("pointerdown",()=>{g(this,Rc,!0)},{capture:!0,signal:m}),window.addEventListener("pointerup",()=>{g(this,Rc,!1)},{capture:!0,signal:m}),A(this,Y,VT).call(this),A(this,Y,XT).call(this),A(this,Y,aw).call(this),g(this,Bi,u.annotationStorage),g(this,Xf,u.filterFactory),g(this,Ho,c),g(this,Pc,h||null),g(this,Gf,d),g(this,qf,f),g(this,Tc,p),g(this,Kf,v||null),this.viewParameters={realScale:vo.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=y||null,this._supportsPinchToZoom=E!==!1,s==null||s.setSidebarUiManager(this)}static get _keyboardManager(){const e=rc.prototype,t=o=>l(o,_s).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&o.hasSomethingToControl(),i=(o,{target:a})=>{if(a instanceof HTMLInputElement){const{type:u}=a;return u!=="text"&&u!=="number"}return!0},r=this.TRANSLATE_SMALL,s=this.TRANSLATE_BIG;return pe(this,"_keyboardManager",new Dm([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:i}],[["ctrl+z","mac+meta+z"],e.undo,{checker:i}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:i}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:i}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,_s).contains(a)&&!o.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(o,{target:a})=>!(a instanceof HTMLButtonElement)&&l(o,_s).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-s,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[s,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-s],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,s],checker:t}]]))}destroy(){var e,t,i,r,s,o,a,u,c;(e=l(this,Hi))==null||e.resolve(),g(this,Hi,null),(t=l(this,Ac))==null||t.abort(),g(this,Ac,null),this._signal=null;for(const h of l(this,Dt).values())h.destroy();l(this,Dt).clear(),l(this,pt).clear(),l(this,ol).clear(),(i=l(this,zo))==null||i.clear(),g(this,oi,null),l(this,Le).clear(),l(this,zi).destroy(),(r=l(this,kc))==null||r.destroy(),(s=l(this,mn))==null||s.destroy(),(o=l(this,Uo))==null||o.destroy(),(a=l(this,Br))==null||a.hide(),g(this,Br,null),(u=l(this,Nc))==null||u.destroy(),g(this,Nc,null),g(this,Ec,null),l(this,jr)&&(clearTimeout(l(this,jr)),g(this,jr,null)),l(this,zr)&&(clearTimeout(l(this,zr)),g(this,zr,null)),(c=this._editorUndoBar)==null||c.destroy(),g(this,Lc,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return l(this,Kf)}get useNewAltTextFlow(){return l(this,qf)}get useNewAltTextWhenAddingImage(){return l(this,Tc)}get hcmFilter(){return pe(this,"hcmFilter",l(this,Ho)?l(this,Xf).addHCMFilter(l(this,Ho).foreground,l(this,Ho).background):"none")}get direction(){return pe(this,"direction",getComputedStyle(l(this,_s)).direction)}get _highlightColors(){return pe(this,"_highlightColors",l(this,Pc)?new Map(l(this,Pc).split(",").map(e=>(e=e.split("=").map(t=>t.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return pe(this,"highlightColors",null);const t=new Map,i=!!l(this,Ho);for(const[r,s]of e){const o=r.endsWith("_HCM");if(i&&o){t.set(r.replace("_HCM",""),s);continue}!i&&!o&&t.set(r,s)}return pe(this,"highlightColors",t)}get highlightColorNames(){return pe(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const t=this.highlightColorNames.get(e);return this._highlightColors.get(t)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),g(this,Do,e)}setMainHighlightColorPicker(e){g(this,Nc,e)}editAltText(e,t=!1){var i;(i=l(this,kc))==null||i.editAltText(this,e,t)}hasCommentManager(){return!!l(this,mn)}editComment(e,t,i,r){var s;(s=l(this,mn))==null||s.showDialog(this,e,t,i,r)}selectComment(e,t){const i=l(this,Dt).get(e),r=i==null?void 0:i.getEditorByUID(t);r==null||r.toggleComment(!0,!0)}updateComment(e){var t;(t=l(this,mn))==null||t.updateComment(e.getData())}updatePopupColor(e){var t;(t=l(this,mn))==null||t.updatePopupColor(e)}removeComment(e){var t;(t=l(this,mn))==null||t.removeComments([e.uid])}toggleComment(e,t,i=void 0){var r;(r=l(this,mn))==null||r.toggleCommentPopup(e,t,i)}makeCommentColor(e,t){var i;return e&&((i=l(this,mn))==null?void 0:i.makeCommentColor(e,t))||null}getCommentDialogElement(){var e;return((e=l(this,mn))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(l(this,Dt).has(e-1))return;const{resolve:t,promise:i}=Promise.withResolvers(),r=s=>{s.pageNumber===e&&(this._eventBus._off("editorsrendered",r),t())};this._eventBus.on("editorsrendered",r),await i}getSignature(e){var t;(t=l(this,Uo))==null||t.getSignature({uiManager:this,editor:e})}get signatureManager(){return l(this,Uo)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference({name:e,value:t}){switch(e){case"enableNewAltTextWhenAddingImage":g(this,Tc,t);break}}onPageChanging({pageNumber:e}){g(this,_c,e-1)}focusMainContainer(){l(this,_s).focus()}findParent(e,t){for(const i of l(this,Dt).values()){const{x:r,y:s,width:o,height:a}=i.div.getBoundingClientRect();if(e>=r&&e<=r+o&&t>=s&&t<=s+a)return i}return null}disableUserSelect(e=!1){l(this,Zf).classList.toggle("noUserSelect",e)}addShouldRescale(e){l(this,ol).add(e)}removeShouldRescale(e){l(this,ol).delete(e)}onScaleChanging({scale:e}){var t;this.commitOrRemove(),this.viewParameters.realScale=e*vo.PDF_TO_CSS_UNITS;for(const i of l(this,ol))i.onScaleChanging();(t=l(this,Do))==null||t.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",t=!1){const i=document.getSelection();if(!i||i.isCollapsed)return;const{anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a}=i,u=i.toString(),h=A(this,Y,Ig).call(this,i).closest(".textLayer"),d=this.getSelectionBoxes(h);if(!d)return;i.empty();const f=A(this,Y,ow).call(this,h),p=l(this,Tt)===ae.NONE,v=()=>{const y=f==null?void 0:f.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:d,anchorNode:r,anchorOffset:s,focusNode:o,focusOffset:a,text:u});p&&this.showAllEditors("highlight",!0,!0),t&&(y==null||y.editComment())};if(p){this.switchToMode(ae.HIGHLIGHT,v);return}v()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!l(this,Bi))return null;const t=`${Lf}${e}`,i=l(this,Bi).getRawValue(t);return i&&l(this,Bi).remove(t),i}addToAnnotationStorage(e){!e.isEmpty()&&l(this,Bi)&&!l(this,Bi).has(e.id)&&l(this,Bi).setValue(e.id,e)}a11yAlert(e,t=null){const i=l(this,ep);i&&(i.setAttribute("data-l10n-id",e),t?i.setAttribute("data-l10n-args",JSON.stringify(t)):i.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,l(this,Oo)&&(g(this,Oo,!1),A(this,Y,Dd).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of l(this,Le))if(t.div.contains(e)){g(this,al,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!l(this,al))return;const[e,t]=l(this,al);g(this,al,null),t.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),t.focus()}addEditListeners(){A(this,Y,aw).call(this),A(this,Y,lw).call(this)}removeEditListeners(){A(this,Y,qT).call(this),A(this,Y,uw).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const i of l(this,Ui))if(i.isHandlingMimeForPasting(t)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const t of e.dataTransfer.items)for(const i of l(this,Ui))if(i.isHandlingMimeForPasting(t.type)){i.paste(t,this.currentLayer),e.preventDefault();return}}copy(e){var i;if(e.preventDefault(),(i=l(this,oi))==null||i.commitOrRemove(),!this.hasSelection)return;const t=[];for(const r of l(this,Le)){const s=r.serialize(!0);s&&t.push(s)}t.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(t))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const o of l(this,Ui))if(o.isHandlingMimeForPasting(s.type)){o.paste(s,this.currentLayer);return}let i=t.getData("application/pdfjs");if(!i)return;try{i=JSON.parse(i)}catch(s){le(`paste: "${s.message}".`);return}if(!Array.isArray(i))return;this.unselectAll();const r=this.currentLayer;try{const s=[];for(const u of i){const c=await r.deserialize(u);if(!c)return;s.push(c)}const o=()=>{for(const u of s)A(this,Y,cw).call(this,u);A(this,Y,hw).call(this,s)},a=()=>{for(const u of s)u.remove()};this.addCommands({cmd:o,undo:a,mustExec:!0})}catch(s){le(`paste: "${s.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),l(this,Tt)!==ae.NONE&&!this.isEditorHandlingKeyboard&&rc._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,l(this,Oo)&&(g(this,Oo,!1),A(this,Y,Dd).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(A(this,Y,WT).call(this),A(this,Y,lw).call(this),A(this,Y,Cn).call(this,{isEditing:l(this,Tt)!==ae.NONE,isEmpty:A(this,Y,Id).call(this),hasSomethingToUndo:l(this,zi).hasSomethingToUndo(),hasSomethingToRedo:l(this,zi).hasSomethingToRedo(),hasSelectedEditor:!1})):(A(this,Y,GT).call(this),A(this,Y,uw).call(this),A(this,Y,Cn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!l(this,Ui)){g(this,Ui,e);for(const t of l(this,Ui))A(this,Y,xs).call(this,t.defaultPropertiesToUpdate)}}getId(){return l(this,t0).id}get currentLayer(){return l(this,Dt).get(l(this,_c))}getLayer(e){return l(this,Dt).get(e)}get currentPageIndex(){return l(this,_c)}addLayer(e){l(this,Dt).set(e.pageIndex,e),l(this,jo)?e.enable():e.disable()}removeLayer(e){l(this,Dt).delete(e.pageIndex)}async updateMode(e,t=null,i=!1,r=!1,s=!1){var o,a,u,c,h,d;if(l(this,Tt)!==e&&!(l(this,Hi)&&(await l(this,Hi).promise,!l(this,Hi)))){if(g(this,Hi,Promise.withResolvers()),(o=l(this,Do))==null||o.commitOrRemove(),l(this,Tt)===ae.POPUP&&((a=l(this,mn))==null||a.hideSidebar()),(u=l(this,mn))==null||u.destroyPopup(),g(this,Tt,e),e===ae.NONE){this.setEditingState(!1),A(this,Y,KT).call(this);for(const f of l(this,pt).values())f.hideStandaloneCommentButton();(c=this._editorUndoBar)==null||c.hide(),this.toggleComment(null),l(this,Hi).resolve();return}for(const f of l(this,pt).values())f.addStandaloneCommentButton();e===ae.SIGNATURE&&await((h=l(this,Uo))==null?void 0:h.loadSignatures()),this.setEditingState(!0),await A(this,Y,YT).call(this),this.unselectAll();for(const f of l(this,Dt).values())f.updateMode(e);if(e===ae.POPUP){l(this,Ec)||g(this,Ec,await l(this,Lc).getAnnotationsByType(new Set(l(this,Ui).map(v=>v._editorType))));const f=new Set,p=[];for(const v of l(this,pt).values()){const{annotationElementId:y,hasComment:E,deleted:m}=v;y&&f.add(y),E&&!m&&p.push(v.getData())}for(const v of l(this,Ec)){const{id:y,popupRef:E,contentsObj:m}=v;E&&(m!=null&&m.str)&&!f.has(y)&&!l(this,Io).has(y)&&p.push(v)}(d=l(this,mn))==null||d.showSidebar(p)}if(!t){i&&this.addNewEditorFromKeyboard(),l(this,Hi).resolve();return}for(const f of l(this,pt).values())f.uid===t?(this.setSelected(f),s?f.editComment():r?f.enterInEditMode():f.focus()):f.unselect();l(this,Hi).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==l(this,Tt)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,t){if(l(this,Ui)){switch(e){case Se.CREATE:this.currentLayer.addNewEditor(t);return;case Se.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(l(this,Qf)||g(this,Qf,new Map)).set(e,t),this.showAllEditors("highlight",t);break}if(this.hasSelection)for(const i of l(this,Le))i.updateParams(e,t);else for(const i of l(this,Ui))i.updateDefaultParams(e,t)}}showAllEditors(e,t,i=!1){var s;for(const o of l(this,pt).values())o.editorType===e&&o.show(t);(((s=l(this,Qf))==null?void 0:s.get(Se.HIGHLIGHT_SHOW_ALL))??!0)!==t&&A(this,Y,xs).call(this,[[Se.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(e=!1){if(l(this,Yf)!==e){g(this,Yf,e);for(const t of l(this,Dt).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}*getEditors(e){for(const t of l(this,pt).values())t.pageIndex===e&&(yield t)}getEditor(e){return l(this,pt).get(e)}addEditor(e){l(this,pt).set(e.id,e)}removeEditor(e){var t,i;e.div.contains(document.activeElement)&&(l(this,jr)&&clearTimeout(l(this,jr)),g(this,jr,setTimeout(()=>{this.focusMainContainer(),g(this,jr,null)},0))),l(this,pt).delete(e.id),e.annotationElementId&&((t=l(this,zo))==null||t.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!l(this,Io).has(e.annotationElementId))&&((i=l(this,Bi))==null||i.remove(e.id))}addDeletedAnnotationElement(e){l(this,Io).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return l(this,Io).has(e)}removeDeletedAnnotationElement(e){l(this,Io).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){l(this,oi)!==e&&(g(this,oi,e),e&&A(this,Y,xs).call(this,e.propertiesToUpdate))}updateUI(e){l(this,Y,QT)===e&&A(this,Y,xs).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){A(this,Y,xs).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(l(this,Le).has(e)){l(this,Le).delete(e),e.unselect(),A(this,Y,Cn).call(this,{hasSelectedEditor:this.hasSelection});return}l(this,Le).add(e),e.select(),A(this,Y,xs).call(this,e.propertiesToUpdate),A(this,Y,Cn).call(this,{hasSelectedEditor:!0})}setSelected(e){var t;this.updateToolbar({mode:e.mode,editId:e.id}),(t=l(this,Do))==null||t.commitOrRemove();for(const i of l(this,Le))i!==e&&i.unselect();l(this,Le).clear(),l(this,Le).add(e),e.select(),A(this,Y,xs).call(this,e.propertiesToUpdate),A(this,Y,Cn).call(this,{hasSelectedEditor:!0})}isSelected(e){return l(this,Le).has(e)}get firstSelectedEditor(){return l(this,Le).values().next().value}unselect(e){e.unselect(),l(this,Le).delete(e),A(this,Y,Cn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return l(this,Le).size!==0}get isEnterHandled(){return l(this,Le).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;l(this,zi).undo(),A(this,Y,Cn).call(this,{hasSomethingToUndo:l(this,zi).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:A(this,Y,Id).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){l(this,zi).redo(),A(this,Y,Cn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:l(this,zi).hasSomethingToRedo(),isEmpty:A(this,Y,Id).call(this)})}addCommands(e){l(this,zi).add(e),A(this,Y,Cn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:A(this,Y,Id).call(this)})}cleanUndoStack(e){l(this,zi).cleanType(e)}delete(){var s;this.commitOrRemove();const e=(s=this.currentLayer)==null?void 0:s.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const t=e?[e]:[...l(this,Le)],i=()=>{var o;(o=this._editorUndoBar)==null||o.show(r,t.length===1?t[0].editorType:t.length);for(const a of t)a.remove()},r=()=>{for(const o of t)A(this,Y,cw).call(this,o)};this.addCommands({cmd:i,undo:r,mustExec:!0})}commitOrRemove(){var e;(e=l(this,oi))==null||e.commitOrRemove()}hasSomethingToControl(){return l(this,oi)||this.hasSelection}selectAll(){for(const e of l(this,Le))e.commit();A(this,Y,hw).call(this,l(this,pt).values())}unselectAll(){var e;if(!(l(this,oi)&&(l(this,oi).commitOrRemove(),l(this,Tt)!==ae.NONE))&&!((e=l(this,Do))!=null&&e.commitOrRemove())&&this.hasSelection){for(const t of l(this,Le))t.unselect();l(this,Le).clear(),A(this,Y,Cn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t,i=!1){if(i||this.commitOrRemove(),!this.hasSelection)return;l(this,$o)[0]+=e,l(this,$o)[1]+=t;const[r,s]=l(this,$o),o=[...l(this,Le)],a=1e3;l(this,zr)&&clearTimeout(l(this,zr)),g(this,zr,setTimeout(()=>{g(this,zr,null),l(this,$o)[0]=l(this,$o)[1]=0,this.addCommands({cmd:()=>{for(const u of o)l(this,pt).has(u.id)&&(u.translateInPage(r,s),u.translationDone())},undo:()=>{for(const u of o)l(this,pt).has(u.id)&&(u.translateInPage(-r,-s),u.translationDone())},mustExec:!1})},a));for(const u of o)u.translateInPage(e,t),u.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),g(this,Or,new Map);for(const e of l(this,Le))l(this,Or).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!l(this,Or))return!1;this.disableUserSelect(!1);const e=l(this,Or);g(this,Or,null);let t=!1;for(const[{x:r,y:s,pageIndex:o},a]of e)a.newX=r,a.newY=s,a.newPageIndex=o,t||(t=r!==a.savedX||s!==a.savedY||o!==a.savedPageIndex);if(!t)return!1;const i=(r,s,o,a)=>{if(l(this,pt).has(r.id)){const u=l(this,Dt).get(a);u?r._setParentAndPosition(u,s,o):(r.pageIndex=a,r.x=s,r.y=o)}};return this.addCommands({cmd:()=>{for(const[r,{newX:s,newY:o,newPageIndex:a}]of e)i(r,s,o,a)},undo:()=>{for(const[r,{savedX:s,savedY:o,savedPageIndex:a}]of e)i(r,s,o,a)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(l(this,Or))for(const i of l(this,Or).keys())i.drag(e,t)}rebuild(e){if(e.parent===null){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||l(this,Le).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return l(this,oi)===e}getActive(){return l(this,oi)}getMode(){return l(this,Tt)}isEditingMode(){return l(this,Tt)!==ae.NONE}get imageManager(){return pe(this,"imageManager",new rw)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let c=0,h=t.rangeCount;c<h;c++)if(!e.contains(t.getRangeAt(c).commonAncestorContainer))return null;const{x:i,y:r,width:s,height:o}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(c,h,d,f)=>({x:(h-r)/o,y:1-(c+d-i)/s,width:f/o,height:d/s});break;case"180":a=(c,h,d,f)=>({x:1-(c+d-i)/s,y:1-(h+f-r)/o,width:d/s,height:f/o});break;case"270":a=(c,h,d,f)=>({x:1-(h+f-r)/o,y:(c-i)/s,width:f/o,height:d/s});break;default:a=(c,h,d,f)=>({x:(c-i)/s,y:(h-r)/o,width:d/s,height:f/o});break}const u=[];for(let c=0,h=t.rangeCount;c<h;c++){const d=t.getRangeAt(c);if(!d.collapsed)for(const{x:f,y:p,width:v,height:y}of d.getClientRects())v===0||y===0||u.push(a(f,p,v,y))}return u.length===0?null:u}addChangedExistingAnnotation({annotationElementId:e,id:t}){(l(this,Cc)||g(this,Cc,new Map)).set(e,t)}removeChangedExistingAnnotation({annotationElementId:e}){var t;(t=l(this,Cc))==null||t.delete(e)}renderAnnotationElement(e){var r;const t=(r=l(this,Cc))==null?void 0:r.get(e.data.id);if(!t)return;const i=l(this,Bi).getRawValue(t);i&&(l(this,Tt)===ae.NONE&&!i.hasBeenModified||i.renderAnnotationElement(e))}setMissingCanvas(e,t,i){var s;const r=(s=l(this,zo))==null?void 0:s.get(e);r&&(r.setCanvas(t,i),l(this,zo).delete(e))}addMissingCanvas(e,t){(l(this,zo)||g(this,zo,new Map)).set(e,t)}};Ac=new WeakMap,oi=new WeakMap,Ec=new WeakMap,pt=new WeakMap,Dt=new WeakMap,kc=new WeakMap,Bi=new WeakMap,Cc=new WeakMap,zi=new WeakMap,mn=new WeakMap,Mo=new WeakMap,Do=new WeakMap,_c=new WeakMap,Io=new WeakMap,Or=new WeakMap,Ui=new WeakMap,ol=new WeakMap,Gf=new WeakMap,qf=new WeakMap,Tc=new WeakMap,Xf=new WeakMap,jr=new WeakMap,Fo=new WeakMap,Pc=new WeakMap,Oo=new WeakMap,Br=new WeakMap,t0=new WeakMap,jo=new WeakMap,Rc=new WeakMap,Yf=new WeakMap,Bo=new WeakMap,al=new WeakMap,Nc=new WeakMap,zo=new WeakMap,Kf=new WeakMap,Tt=new WeakMap,Le=new WeakMap,Cs=new WeakMap,Uo=new WeakMap,Ho=new WeakMap,Qf=new WeakMap,Lc=new WeakMap,Jf=new WeakMap,$o=new WeakMap,zr=new WeakMap,_s=new WeakMap,Zf=new WeakMap,ep=new WeakMap,Hi=new WeakMap,Y=new WeakSet,Ig=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},ow=function(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const i of l(this,Dt).values())if(i.hasTextLayer(e))return i;return null},HT=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const i=A(this,Y,Ig).call(this,e).closest(".textLayer"),r=this.getSelectionBoxes(i);r&&(l(this,Br)||g(this,Br,new CB(this)),l(this,Br).show(i,r,this.direction==="ltr"))},$T=function(){var s,o,a;const e=document.getSelection();if(!e||e.isCollapsed){l(this,Cs)&&((s=l(this,Br))==null||s.hide(),g(this,Cs,null),A(this,Y,Cn).call(this,{hasSelectedText:!1}));return}const{anchorNode:t}=e;if(t===l(this,Cs))return;const r=A(this,Y,Ig).call(this,e).closest(".textLayer");if(!r){l(this,Cs)&&((o=l(this,Br))==null||o.hide(),g(this,Cs,null),A(this,Y,Cn).call(this,{hasSelectedText:!1}));return}if((a=l(this,Br))==null||a.hide(),g(this,Cs,t),A(this,Y,Cn).call(this,{hasSelectedText:!0}),!(l(this,Tt)!==ae.HIGHLIGHT&&l(this,Tt)!==ae.NONE)&&(l(this,Tt)===ae.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),g(this,Oo,this.isShiftKeyDown),!this.isShiftKeyDown)){const u=l(this,Tt)===ae.HIGHLIGHT?A(this,Y,ow).call(this,r):null;if(u==null||u.toggleDrawing(),l(this,Rc)){const c=new AbortController,h=this.combinedSignal(c),d=f=>{f.type==="pointerup"&&f.button!==0||(c.abort(),u==null||u.toggleDrawing(!0),f.type==="pointerup"&&A(this,Y,Dd).call(this,"main_toolbar"))};window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("blur",d,{signal:h})}else u==null||u.toggleDrawing(!0),A(this,Y,Dd).call(this,"main_toolbar")}},Dd=function(e=""){l(this,Tt)===ae.HIGHLIGHT?this.highlightSelection(e):l(this,Gf)&&A(this,Y,HT).call(this)},VT=function(){document.addEventListener("selectionchange",A(this,Y,$T).bind(this),{signal:this._signal})},WT=function(){if(l(this,Fo))return;g(this,Fo,new AbortController);const e=this.combinedSignal(l(this,Fo));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},GT=function(){var e;(e=l(this,Fo))==null||e.abort(),g(this,Fo,null)},aw=function(){if(l(this,Bo))return;g(this,Bo,new AbortController);const e=this.combinedSignal(l(this,Bo));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},qT=function(){var e;(e=l(this,Bo))==null||e.abort(),g(this,Bo,null)},lw=function(){if(l(this,Mo))return;g(this,Mo,new AbortController);const e=this.combinedSignal(l(this,Mo));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},uw=function(){var e;(e=l(this,Mo))==null||e.abort(),g(this,Mo,null)},XT=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},Cn=function(e){Object.entries(e).some(([i,r])=>l(this,Jf)[i]!==r)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(l(this,Jf),e)}),l(this,Tt)===ae.HIGHLIGHT&&e.hasSelectedEditor===!1&&A(this,Y,xs).call(this,[[Se.HIGHLIGHT_FREE,!0]]))},xs=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},YT=async function(){if(!l(this,jo)){g(this,jo,!0);const e=[];for(const t of l(this,Dt).values())e.push(t.enable());await Promise.all(e);for(const t of l(this,pt).values())t.enable()}},KT=function(){if(this.unselectAll(),l(this,jo)){g(this,jo,!1);for(const e of l(this,Dt).values())e.disable();for(const e of l(this,pt).values())e.disable()}},cw=function(e){const t=l(this,Dt).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},QT=function(){let e=null;for(e of l(this,Le));return e},Id=function(){if(l(this,pt).size===0)return!0;if(l(this,pt).size===1)for(const e of l(this,pt).values())return e.isEmpty();return!1},hw=function(e){for(const t of l(this,Le))t.unselect();l(this,Le).clear();for(const t of e)t.isEmpty()||(l(this,Le).add(t),t.select());A(this,Y,Cn).call(this,{hasSelectedEditor:this.hasSelection})},B(rc,"TRANSLATE_SMALL",1),B(rc,"TRANSLATE_BIG",10);let Fa=rc;var zt,Ur,cr,Mc,Hr,ai,Dc,$r,Hn,Ts,ll,Vr,Vo,Er,Fd,Fg;const _n=class _n{constructor(e){S(this,Er);S(this,zt,null);S(this,Ur,!1);S(this,cr,null);S(this,Mc,null);S(this,Hr,null);S(this,ai,null);S(this,Dc,!1);S(this,$r,null);S(this,Hn,null);S(this,Ts,null);S(this,ll,null);S(this,Vr,!1);g(this,Hn,e),g(this,Vr,e._uiManager.useNewAltTextFlow),l(_n,Vo)||g(_n,Vo,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){_n._l10n??(_n._l10n=e)}async render(){const e=g(this,cr,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=g(this,Mc,document.createElement("span"));e.append(t),l(this,Vr)?(e.classList.add("new"),e.setAttribute("data-l10n-id",l(_n,Vo).missing),t.setAttribute("data-l10n-id",l(_n,Vo)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const i=l(this,Hn)._uiManager._signal;e.addEventListener("contextmenu",Li,{signal:i}),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),l(this,Hn)._uiManager.editAltText(l(this,Hn)),l(this,Vr)&&l(this,Hn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:l(this,Er,Fd)}})};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(g(this,Dc,!0),r(s))},{signal:i}),await A(this,Er,Fg).call(this),e}finish(){l(this,cr)&&(l(this,cr).focus({focusVisible:l(this,Dc)}),g(this,Dc,!1))}isEmpty(){return l(this,Vr)?l(this,zt)===null:!l(this,zt)&&!l(this,Ur)}hasData(){return l(this,Vr)?l(this,zt)!==null||!!l(this,Ts):this.isEmpty()}get guessedText(){return l(this,Ts)}async setGuessedText(e){l(this,zt)===null&&(g(this,Ts,e),g(this,ll,await _n._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),A(this,Er,Fg).call(this))}toggleAltTextBadge(e=!1){var t;if(!l(this,Vr)||l(this,zt)){(t=l(this,$r))==null||t.remove(),g(this,$r,null);return}if(!l(this,$r)){const i=g(this,$r,document.createElement("div"));i.className="noAltTextBadge",l(this,Hn).div.append(i)}l(this,$r).classList.toggle("hidden",!e)}serialize(e){let t=l(this,zt);return!e&&l(this,Ts)===t&&(t=l(this,ll)),{altText:t,decorative:l(this,Ur),guessedText:l(this,Ts),textWithDisclaimer:l(this,ll)}}get data(){return{altText:l(this,zt),decorative:l(this,Ur)}}set data({altText:e,decorative:t,guessedText:i,textWithDisclaimer:r,cancel:s=!1}){i&&(g(this,Ts,i),g(this,ll,r)),!(l(this,zt)===e&&l(this,Ur)===t)&&(s||(g(this,zt,e),g(this,Ur,t)),A(this,Er,Fg).call(this))}toggle(e=!1){l(this,cr)&&(!e&&l(this,ai)&&(clearTimeout(l(this,ai)),g(this,ai,null)),l(this,cr).disabled=!e)}shown(){l(this,Hn)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:l(this,Er,Fd)}})}destroy(){var e,t;(e=l(this,cr))==null||e.remove(),g(this,cr,null),g(this,Mc,null),g(this,Hr,null),(t=l(this,$r))==null||t.remove(),g(this,$r,null)}};zt=new WeakMap,Ur=new WeakMap,cr=new WeakMap,Mc=new WeakMap,Hr=new WeakMap,ai=new WeakMap,Dc=new WeakMap,$r=new WeakMap,Hn=new WeakMap,Ts=new WeakMap,ll=new WeakMap,Vr=new WeakMap,Vo=new WeakMap,Er=new WeakSet,Fd=function(){return l(this,zt)&&"added"||l(this,zt)===null&&this.guessedText&&"review"||"missing"},Fg=async function(){var r,s,o;const e=l(this,cr);if(!e)return;if(l(this,Vr)){if(e.classList.toggle("done",!!l(this,zt)),e.setAttribute("data-l10n-id",l(_n,Vo)[l(this,Er,Fd)]),(r=l(this,Mc))==null||r.setAttribute("data-l10n-id",l(_n,Vo)[`${l(this,Er,Fd)}-label`]),!l(this,zt)){(s=l(this,Hr))==null||s.remove();return}}else{if(!l(this,zt)&&!l(this,Ur)){e.classList.remove("done"),(o=l(this,Hr))==null||o.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let t=l(this,Hr);if(!t){g(this,Hr,t=document.createElement("span")),t.className="tooltip",t.setAttribute("role","tooltip"),t.id=`alt-text-tooltip-${l(this,Hn).id}`;const a=100,u=l(this,Hn)._uiManager._signal;u.addEventListener("abort",()=>{clearTimeout(l(this,ai)),g(this,ai,null)},{once:!0}),e.addEventListener("mouseenter",()=>{g(this,ai,setTimeout(()=>{g(this,ai,null),l(this,Hr).classList.add("show"),l(this,Hn)._reportTelemetry({action:"alt_text_tooltip"})},a))},{signal:u}),e.addEventListener("mouseleave",()=>{var c;l(this,ai)&&(clearTimeout(l(this,ai)),g(this,ai,null)),(c=l(this,Hr))==null||c.classList.remove("show")},{signal:u})}l(this,Ur)?t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(t.removeAttribute("data-l10n-id"),t.textContent=l(this,zt)),t.parentNode||e.append(t);const i=l(this,Hn).getElementForAltText();i==null||i.setAttribute("aria-describedby",t.id)},S(_n,Vo,null),B(_n,"_l10n",null);let Uy=_n;var Jt,$i,ul,qe,tp,cl,hr,hl,dl,fl,np,dw;class ag{constructor(e){S(this,np);S(this,Jt,null);S(this,$i,null);S(this,ul,!1);S(this,qe,null);S(this,tp,null);S(this,cl,null);S(this,hr,null);S(this,hl,null);S(this,dl,!1);S(this,fl,null);g(this,qe,e)}renderForToolbar(){const e=g(this,$i,document.createElement("button"));return e.className="comment",A(this,np,dw).call(this,e,!1)}renderForStandalone(){const e=g(this,Jt,document.createElement("button"));e.className="annotationCommentButton";const t=l(this,qe).commentButtonPosition;if(t){const{style:i}=e;i.insetInlineEnd=`calc(${100*(l(this,qe)._uiManager.direction==="ltr"?1-t[0]:t[0])}% - var(--comment-button-dim))`,i.top=`calc(${100*t[1]}% - var(--comment-button-dim))`;const r=l(this,qe).commentButtonColor;r&&(i.backgroundColor=r)}return A(this,np,dw).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=l(this,Jt)??l(this,$i))==null||e.focus()},0)}onUpdatedColor(){if(!l(this,Jt))return;const e=l(this,qe).commentButtonColor;e&&(l(this,Jt).style.backgroundColor=e),l(this,qe)._uiManager.updatePopupColor(l(this,qe))}get commentButtonWidth(){var e;return(((e=l(this,Jt))==null?void 0:e.getBoundingClientRect().width)??0)/l(this,qe).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(l(this,fl))return l(this,fl);if(!l(this,Jt))return null;const{x:e,y:t,height:i}=l(this,Jt).getBoundingClientRect(),{x:r,y:s,width:o,height:a}=l(this,qe).parent.boundingClientRect;return[(e-r)/o,(t+i-s)/a]}set commentPopupPositionInLayer(e){g(this,fl,e)}hasDefaultPopupPosition(){return l(this,fl)===null}removeStandaloneCommentButton(){var e;(e=l(this,Jt))==null||e.remove(),g(this,Jt,null)}removeToolbarCommentButton(){var e;(e=l(this,$i))==null||e.remove(),g(this,$i,null)}setCommentButtonStates({selected:e,hasPopup:t}){l(this,Jt)&&(l(this,Jt).classList.toggle("selected",e),l(this,Jt).ariaExpanded=t)}edit(e){const t=this.commentPopupPositionInLayer;let i,r;if(t)[i,r]=t;else{[i,r]=l(this,qe).commentButtonPosition;const{width:h,height:d,x:f,y:p}=l(this,qe);i=f+i*h,r=p+r*d}const s=l(this,qe).parent.boundingClientRect,{x:o,y:a,width:u,height:c}=s;l(this,qe)._uiManager.editComment(l(this,qe),o+i*u,a+r*c,{...e,parentDimensions:s})}finish(){l(this,$i)&&(l(this,$i).focus({focusVisible:l(this,ul)}),g(this,ul,!1))}isDeleted(){return l(this,dl)||l(this,hr)===""}isEmpty(){return l(this,hr)===null}hasBeenEdited(){return this.isDeleted()||l(this,hr)!==l(this,tp)}serialize(){return this.data}get data(){return{text:l(this,hr),richText:l(this,cl),date:l(this,hl),deleted:this.isDeleted()}}set data(e){if(e!==l(this,hr)&&g(this,cl,null),e===null){g(this,hr,""),g(this,dl,!0);return}g(this,hr,e),g(this,hl,new Date),g(this,dl,!1)}setInitialText(e,t=null){g(this,tp,e),this.data=e,g(this,hl,null),g(this,cl,t)}shown(){}destroy(){var e,t;(e=l(this,$i))==null||e.remove(),g(this,$i,null),(t=l(this,Jt))==null||t.remove(),g(this,Jt,null),g(this,hr,""),g(this,cl,null),g(this,hl,null),g(this,qe,null),g(this,ul,!1),g(this,dl,!1)}}Jt=new WeakMap,$i=new WeakMap,ul=new WeakMap,qe=new WeakMap,tp=new WeakMap,cl=new WeakMap,hr=new WeakMap,hl=new WeakMap,dl=new WeakMap,fl=new WeakMap,np=new WeakSet,dw=function(e,t){if(!l(this,qe)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",t?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[l(this,qe)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const i=l(this,qe)._uiManager._signal;if(!(i instanceof AbortSignal)||i.aborted)return e;e.addEventListener("contextmenu",Li,{signal:i}),t&&(e.addEventListener("focusin",s=>{l(this,qe)._focusEventsAllowed=!1,ut(s)},{capture:!0,signal:i}),e.addEventListener("focusout",s=>{l(this,qe)._focusEventsAllowed=!0,ut(s)},{capture:!0,signal:i})),e.addEventListener("pointerdown",s=>s.stopPropagation(),{signal:i});const r=s=>{s.preventDefault(),e===l(this,$i)?this.edit():l(this,qe).toggleComment(!0)};return e.addEventListener("click",r,{capture:!0,signal:i}),e.addEventListener("keydown",s=>{s.target===e&&s.key==="Enter"&&(g(this,ul,!0),r(s))},{signal:i}),e.addEventListener("pointerenter",()=>{l(this,qe).toggleComment(!1,!0)},{signal:i}),e.addEventListener("pointerleave",()=>{l(this,qe).toggleComment(!1,!1)},{signal:i}),e};var Ic,pl,ip,rp,sp,op,ap,Ps,ml,Rs,gl,Ns,Oa,JT,ZT,eP;const lS=class lS{constructor({container:e,isPinchingDisabled:t=null,isPinchingStopped:i=null,onPinchStart:r=null,onPinching:s=null,onPinchEnd:o=null,signal:a}){S(this,Oa);S(this,Ic);S(this,pl,!1);S(this,ip,null);S(this,rp);S(this,sp);S(this,op);S(this,ap);S(this,Ps,null);S(this,ml);S(this,Rs,null);S(this,gl);S(this,Ns,null);g(this,Ic,e),g(this,ip,i),g(this,rp,t),g(this,sp,r),g(this,op,s),g(this,ap,o),g(this,gl,new AbortController),g(this,ml,AbortSignal.any([a,l(this,gl).signal])),e.addEventListener("touchstart",A(this,Oa,JT).bind(this),{passive:!1,signal:l(this,ml)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/Pr.pixelRatio}destroy(){var e,t;(e=l(this,gl))==null||e.abort(),g(this,gl,null),(t=l(this,Ps))==null||t.abort(),g(this,Ps,null)}};Ic=new WeakMap,pl=new WeakMap,ip=new WeakMap,rp=new WeakMap,sp=new WeakMap,op=new WeakMap,ap=new WeakMap,Ps=new WeakMap,ml=new WeakMap,Rs=new WeakMap,gl=new WeakMap,Ns=new WeakMap,Oa=new WeakSet,JT=function(e){var r,s,o;if((r=l(this,rp))!=null&&r.call(this))return;if(e.touches.length===1){if(l(this,Ps))return;const a=g(this,Ps,new AbortController),u=AbortSignal.any([l(this,ml),a.signal]),c=l(this,Ic),h={capture:!0,signal:u,passive:!1},d=f=>{var p;f.pointerType==="touch"&&((p=l(this,Ps))==null||p.abort(),g(this,Ps,null))};c.addEventListener("pointerdown",f=>{f.pointerType==="touch"&&(ut(f),d(f))},h),c.addEventListener("pointerup",d,h),c.addEventListener("pointercancel",d,h);return}if(!l(this,Ns)){g(this,Ns,new AbortController);const a=AbortSignal.any([l(this,ml),l(this,Ns).signal]),u=l(this,Ic),c={signal:a,capture:!1,passive:!1};u.addEventListener("touchmove",A(this,Oa,ZT).bind(this),c);const h=A(this,Oa,eP).bind(this);u.addEventListener("touchend",h,c),u.addEventListener("touchcancel",h,c),c.capture=!0,u.addEventListener("pointerdown",ut,c),u.addEventListener("pointermove",ut,c),u.addEventListener("pointercancel",ut,c),u.addEventListener("pointerup",ut,c),(s=l(this,sp))==null||s.call(this)}if(ut(e),e.touches.length!==2||(o=l(this,ip))!=null&&o.call(this)){g(this,Rs,null);return}let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]),g(this,Rs,{touch0X:t.screenX,touch0Y:t.screenY,touch1X:i.screenX,touch1Y:i.screenY})},ZT=function(e){var k;if(!l(this,Rs)||e.touches.length!==2)return;ut(e);let[t,i]=e.touches;t.identifier>i.identifier&&([t,i]=[i,t]);const{screenX:r,screenY:s}=t,{screenX:o,screenY:a}=i,u=l(this,Rs),{touch0X:c,touch0Y:h,touch1X:d,touch1Y:f}=u,p=d-c,v=f-h,y=o-r,E=a-s,m=Math.hypot(y,E)||1,b=Math.hypot(p,v)||1;if(!l(this,pl)&&Math.abs(b-m)<=lS.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(u.touch0X=r,u.touch0Y=s,u.touch1X=o,u.touch1Y=a,!l(this,pl)){g(this,pl,!0);return}const x=[(r+o)/2,(s+a)/2];(k=l(this,op))==null||k.call(this,x,b,m)},eP=function(e){var t;e.touches.length>=2||(l(this,Ns)&&(l(this,Ns).abort(),g(this,Ns,null),(t=l(this,ap))==null||t.call(this)),l(this,Rs)&&(ut(e),g(this,Rs,null),g(this,pl,!1)))};let Ff=lS;var yl,dr,it,Ue,Ls,Fc,Wo,lp,Zt,vl,Ms,Wr,Go,up,xl,li,cp,wl,Ds,Gr,Oc,jc,Vi,bl,hp,n0,re,fw,dp,pw,Og,tP,nP,mw,jg,gw,iP,rP,sP,yw,oP,vw,aP,lP,uP,xw,Od;const ue=class ue{constructor(e){S(this,re);S(this,yl,null);S(this,dr,null);S(this,it,null);S(this,Ue,null);S(this,Ls,null);S(this,Fc,!1);S(this,Wo,null);S(this,lp,"");S(this,Zt,null);S(this,vl,null);S(this,Ms,null);S(this,Wr,null);S(this,Go,null);S(this,up,"");S(this,xl,!1);S(this,li,null);S(this,cp,!1);S(this,wl,!1);S(this,Ds,!1);S(this,Gr,null);S(this,Oc,0);S(this,jc,0);S(this,Vi,null);S(this,bl,null);B(this,"isSelected",!1);B(this,"_isCopy",!1);B(this,"_editToolbar",null);B(this,"_initialOptions",Object.create(null));B(this,"_initialData",null);B(this,"_isVisible",!0);B(this,"_uiManager",null);B(this,"_focusEventsAllowed",!0);S(this,hp,!1);S(this,n0,ue._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:t,rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[i,r],this.pageTranslation=[s,o];const[a,u]=this.parentDimensions;this.x=e.x/a,this.y=e.y/u,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=ue.prototype._resizeWithKeyboard,t=Fa.TRANSLATE_SMALL,i=Fa.TRANSLATE_BIG;return pe(this,"_resizerKeyboardManager",new Dm([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-i,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[i,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-i]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,i]}],[["Escape","mac+Escape"],ue.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return pe(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new PB({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){if(ue._l10n??(ue._l10n=e),ue._l10nResizer||(ue._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),ue._borderLineWidth!==-1)return;const i=getComputedStyle(document.documentElement);ue._borderLineWidth=parseFloat(i.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){We("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return l(this,hp)}set _isDraggable(e){var t;g(this,hp,e),(t=this.div)==null||t.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(e*2),this.y+=this.width*e/(t*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(e*2),this.y-=this.width*e/(t*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=l(this,n0)}setParent(e){var t;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(A(this,re,Od).call(this),(t=l(this,Wr))==null||t.remove(),g(this,Wr,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(l(this,xl)?g(this,xl,!1):this.parent.setSelected(this))}focusout(e){var i;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const t=e.relatedTarget;t!=null&&t.closest(`#${this.id}`)||(e.preventDefault(),(i=this.parent)!=null&&i.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,i,r){const[s,o]=this.parentDimensions;[i,r]=this.screenToPageTranslation(i,r),this.x=(e+i)/s,this.y=(t+r)/o,this.fixAndSetPosition()}_moveAfterPaste(e,t){const[i,r]=this.parentDimensions;this.setAt(e*i,t*r,this.width*i,this.height*r),this._onTranslated()}translate(e,t){A(this,re,fw).call(this,this.parentDimensions,e,t)}translateInPage(e,t){l(this,li)||g(this,li,[this.x,this.y,this.width,this.height]),A(this,re,fw).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,t){l(this,li)||g(this,li,[this.x,this.y,this.width,this.height]);const{div:i,parentDimensions:[r,s]}=this;if(this.x+=e/r,this.y+=t/s,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:d,y:f}=this.div.getBoundingClientRect();this.parent.findNewParent(this,d,f)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:o,y:a}=this;const[u,c]=this.getBaseTranslation();o+=u,a+=c;const{style:h}=i;h.left=`${(100*o).toFixed(2)}%`,h.top=`${(100*a).toFixed(2)}%`,this._onTranslating(o,a),i.scrollIntoView({block:"nearest"})}_onTranslating(e,t){}_onTranslated(e,t){}get _hasBeenMoved(){return!!l(this,li)&&(l(this,li)[0]!==this.x||l(this,li)[1]!==this.y)}get _hasBeenResized(){return!!l(this,li)&&(l(this,li)[2]!==this.width||l(this,li)[3]!==this.height)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:i}=ue,r=i/e,s=i/t;switch(this.rotation){case 90:return[-r,s];case 180:return[r,s];case 270:return[r,-s];default:return[-r,-s]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:t},pageDimensions:[i,r]}=this;let{x:s,y:o,width:a,height:u}=this;if(a*=i,u*=r,s*=i,o*=r,this._mustFixPosition)switch(e){case 0:s=wn(s,0,i-a),o=wn(o,0,r-u);break;case 90:s=wn(s,0,i-u),o=wn(o,a,r);break;case 180:s=wn(s,a,i),o=wn(o,u,r);break;case 270:s=wn(s,u,i),o=wn(o,0,r-a);break}this.x=s/=i,this.y=o/=r;const[c,h]=this.getBaseTranslation();s+=c,o+=h,t.left=`${(100*s).toFixed(2)}%`,t.top=`${(100*o).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,t){var i;return A(i=ue,dp,pw).call(i,e,t,this.parentRotation)}pageTranslationToScreen(e,t){var i;return A(i=ue,dp,pw).call(i,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,i]}=this;return[t*e,i*e]}setDims(){const{div:{style:e},width:t,height:i}=this;e.width=`${(100*t).toFixed(2)}%`,e.height=`${(100*i).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=l(this,it))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||l(this,wl))return this._editToolbar;this._editToolbar=new nw(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[t,i]of e)await this._editToolbar.addButton(t,i);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,t;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(t=l(this,it))==null||t.destroy()}addContainer(e){var i;const t=(i=this._editToolbar)==null?void 0:i.div;t?t.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return l(this,it)||(Uy.initialize(ue._l10n),g(this,it,new Uy(this)),l(this,yl)&&(l(this,it).data=l(this,yl),g(this,yl,null))),l(this,it)}get altTextData(){var e;return(e=l(this,it))==null?void 0:e.data}set altTextData(e){l(this,it)&&(l(this,it).data=e)}get guessedAltText(){var e;return(e=l(this,it))==null?void 0:e.guessedText}async setGuessedAltText(e){var t;await((t=l(this,it))==null?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return(t=l(this,it))==null?void 0:t.serialize(e)}hasAltText(){return!!l(this,it)&&!l(this,it).isEmpty()}hasAltTextData(){var e;return((e=l(this,it))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=l(this,Ue))==null||e.focusButton()}addCommentButton(){return l(this,Ue)||g(this,Ue,new ag(this))}addStandaloneCommentButton(){if(l(this,Ls)){this._uiManager.isEditingMode()&&l(this,Ls).classList.remove("hidden");return}this.hasComment&&(g(this,Ls,l(this,Ue).renderForStandalone()),this.div.append(l(this,Ls)))}removeStandaloneCommentButton(){l(this,Ue).removeStandaloneCommentButton(),g(this,Ls,null)}hideStandaloneCommentButton(){var e;(e=l(this,Ls))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:t,date:i,deleted:r}}=l(this,Ue);return{text:t,richText:e,date:i,deleted:r,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){l(this,Ue)||g(this,Ue,new ag(this)),l(this,Ue).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:t,richText:i}){if(!t||(l(this,Ue)||g(this,Ue,new ag(this)),l(this,Ue).setInitialText(e,i),!this.annotationElementId))return;const r=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);r&&this.updateFromAnnotationLayer(r)}get hasEditedComment(){var e;return(e=l(this,Ue))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=l(this,Ue))==null?void 0:e.isDeleted()}get hasComment(){return!!l(this,Ue)&&!l(this,Ue).isEmpty()&&!l(this,Ue).isDeleted()}async editComment(e){l(this,Ue)||g(this,Ue,new ag(this)),l(this,Ue).edit(e)}toggleComment(e,t=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,t)}setSelectedCommentButton(e){l(this,Ue).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,r]=e.rect,[s]=this.pageDimensions,[o]=this.pageTranslation,a=o+s+1,u=r-100,c=a+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[a,u,c,r]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:t}}){l(this,Ue).data=t?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var o;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=l(this,Fc)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),A(this,re,vw).call(this);const[t,i]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*i/t).toFixed(2)}%`,e.style.maxHeight=`${(100*t/i).toFixed(2)}%`);const[r,s]=this.getInitialTranslation();return this.translate(r,s),zT(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(l(this,bl)||g(this,bl,new Ff({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:A(this,re,iP).bind(this),onPinching:A(this,re,rP).bind(this),onPinchEnd:A(this,re,sP).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(o=this._uiManager._editorUndoBar)==null||o.hide(),e}pointerdown(e){const{isMac:t}=Yt.platform;if(e.button!==0||e.ctrlKey&&t){e.preventDefault();return}if(g(this,xl,!0),this._isDraggable){A(this,re,oP).call(this,e);return}A(this,re,yw).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){l(this,Gr)&&clearTimeout(l(this,Gr)),g(this,Gr,setTimeout(()=>{var e;g(this,Gr,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,t,i){e.changeParent(this),this.x=t,this.y=i,this.fixAndSetPosition(),this._onTranslated()}getRect(e,t,i=this.rotation){const r=this.parentScale,[s,o]=this.pageDimensions,[a,u]=this.pageTranslation,c=e/r,h=t/r,d=this.x*s,f=this.y*o,p=this.width*s,v=this.height*o;switch(i){case 0:return[d+c+a,o-f-h-v+u,d+c+p+a,o-f-h+u];case 90:return[d+h+a,o-f+c+u,d+h+v+a,o-f+c+p+u];case 180:return[d-c-p+a,o-f+h+u,d-c+a,o-f+h+v+u];case 270:return[d-h-v+a,o-f-c-p+u,d-h+a,o-f-c+u];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[i,r,s,o]=e,a=s-i,u=o-r;switch(this.rotation){case 0:return[i,t-o,a,u];case 90:return[i,t-r,u,a];case 180:return[s,t-r,a,u];case 270:return[s,t-o,u,a];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&ue._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=l(this,Ue))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:t,date:i,opacity:r,deleted:s,richText:o},uid:a,pageIndex:u,creationDate:c,modificationDate:h}=this;return{id:a,pageIndex:u,rect:this.getPDFRect(),richText:o,contentsObj:{str:e},creationDate:c,modificationDate:i||h,popupRef:!s,color:t,opacity:r}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),g(this,wl,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),g(this,wl,!1),!0):!1}isInEditMode(){return l(this,wl)}shouldGetKeyboardEvents(){return l(this,Ds)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:t,bottom:i,right:r}=this.getClientDimensions(),{innerHeight:s,innerWidth:o}=window;return t<o&&r>0&&e<s&&i>0}rebuild(){A(this,re,vw).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,t=null){var i;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((i=this._initialData)==null?void 0:i.popupRef)||""}}static async deserialize(e,t,i){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:i,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});r.rotation=e.rotation,g(r,yl,e.accessibilityData),r._isCopy=e.isCopy||!1;const[s,o]=r.pageDimensions,[a,u,c,h]=r.getRectInCurrentCoords(e.rect,o);return r.x=a/s,r.y=u/o,r.width=c/s,r.height=h/o,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,t;if((e=l(this,Go))==null||e.abort(),g(this,Go,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),l(this,Gr)&&(clearTimeout(l(this,Gr)),g(this,Gr,null)),A(this,re,Od).call(this),this.removeEditToolbar(),l(this,Vi)){for(const i of l(this,Vi).values())clearTimeout(i);g(this,Vi,null)}this.parent=null,(t=l(this,bl))==null||t.destroy(),g(this,bl,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(A(this,re,tP).call(this),l(this,Zt).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,t]}=this,[i,r,s,o]=this.getPDFRect();return[ue._round(i+(s-i)*e),ue._round(r+(o-r)*(1-t))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return l(this,Ue).commentPopupPositionInLayer}set commentPopupPosition(e){l(this,Ue).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return l(this,Ue).hasDefaultPopupPosition()}get commentButtonWidth(){return l(this,Ue).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){l(this,Ue).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),g(this,Ms,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=l(this,Zt).children;if(!l(this,dr)){g(this,dr,Array.from(t));const o=A(this,re,aP).bind(this),a=A(this,re,lP).bind(this),u=this._uiManager._signal;for(const c of l(this,dr)){const h=c.getAttribute("data-resizer-name");c.setAttribute("role","spinbutton"),c.addEventListener("keydown",o,{signal:u}),c.addEventListener("blur",a,{signal:u}),c.addEventListener("focus",A(this,re,uP).bind(this,h),{signal:u}),c.setAttribute("data-l10n-id",ue._l10nResizer[h])}}const i=l(this,dr)[0];let r=0;for(const o of t){if(o===i)break;r++}const s=(360-this.rotation+this.parentRotation)%360/90*(l(this,dr).length/4);if(s!==r){if(s<r)for(let a=0;a<r-s;a++)l(this,Zt).append(l(this,Zt).firstChild);else if(s>r)for(let a=0;a<s-r;a++)l(this,Zt).firstChild.before(l(this,Zt).lastChild);let o=0;for(const a of t){const c=l(this,dr)[o++].getAttribute("data-resizer-name");a.setAttribute("data-l10n-id",ue._l10nResizer[c])}}A(this,re,xw).call(this,0),g(this,Ds,!0),l(this,Zt).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){l(this,Ds)&&A(this,re,gw).call(this,l(this,up),{deltaX:e,deltaY:t,fromKeyboard:!0})}_stopResizingWithKeyboard(){A(this,re,Od).call(this),this.div.focus()}select(){var e,t,i;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var r,s;(r=this.div)!=null&&r.classList.contains("selectedEditor")&&((s=this._editToolbar)==null||s.show())});return}(t=this._editToolbar)==null||t.show(),(i=l(this,it))==null||i.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,t,i,r,s;this.isSelected&&(this.isSelected=!1,(e=l(this,Zt))==null||e.classList.add("hidden"),(t=this.div)==null||t.classList.remove("selectedEditor"),(i=this.div)!=null&&i.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(r=this._editToolbar)==null||r.hide(),(s=l(this,it))==null||s.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,t){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return l(this,cp)}set isEditing(e){g(this,cp,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,t=!1){if(t){l(this,Vi)||g(this,Vi,new Map);const{action:i}=e;let r=l(this,Vi).get(i);r&&clearTimeout(r),r=setTimeout(()=>{this._reportTelemetry(e),l(this,Vi).delete(i),l(this,Vi).size===0&&g(this,Vi,null)},ue._telemetryTimeout),l(this,Vi).set(i,r);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),g(this,Fc,!1)}disable(){this.div&&(this.div.tabIndex=-1),g(this,Fc,!0)}updateFakeAnnotationElement(e){if(!l(this,Wr)&&!this.deleted){g(this,Wr,e.addFakeAnnotation(this));return}if(this.deleted){l(this,Wr).remove(),g(this,Wr,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&l(this,Wr).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let t=e.container.querySelector(".annotationContent");if(!t)t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);else if(t.nodeName==="CANVAS"){const i=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),i.before(t)}return t}resetAnnotationElement(e){const{firstChild:t}=e.container;(t==null?void 0:t.nodeName)==="DIV"&&t.classList.contains("annotationContent")&&t.remove()}};yl=new WeakMap,dr=new WeakMap,it=new WeakMap,Ue=new WeakMap,Ls=new WeakMap,Fc=new WeakMap,Wo=new WeakMap,lp=new WeakMap,Zt=new WeakMap,vl=new WeakMap,Ms=new WeakMap,Wr=new WeakMap,Go=new WeakMap,up=new WeakMap,xl=new WeakMap,li=new WeakMap,cp=new WeakMap,wl=new WeakMap,Ds=new WeakMap,Gr=new WeakMap,Oc=new WeakMap,jc=new WeakMap,Vi=new WeakMap,bl=new WeakMap,hp=new WeakMap,n0=new WeakMap,re=new WeakSet,fw=function([e,t],i,r){[i,r]=this.screenToPageTranslation(i,r),this.x+=i/e,this.y+=r/t,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},dp=new WeakSet,pw=function(e,t,i){switch(i){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}},Og=function(e){switch(e){case 90:{const[t,i]=this.pageDimensions;return[0,-t/i,i/t,0]}case 180:return[-1,0,0,-1];case 270:{const[t,i]=this.pageDimensions;return[0,t/i,-i/t,0]}default:return[1,0,0,1]}},tP=function(){if(l(this,Zt))return;g(this,Zt,document.createElement("div")),l(this,Zt).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const i of e){const r=document.createElement("div");l(this,Zt).append(r),r.classList.add("resizer",i),r.setAttribute("data-resizer-name",i),r.addEventListener("pointerdown",A(this,re,nP).bind(this,i),{signal:t}),r.addEventListener("contextmenu",Li,{signal:t}),r.tabIndex=-1}this.div.prepend(l(this,Zt))},nP=function(e,t){var h;t.preventDefault();const{isMac:i}=Yt.platform;if(t.button!==0||t.ctrlKey&&i)return;(h=l(this,it))==null||h.toggle(!1);const r=this._isDraggable;this._isDraggable=!1,g(this,vl,[t.screenX,t.screenY]);const s=new AbortController,o=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",A(this,re,gw).bind(this,e),{passive:!0,capture:!0,signal:o}),window.addEventListener("touchmove",ut,{passive:!1,signal:o}),window.addEventListener("contextmenu",Li,{signal:o}),g(this,Ms,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const a=this.parent.div.style.cursor,u=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const c=()=>{var d;s.abort(),this.parent.togglePointerEvents(!0),(d=l(this,it))==null||d.toggle(!0),this._isDraggable=r,this.parent.div.style.cursor=a,this.div.style.cursor=u,A(this,re,jg).call(this)};window.addEventListener("pointerup",c,{signal:o}),window.addEventListener("blur",c,{signal:o})},mw=function(e,t,i,r){this.width=i,this.height=r,this.x=e,this.y=t,this.setDims(),this.fixAndSetPosition(),this._onResized()},jg=function(){if(!l(this,Ms))return;const{savedX:e,savedY:t,savedWidth:i,savedHeight:r}=l(this,Ms);g(this,Ms,null);const s=this.x,o=this.y,a=this.width,u=this.height;s===e&&o===t&&a===i&&u===r||this.addCommands({cmd:A(this,re,mw).bind(this,s,o,a,u),undo:A(this,re,mw).bind(this,e,t,i,r),mustExec:!0})},gw=function(e,t){const[i,r]=this.parentDimensions,s=this.x,o=this.y,a=this.width,u=this.height,c=ue.MIN_SIZE/i,h=ue.MIN_SIZE/r,d=A(this,re,Og).call(this,this.rotation),f=(U,$)=>[d[0]*U+d[2]*$,d[1]*U+d[3]*$],p=A(this,re,Og).call(this,360-this.rotation),v=(U,$)=>[p[0]*U+p[2]*$,p[1]*U+p[3]*$];let y,E,m=!1,b=!1;switch(e){case"topLeft":m=!0,y=(U,$)=>[0,0],E=(U,$)=>[U,$];break;case"topMiddle":y=(U,$)=>[U/2,0],E=(U,$)=>[U/2,$];break;case"topRight":m=!0,y=(U,$)=>[U,0],E=(U,$)=>[0,$];break;case"middleRight":b=!0,y=(U,$)=>[U,$/2],E=(U,$)=>[0,$/2];break;case"bottomRight":m=!0,y=(U,$)=>[U,$],E=(U,$)=>[0,0];break;case"bottomMiddle":y=(U,$)=>[U/2,$],E=(U,$)=>[U/2,0];break;case"bottomLeft":m=!0,y=(U,$)=>[0,$],E=(U,$)=>[U,0];break;case"middleLeft":b=!0,y=(U,$)=>[0,$/2],E=(U,$)=>[U,$/2];break}const x=y(a,u),k=E(a,u);let _=f(...k);const C=ue._round(s+_[0]),P=ue._round(o+_[1]);let L=1,D=1,M,I;if(t.fromKeyboard)({deltaX:M,deltaY:I}=t);else{const{screenX:U,screenY:$}=t,[O,q]=l(this,vl);[M,I]=this.screenToPageTranslation(U-O,$-q),l(this,vl)[0]=U,l(this,vl)[1]=$}if([M,I]=v(M/i,I/r),m){const U=Math.hypot(a,u);L=D=Math.max(Math.min(Math.hypot(k[0]-x[0]-M,k[1]-x[1]-I)/U,1/a,1/u),c/a,h/u)}else b?L=wn(Math.abs(k[0]-x[0]-M),c,1)/a:D=wn(Math.abs(k[1]-x[1]-I),h,1)/u;const F=ue._round(a*L),W=ue._round(u*D);_=f(...E(F,W));const z=C-_[0],G=P-_[1];l(this,li)||g(this,li,[this.x,this.y,this.width,this.height]),this.width=F,this.height=W,this.x=z,this.y=G,this.setDims(),this.fixAndSetPosition(),this._onResizing()},iP=function(){var e;g(this,Ms,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=l(this,it))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},rP=function(e,t,i){let s=.7*(i/t)+1-.7;if(s===1)return;const o=A(this,re,Og).call(this,this.rotation),a=(C,P)=>[o[0]*C+o[2]*P,o[1]*C+o[3]*P],[u,c]=this.parentDimensions,h=this.x,d=this.y,f=this.width,p=this.height,v=ue.MIN_SIZE/u,y=ue.MIN_SIZE/c;s=Math.max(Math.min(s,1/f,1/p),v/f,y/p);const E=ue._round(f*s),m=ue._round(p*s);if(E===f&&m===p)return;l(this,li)||g(this,li,[h,d,f,p]);const b=a(f/2,p/2),x=ue._round(h+b[0]),k=ue._round(d+b[1]),_=a(E/2,m/2);this.x=x-_[0],this.y=k-_[1],this.width=E,this.height=m,this.setDims(),this.fixAndSetPosition(),this._onResizing()},sP=function(){var e;(e=l(this,it))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),A(this,re,jg).call(this)},yw=function(e){const{isMac:t}=Yt.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)},oP=function(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();let i=!1;const r=new AbortController,s=this._uiManager.combinedSignal(r),o={capture:!0,passive:!1,signal:s},a=c=>{r.abort(),g(this,Wo,null),g(this,xl,!1),this._uiManager.endDragSession()||A(this,re,yw).call(this,c),i&&this._onStopDragging()};t&&(g(this,Oc,e.clientX),g(this,jc,e.clientY),g(this,Wo,e.pointerId),g(this,lp,e.pointerType),window.addEventListener("pointermove",c=>{i||(i=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:h,clientY:d,pointerId:f}=c;if(f!==l(this,Wo)){ut(c);return}const[p,v]=this.screenToPageTranslation(h-l(this,Oc),d-l(this,jc));g(this,Oc,h),g(this,jc,d),this._uiManager.dragSelectedEditors(p,v)},o),window.addEventListener("touchmove",ut,o),window.addEventListener("pointerdown",c=>{c.pointerType===l(this,lp)&&(l(this,bl)||c.isPrimary)&&a(c),ut(c)},o));const u=c=>{if(!l(this,Wo)||l(this,Wo)===c.pointerId){a(c);return}ut(c)};window.addEventListener("pointerup",u,{signal:s}),window.addEventListener("blur",u,{signal:s})},vw=function(){if(l(this,Go)||!this.div)return;g(this,Go,new AbortController);const e=this._uiManager.combinedSignal(l(this,Go));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},aP=function(e){ue._resizerKeyboardManager.exec(this,e)},lP=function(e){var t;l(this,Ds)&&((t=e.relatedTarget)==null?void 0:t.parentNode)!==l(this,Zt)&&A(this,re,Od).call(this)},uP=function(e){g(this,up,l(this,Ds)?e:"")},xw=function(e){if(l(this,dr))for(const t of l(this,dr))t.tabIndex=e},Od=function(){g(this,Ds,!1),A(this,re,xw).call(this,-1),A(this,re,jg).call(this)},S(ue,dp),B(ue,"_l10n",null),B(ue,"_l10nResizer",null),B(ue,"_borderLineWidth",-1),B(ue,"_colorManager",new sw),B(ue,"_zIndex",1),B(ue,"_telemetryTimeout",1e3);let Qe=ue;class PB extends Qe{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const PE=3285377520,Ii=4294901760,Mr=65535;class cP{constructor(e){this.h1=e?e&4294967295:PE,this.h2=e?e&4294967295:PE}update(e){let t,i;if(typeof e=="string"){t=new Uint8Array(e.length*2),i=0;for(let y=0,E=e.length;y<E;y++){const m=e.charCodeAt(y);m<=255?t[i++]=m:(t[i++]=m>>>8,t[i++]=m&255)}}else if(ArrayBuffer.isView(e))t=e.slice(),i=t.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const r=i>>2,s=i-r*4,o=new Uint32Array(t.buffer,0,r);let a=0,u=0,c=this.h1,h=this.h2;const d=3432918353,f=461845907,p=d&Mr,v=f&Mr;for(let y=0;y<r;y++)y&1?(a=o[y],a=a*d&Ii|a*p&Mr,a=a<<15|a>>>17,a=a*f&Ii|a*v&Mr,c^=a,c=c<<13|c>>>19,c=c*5+3864292196):(u=o[y],u=u*d&Ii|u*p&Mr,u=u<<15|u>>>17,u=u*f&Ii|u*v&Mr,h^=u,h=h<<13|h>>>19,h=h*5+3864292196);switch(a=0,s){case 3:a^=t[r*4+2]<<16;case 2:a^=t[r*4+1]<<8;case 1:a^=t[r*4],a=a*d&Ii|a*p&Mr,a=a<<15|a>>>17,a=a*f&Ii|a*v&Mr,r&1?c^=a:h^=a}this.h1=c,this.h2=h}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=e*3981806797&Ii|e*36045&Mr,t=t*4283543511&Ii|((t<<16|e>>>16)*2950163797&Ii)>>>16,e^=t>>>1,e=e*444984403&Ii|e*60499&Mr,t=t*3301882366&Ii|((t<<16|e>>>16)*3120437893&Ii)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const ww=Object.freeze({map:null,hash:"",transfer:void 0});var Sl,Al,Is,en,i0,hP;class K1{constructor(){S(this,i0);S(this,Sl,!1);S(this,Al,null);S(this,Is,null);S(this,en,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const i=l(this,en).get(e);return i===void 0?t:Object.assign(t,i)}getRawValue(e){return l(this,en).get(e)}remove(e){const t=l(this,en).get(e);if(t!==void 0&&(t instanceof Qe&&l(this,Is).delete(t.annotationElementId),l(this,en).delete(e),l(this,en).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const i of l(this,en).values())if(i instanceof Qe)return;this.onAnnotationEditor(null)}}setValue(e,t){const i=l(this,en).get(e);let r=!1;if(i!==void 0)for(const[s,o]of Object.entries(t))i[s]!==o&&(r=!0,i[s]=o);else r=!0,l(this,en).set(e,t);r&&A(this,i0,hP).call(this),t instanceof Qe&&((l(this,Is)||g(this,Is,new Map)).set(t.annotationElementId,t),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(t.constructor._type))}has(e){return l(this,en).has(e)}get size(){return l(this,en).size}resetModified(){l(this,Sl)&&(g(this,Sl,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new dP(this)}get serializable(){if(l(this,en).size===0)return ww;const e=new Map,t=new cP,i=[],r=Object.create(null);let s=!1;for(const[o,a]of l(this,en)){const u=a instanceof Qe?a.serialize(!1,r):a;u&&(e.set(o,u),t.update(`${o}:${JSON.stringify(u)}`),s||(s=!!u.bitmap))}if(s)for(const o of e.values())o.bitmap&&i.push(o.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:i}:ww}get editorStats(){let e=null;const t=new Map;let i=0,r=0;for(const s of l(this,en).values()){if(!(s instanceof Qe)){s.popup&&(s.popup.deleted?r+=1:i+=1);continue}s.isCommentDeleted?r+=1:s.hasEditedComment&&(i+=1);const o=s.telemetryFinalData;if(!o)continue;const{type:a}=o;t.has(a)||t.set(a,Object.getPrototypeOf(s).constructor),e||(e=Object.create(null));const u=e[a]||(e[a]=new Map);for(const[c,h]of Object.entries(o)){if(c==="type")continue;let d=u.get(c);d||(d=new Map,u.set(c,d));const f=d.get(h)??0;d.set(h,f+1)}}if((r>0||i>0)&&(e||(e=Object.create(null)),e.comments={deleted:r,edited:i}),!e)return null;for(const[s,o]of t)e[s]=o.computeTelemetryFinalData(e[s]);return e}resetModifiedIds(){g(this,Al,null)}updateEditor(e,t){var r;const i=(r=l(this,Is))==null?void 0:r.get(e);return i?(i.updateFromAnnotationLayer(t),!0):!1}getEditor(e){var t;return((t=l(this,Is))==null?void 0:t.get(e))||null}get modifiedIds(){if(l(this,Al))return l(this,Al);const e=[];if(l(this,Is))for(const t of l(this,Is).values())t.serialize()&&e.push(t.annotationElementId);return g(this,Al,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return l(this,en).entries()}}Sl=new WeakMap,Al=new WeakMap,Is=new WeakMap,en=new WeakMap,i0=new WeakSet,hP=function(){l(this,Sl)||(g(this,Sl,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var fp;class dP extends K1{constructor(t){super();S(this,fp);const{map:i,hash:r,transfer:s}=t.serializable,o=structuredClone(i,s?{transfer:s}:null);g(this,fp,{map:o,hash:r,transfer:s})}get print(){We("Should not call PrintAnnotationStorage.print")}get serializable(){return l(this,fp)}get modifiedIds(){return pe(this,"modifiedIds",{ids:new Set,hash:""})}}fp=new WeakMap;var Bc;class RB{constructor({ownerDocument:e=globalThis.document,styleElement:t=null}){S(this,Bc,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),l(this,Bc).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:t,_inspectFont:i}){if(!(!e||l(this,Bc).has(e.loadedName))){if(Ae(!t,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:r,src:s,style:o}=e,a=new FontFace(r,s,o);this.addNativeFontFace(a);try{await a.load(),l(this,Bc).add(r),i==null||i(e)}catch{le(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(a)}return}We("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const i=e.createNativeFontFace();if(i){this.addNativeFontFace(i);try{await i.loaded}catch(r){throw le(`Failed to load font '${i.family}': '${r}'.`),e.disableFontFace=!0,r}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise(i=>{const r=this._queueLoadingCallback(i);this._prepareFontLoadEvent(e,r)})}}get isFontLoadingAPISupported(){var t;const e=!!((t=this._document)!=null&&t.fonts);return pe(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return pe(this,"isSyncFontLoadingSupported",Nn||Yt.platform.isFirefox)}_queueLoadingCallback(e){function t(){for(Ae(!r.done,"completeRequest() cannot be called twice."),r.done=!0;i.length>0&&i[0].done;){const s=i.shift();setTimeout(s.callback,0)}}const{loadingRequests:i}=this,r={done:!1,complete:t,callback:e};return i.push(r),r}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return pe(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,t){function i(k,_){return k.charCodeAt(_)<<24|k.charCodeAt(_+1)<<16|k.charCodeAt(_+2)<<8|k.charCodeAt(_+3)&255}function r(k,_,C,P){const L=k.substring(0,_),D=k.substring(_+C);return L+P+D}let s,o;const a=this._document.createElement("canvas");a.width=1,a.height=1;const u=a.getContext("2d");let c=0;function h(k,_){if(++c>30){le("Load test font never loaded."),_();return}if(u.font="30px "+k,u.fillText(".",0,20),u.getImageData(0,0,1,1).data[3]>0){_();return}setTimeout(h.bind(null,k,_))}const d=`lt${Date.now()}${this.loadTestFontId++}`;let f=this._loadTestFont;f=r(f,976,d.length,d);const v=16,y=1482184792;let E=i(f,v);for(s=0,o=d.length-3;s<o;s+=4)E=E-y+i(d,s)|0;s<d.length&&(E=E-y+i(d+"XXX",s)|0),f=r(f,v,4,yB(E));const m=`url(data:font/opentype;base64,${btoa(f)});`,b=`@font-face {font-family:"${d}";src:${m}}`;this.insertRule(b);const x=this._document.createElement("div");x.style.visibility="hidden",x.style.width=x.style.height="10px",x.style.position="absolute",x.style.top=x.style.left="0px";for(const k of[e.loadedName,d]){const _=this._document.createElement("span");_.textContent="Hi",_.style.fontFamily=k,x.append(_)}this._document.body.append(x),h(d,()=>{x.remove(),t.complete()})}}Bc=new WeakMap;var Fe;class NB{constructor(e,t=null,i,r){S(this,Fe);this.compiledGlyphs=Object.create(null),g(this,Fe,e),this._inspectFont=t,i&&Object.assign(this,i),r&&(this.charProcOperatorList=r)}createNativeFontFace(){var t;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const i={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(i.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,i)}return(t=this._inspectFont)==null||t.call(this,this),e}createFontFaceRule(){var i;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${TT(this.data)});`;let t;if(!this.cssFontInfo)t=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let r=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(r+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),t=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${r}src:${e}}`}return(i=this._inspectFont)==null||i.call(this,this,e),t}getPathGenerator(e,t){if(this.compiledGlyphs[t]!==void 0)return this.compiledGlyphs[t];const i=this.loadedName+"_path_"+t;let r;try{r=e.get(i)}catch(o){le(`getPathGenerator - ignoring character: "${o}".`)}const s=new Path2D(r||"");return this.fontExtraProperties||e.delete(i),this.compiledGlyphs[t]=s}get black(){return l(this,Fe).black}get bold(){return l(this,Fe).bold}get disableFontFace(){return l(this,Fe).disableFontFace??!1}get fontExtraProperties(){return l(this,Fe).fontExtraProperties??!1}get isInvalidPDFjsFont(){return l(this,Fe).isInvalidPDFjsFont}get isType3Font(){return l(this,Fe).isType3Font}get italic(){return l(this,Fe).italic}get missingFile(){return l(this,Fe).missingFile}get remeasure(){return l(this,Fe).remeasure}get vertical(){return l(this,Fe).vertical}get ascent(){return l(this,Fe).ascent}get defaultWidth(){return l(this,Fe).defaultWidth}get descent(){return l(this,Fe).descent}get bbox(){return l(this,Fe).bbox}get fontMatrix(){return l(this,Fe).fontMatrix}get fallbackName(){return l(this,Fe).fallbackName}get loadedName(){return l(this,Fe).loadedName}get mimetype(){return l(this,Fe).mimetype}get name(){return l(this,Fe).name}get data(){return l(this,Fe).data}clearData(){l(this,Fe).clearData()}get cssFontInfo(){return l(this,Fe).cssFontInfo}get systemFontInfo(){return l(this,Fe).systemFontInfo}get defaultVMetrics(){return l(this,Fe).defaultVMetrics}}Fe=new WeakMap;function LB(n){if(n instanceof URL)return n.href;if(typeof n=="string"){if(Nn)return n;const e=URL.parse(n,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function MB(n){if(Nn&&typeof Buffer<"u"&&n instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength)return n;if(typeof n=="string")return Nm(n);if(n instanceof ArrayBuffer||ArrayBuffer.isView(n)||typeof n=="object"&&!isNaN(n==null?void 0:n.length))return new Uint8Array(n);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function lg(n){if(typeof n!="string")return null;if(n.endsWith("/"))return n;throw new Error(`Invalid factory url: "${n}" must include trailing slash.`)}const bw=n=>typeof n=="object"&&Number.isInteger(n==null?void 0:n.num)&&n.num>=0&&Number.isInteger(n==null?void 0:n.gen)&&n.gen>=0,DB=n=>typeof n=="object"&&typeof(n==null?void 0:n.name)=="string",fP=bB.bind(null,bw,DB);var Fs,r0;class IB{constructor(){S(this,Fs,new Map);S(this,r0,Promise.resolve())}postMessage(e,t){const i={data:structuredClone(e,t?{transfer:t}:null)};l(this,r0).then(()=>{for(const[r]of l(this,Fs))r.call(this,i)})}addEventListener(e,t,i=null){let r=null;if((i==null?void 0:i.signal)instanceof AbortSignal){const{signal:s}=i;if(s.aborted){le("LoopbackPort - cannot use an `aborted` signal.");return}const o=()=>this.removeEventListener(e,t);r=()=>s.removeEventListener("abort",o),s.addEventListener("abort",o)}l(this,Fs).set(t,r)}removeEventListener(e,t){const i=l(this,Fs).get(t);i==null||i(),l(this,Fs).delete(t)}terminate(){for(const[,e]of l(this,Fs))e==null||e();l(this,Fs).clear()}}Fs=new WeakMap,r0=new WeakMap;const ug={DATA:1,ERROR:2},_t={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function RE(){}function zn(n){if(n instanceof yo||n instanceof By||n instanceof SE||n instanceof Mf||n instanceof Uv)return n;switch(n instanceof Error||typeof n=="object"&&n!==null||We('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),n.name){case"AbortException":return new yo(n.message);case"InvalidPDFException":return new By(n.message);case"PasswordException":return new SE(n.message,n.code);case"ResponseException":return new Mf(n.message,n.status,n.missing);case"UnknownErrorException":return new Uv(n.message,n.details)}return new Uv(n.message,n.toString())}var zc,tr,pP,mP,gP,Bg;class jd{constructor(e,t,i){S(this,tr);S(this,zc,new AbortController);this.sourceName=e,this.targetName=t,this.comObj=i,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),i.addEventListener("message",A(this,tr,pP).bind(this),{signal:l(this,zc).signal})}on(e,t){const i=this.actionHandler;if(i[e])throw new Error(`There is already an actionName called "${e}"`);i[e]=t}send(e,t,i){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},i)}sendWithPromise(e,t,i){const r=this.callbackId++,s=Promise.withResolvers();this.callbackCapabilities[r]=s;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},i)}catch(o){s.reject(o)}return s.promise}sendWithStream(e,t,i,r){const s=this.streamId++,o=this.sourceName,a=this.targetName,u=this.comObj;return new ReadableStream({start:c=>{const h=Promise.withResolvers();return this.streamControllers[s]={controller:c,startCall:h,pullCall:null,cancelCall:null,isClosed:!1},u.postMessage({sourceName:o,targetName:a,action:e,streamId:s,data:t,desiredSize:c.desiredSize},r),h.promise},pull:c=>{const h=Promise.withResolvers();return this.streamControllers[s].pullCall=h,u.postMessage({sourceName:o,targetName:a,stream:_t.PULL,streamId:s,desiredSize:c.desiredSize}),h.promise},cancel:c=>{Ae(c instanceof Error,"cancel must have a valid reason");const h=Promise.withResolvers();return this.streamControllers[s].cancelCall=h,this.streamControllers[s].isClosed=!0,u.postMessage({sourceName:o,targetName:a,stream:_t.CANCEL,streamId:s,reason:zn(c)}),h.promise}},i)}destroy(){var e;(e=l(this,zc))==null||e.abort(),g(this,zc,null)}}zc=new WeakMap,tr=new WeakSet,pP=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){A(this,tr,gP).call(this,e);return}if(e.callback){const i=e.callbackId,r=this.callbackCapabilities[i];if(!r)throw new Error(`Cannot resolve callback ${i}`);if(delete this.callbackCapabilities[i],e.callback===ug.DATA)r.resolve(e.data);else if(e.callback===ug.ERROR)r.reject(zn(e.reason));else throw new Error("Unexpected callback case");return}const t=this.actionHandler[e.action];if(!t)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const i=this.sourceName,r=e.sourceName,s=this.comObj;Promise.try(t,e.data).then(function(o){s.postMessage({sourceName:i,targetName:r,callback:ug.DATA,callbackId:e.callbackId,data:o})},function(o){s.postMessage({sourceName:i,targetName:r,callback:ug.ERROR,callbackId:e.callbackId,reason:zn(o)})});return}if(e.streamId){A(this,tr,mP).call(this,e);return}t(e.data)},mP=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this,a=this.actionHandler[e.action],u={enqueue(c,h=1,d){if(this.isCancelled)return;const f=this.desiredSize;this.desiredSize-=h,f>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),s.postMessage({sourceName:i,targetName:r,stream:_t.ENQUEUE,streamId:t,chunk:c},d)},close(){this.isCancelled||(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:_t.CLOSE,streamId:t}),delete o.streamSinks[t])},error(c){Ae(c instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,s.postMessage({sourceName:i,targetName:r,stream:_t.ERROR,streamId:t,reason:zn(c)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};u.sinkCapability.resolve(),u.ready=u.sinkCapability.promise,this.streamSinks[t]=u,Promise.try(a,e.data,u).then(function(){s.postMessage({sourceName:i,targetName:r,stream:_t.START_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:_t.START_COMPLETE,streamId:t,reason:zn(c)})})},gP=function(e){const t=e.streamId,i=this.sourceName,r=e.sourceName,s=this.comObj,o=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case _t.START_COMPLETE:e.success?o.startCall.resolve():o.startCall.reject(zn(e.reason));break;case _t.PULL_COMPLETE:e.success?o.pullCall.resolve():o.pullCall.reject(zn(e.reason));break;case _t.PULL:if(!a){s.postMessage({sourceName:i,targetName:r,stream:_t.PULL_COMPLETE,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,Promise.try(a.onPull||RE).then(function(){s.postMessage({sourceName:i,targetName:r,stream:_t.PULL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:_t.PULL_COMPLETE,streamId:t,reason:zn(c)})});break;case _t.ENQUEUE:if(Ae(o,"enqueue should have stream controller"),o.isClosed)break;o.controller.enqueue(e.chunk);break;case _t.CLOSE:if(Ae(o,"close should have stream controller"),o.isClosed)break;o.isClosed=!0,o.controller.close(),A(this,tr,Bg).call(this,o,t);break;case _t.ERROR:Ae(o,"error should have stream controller"),o.controller.error(zn(e.reason)),A(this,tr,Bg).call(this,o,t);break;case _t.CANCEL_COMPLETE:e.success?o.cancelCall.resolve():o.cancelCall.reject(zn(e.reason)),A(this,tr,Bg).call(this,o,t);break;case _t.CANCEL:if(!a)break;const u=zn(e.reason);Promise.try(a.onCancel||RE,u).then(function(){s.postMessage({sourceName:i,targetName:r,stream:_t.CANCEL_COMPLETE,streamId:t,success:!0})},function(c){s.postMessage({sourceName:i,targetName:r,stream:_t.CANCEL_COMPLETE,streamId:t,reason:zn(c)})}),a.sinkCapability.reject(u),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}},Bg=async function(e,t){var i,r,s;await Promise.allSettled([(i=e.startCall)==null?void 0:i.promise,(r=e.pullCall)==null?void 0:r.promise,(s=e.cancelCall)==null?void 0:s.promise]),delete this.streamControllers[t]};var pp;class yP{constructor({enableHWA:e=!1}){S(this,pp,!1);g(this,pp,e)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const i=this._createCanvas(e,t);return{canvas:i,context:i.getContext("2d",{willReadFrequently:!l(this,pp)})}}reset(e,t,i){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||i<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=i}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){We("Abstract method `_createCanvas` called.")}}pp=new WeakMap;class FB extends yP{constructor({ownerDocument:e=globalThis.document,enableHWA:t=!1}){super({enableHWA:t}),this._document=e}_createCanvas(e,t){const i=this._document.createElement("canvas");return i.width=e,i.height=t,i}}class vP{constructor({baseUrl:e=null,isCompressed:t=!0}){this.baseUrl=e,this.isCompressed=t}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const t=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(t).then(i=>({cMapData:i,isCompressed:this.isCompressed})).catch(i=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${t}`)})}async _fetch(e){We("Abstract method `_fetch` called.")}}class NE extends vP{async _fetch(e){const t=await ud(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):Nm(t)}}class xP{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,i,r,s){return"none"}destroy(e=!1){}}var El,Uc,Os,js,gn,kl,Cl,K,fn,Bd,Bu,zg,zu,wP,Sw,Uu,zd,Ud,Aw,Hd;class OB extends xP{constructor({docId:t,ownerDocument:i=globalThis.document}){super();S(this,K);S(this,El);S(this,Uc);S(this,Os);S(this,js);S(this,gn);S(this,kl);S(this,Cl,0);g(this,js,t),g(this,gn,i)}addFilter(t){if(!t)return"none";let i=l(this,K,fn).get(t);if(i)return i;const[r,s,o]=A(this,K,zg).call(this,t),a=t.length===1?r:`${r}${s}${o}`;if(i=l(this,K,fn).get(a),i)return l(this,K,fn).set(t,i),i;const u=`g_${l(this,js)}_transfer_map_${Lt(this,Cl)._++}`,c=A(this,K,zu).call(this,u);l(this,K,fn).set(t,c),l(this,K,fn).set(a,c);const h=A(this,K,Uu).call(this,u);return A(this,K,Ud).call(this,r,s,o,h),c}addHCMFilter(t,i){var v;const r=`${t}-${i}`,s="base";let o=l(this,K,Bd).get(s);if((o==null?void 0:o.key)===r||(o?((v=o.filter)==null||v.remove(),o.key=r,o.url="none",o.filter=null):(o={key:r,url:"none",filter:null},l(this,K,Bd).set(s,o)),!t||!i))return o.url;const a=A(this,K,Hd).call(this,t);t=J.makeHexColor(...a);const u=A(this,K,Hd).call(this,i);if(i=J.makeHexColor(...u),l(this,K,Bu).style.color="",t==="#000000"&&i==="#ffffff"||t===i)return o.url;const c=new Array(256);for(let y=0;y<=255;y++){const E=y/255;c[y]=E<=.03928?E/12.92:((E+.055)/1.055)**2.4}const h=c.join(","),d=`g_${l(this,js)}_hcm_filter`,f=o.filter=A(this,K,Uu).call(this,d);A(this,K,Ud).call(this,h,h,h,f),A(this,K,Sw).call(this,f);const p=(y,E)=>{const m=a[y]/255,b=u[y]/255,x=new Array(E+1);for(let k=0;k<=E;k++)x[k]=m+k/E*(b-m);return x.join(",")};return A(this,K,Ud).call(this,p(0,5),p(1,5),p(2,5),f),o.url=A(this,K,zu).call(this,d),o.url}addAlphaFilter(t){let i=l(this,K,fn).get(t);if(i)return i;const[r]=A(this,K,zg).call(this,[t]),s=`alpha_${r}`;if(i=l(this,K,fn).get(s),i)return l(this,K,fn).set(t,i),i;const o=`g_${l(this,js)}_alpha_map_${Lt(this,Cl)._++}`,a=A(this,K,zu).call(this,o);l(this,K,fn).set(t,a),l(this,K,fn).set(s,a);const u=A(this,K,Uu).call(this,o);return A(this,K,Aw).call(this,r,u),a}addLuminosityFilter(t){let i=l(this,K,fn).get(t||"luminosity");if(i)return i;let r,s;if(t?([r]=A(this,K,zg).call(this,[t]),s=`luminosity_${r}`):s="luminosity",i=l(this,K,fn).get(s),i)return l(this,K,fn).set(t,i),i;const o=`g_${l(this,js)}_luminosity_map_${Lt(this,Cl)._++}`,a=A(this,K,zu).call(this,o);l(this,K,fn).set(t,a),l(this,K,fn).set(s,a);const u=A(this,K,Uu).call(this,o);return A(this,K,wP).call(this,u),t&&A(this,K,Aw).call(this,r,u),a}addHighlightHCMFilter(t,i,r,s,o){var b;const a=`${i}-${r}-${s}-${o}`;let u=l(this,K,Bd).get(t);if((u==null?void 0:u.key)===a||(u?((b=u.filter)==null||b.remove(),u.key=a,u.url="none",u.filter=null):(u={key:a,url:"none",filter:null},l(this,K,Bd).set(t,u)),!i||!r))return u.url;const[c,h]=[i,r].map(A(this,K,Hd).bind(this));let d=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),f=Math.round(.2126*h[0]+.7152*h[1]+.0722*h[2]),[p,v]=[s,o].map(A(this,K,Hd).bind(this));f<d&&([d,f,p,v]=[f,d,v,p]),l(this,K,Bu).style.color="";const y=(x,k,_)=>{const C=new Array(256),P=(f-d)/_,L=x/255,D=(k-x)/(255*_);let M=0;for(let I=0;I<=_;I++){const F=Math.round(d+I*P),W=L+I*D;for(let z=M;z<=F;z++)C[z]=W;M=F+1}for(let I=M;I<256;I++)C[I]=C[M-1];return C.join(",")},E=`g_${l(this,js)}_hcm_${t}_filter`,m=u.filter=A(this,K,Uu).call(this,E);return A(this,K,Sw).call(this,m),A(this,K,Ud).call(this,y(p[0],v[0],5),y(p[1],v[1],5),y(p[2],v[2],5),m),u.url=A(this,K,zu).call(this,E),u.url}destroy(t=!1){var i,r,s,o;t&&((i=l(this,kl))!=null&&i.size)||((r=l(this,Os))==null||r.parentNode.parentNode.remove(),g(this,Os,null),(s=l(this,Uc))==null||s.clear(),g(this,Uc,null),(o=l(this,kl))==null||o.clear(),g(this,kl,null),g(this,Cl,0))}}El=new WeakMap,Uc=new WeakMap,Os=new WeakMap,js=new WeakMap,gn=new WeakMap,kl=new WeakMap,Cl=new WeakMap,K=new WeakSet,fn=function(){return l(this,Uc)||g(this,Uc,new Map)},Bd=function(){return l(this,kl)||g(this,kl,new Map)},Bu=function(){if(!l(this,Os)){const t=l(this,gn).createElement("div"),{style:i}=t;i.visibility="hidden",i.contain="strict",i.width=i.height=0,i.position="absolute",i.top=i.left=0,i.zIndex=-1;const r=l(this,gn).createElementNS(vs,"svg");r.setAttribute("width",0),r.setAttribute("height",0),g(this,Os,l(this,gn).createElementNS(vs,"defs")),t.append(r),r.append(l(this,Os)),l(this,gn).body.append(t)}return l(this,Os)},zg=function(t){if(t.length===1){const c=t[0],h=new Array(256);for(let f=0;f<256;f++)h[f]=c[f]/255;const d=h.join(",");return[d,d,d]}const[i,r,s]=t,o=new Array(256),a=new Array(256),u=new Array(256);for(let c=0;c<256;c++)o[c]=i[c]/255,a[c]=r[c]/255,u[c]=s[c]/255;return[o.join(","),a.join(","),u.join(",")]},zu=function(t){if(l(this,El)===void 0){g(this,El,"");const i=l(this,gn).URL;i!==l(this,gn).baseURI&&(Mm(i)?le('#createUrl: ignore "data:"-URL for performance reasons.'):g(this,El,W1(i,"")))}return`url(${l(this,El)}#${t})`},wP=function(t){const i=l(this,gn).createElementNS(vs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),t.append(i)},Sw=function(t){const i=l(this,gn).createElementNS(vs,"feColorMatrix");i.setAttribute("type","matrix"),i.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),t.append(i)},Uu=function(t){const i=l(this,gn).createElementNS(vs,"filter");return i.setAttribute("color-interpolation-filters","sRGB"),i.setAttribute("id",t),l(this,K,Bu).append(i),i},zd=function(t,i,r){const s=l(this,gn).createElementNS(vs,i);s.setAttribute("type","discrete"),s.setAttribute("tableValues",r),t.append(s)},Ud=function(t,i,r,s){const o=l(this,gn).createElementNS(vs,"feComponentTransfer");s.append(o),A(this,K,zd).call(this,o,"feFuncR",t),A(this,K,zd).call(this,o,"feFuncG",i),A(this,K,zd).call(this,o,"feFuncB",r)},Aw=function(t,i){const r=l(this,gn).createElementNS(vs,"feComponentTransfer");i.append(r),A(this,K,zd).call(this,r,"feFuncA",t)},Hd=function(t){return l(this,K,Bu).style.color=t,cd(getComputedStyle(l(this,K,Bu)).getPropertyValue("color"))};class bP{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load font data at: ${t}`)})}async _fetch(e){We("Abstract method `_fetch` called.")}}class LE extends bP{async _fetch(e){const t=await ud(e,"arraybuffer");return new Uint8Array(t)}}class SP{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const t=`${this.baseUrl}${e}`;return this._fetch(t).catch(i=>{throw new Error(`Unable to load wasm data at: ${t}`)})}async _fetch(e){We("Abstract method `_fetch` called.")}}class ME extends SP{async _fetch(e){const t=await ud(e,"arraybuffer");return new Uint8Array(t)}}Nn&&le("Please use the `legacy` build in Node.js environments.");async function Q1(n){const t=await process.getBuiltinModule("fs").promises.readFile(n);return new Uint8Array(t)}class jB extends xP{}class BB extends yP{_createCanvas(e,t){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,t)}}class zB extends vP{async _fetch(e){return Q1(e)}}class UB extends bP{async _fetch(e){return Q1(e)}}class HB extends SP{async _fetch(e){return Q1(e)}}const Fu="__forcedDependency",{floor:DE,ceil:IE}=Math;function cg(n,e,t,i,r,s){n[e*4+0]=Math.min(n[e*4+0],t),n[e*4+1]=Math.min(n[e*4+1],i),n[e*4+2]=Math.max(n[e*4+2],r),n[e*4+3]=Math.max(n[e*4+3],s)}const Ew=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var Hc,qo;class $B{constructor(e,t){S(this,Hc);S(this,qo);g(this,Hc,e),g(this,qo,t)}get length(){return l(this,Hc).length}isEmpty(e){return l(this,Hc)[e]===Ew}minX(e){return l(this,qo)[e*4+0]/256}minY(e){return l(this,qo)[e*4+1]/256}maxX(e){return(l(this,qo)[e*4+2]+1)/256}maxY(e){return(l(this,qo)[e*4+3]+1)/256}}Hc=new WeakMap,qo=new WeakMap;const hg=(n,e)=>{if(!n)return;let t=n.get(e);return t||(t={dependencies:new Set,isRenderingOperation:!1},n.set(e,t)),t};var $n,Vn,_l,fr,Tl,Bs,Me,Oe,zs,Wn,mp,$c,Pl,Rl,Us,yn,qr,gp,kw;class VB{constructor(e,t,i=!1){S(this,gp);S(this,$n,{__proto__:null});S(this,Vn,{__proto__:null,transform:[],moveText:[],sameLineText:[],[Fu]:[]});S(this,_l,new Map);S(this,fr,[]);S(this,Tl,[]);S(this,Bs,[[1,0,0,1,0,0]]);S(this,Me,[-1/0,-1/0,1/0,1/0]);S(this,Oe,new Float64Array([1/0,1/0,-1/0,-1/0]));S(this,zs,-1);S(this,Wn,new Set);S(this,mp,new Map);S(this,$c,new Map);S(this,Pl);S(this,Rl);S(this,Us);S(this,yn);S(this,qr);g(this,Pl,e.width),g(this,Rl,e.height),A(this,gp,kw).call(this,t),i&&g(this,qr,new Map)}growOperationsCount(e){e>=l(this,yn).length&&A(this,gp,kw).call(this,e,l(this,yn))}save(e){return g(this,$n,{__proto__:l(this,$n)}),g(this,Vn,{__proto__:l(this,Vn),transform:{__proto__:l(this,Vn).transform},moveText:{__proto__:l(this,Vn).moveText},sameLineText:{__proto__:l(this,Vn).sameLineText},[Fu]:{__proto__:l(this,Vn)[Fu]}}),g(this,Me,{__proto__:l(this,Me)}),l(this,fr).push(e),this}restore(e){var r;const t=Object.getPrototypeOf(l(this,$n));if(t===null)return this;g(this,$n,t),g(this,Vn,Object.getPrototypeOf(l(this,Vn))),g(this,Me,Object.getPrototypeOf(l(this,Me)));const i=l(this,fr).pop();return i!==void 0&&((r=hg(l(this,qr),e))==null||r.dependencies.add(i),l(this,yn)[e]=l(this,yn)[i]),this}recordOpenMarker(e){return l(this,fr).push(e),this}getOpenMarker(){return l(this,fr).length===0?null:l(this,fr).at(-1)}recordCloseMarker(e){var i;const t=l(this,fr).pop();return t!==void 0&&((i=hg(l(this,qr),e))==null||i.dependencies.add(t),l(this,yn)[e]=l(this,yn)[t]),this}beginMarkedContent(e){return l(this,Tl).push(e),this}endMarkedContent(e){var i;const t=l(this,Tl).pop();return t!==void 0&&((i=hg(l(this,qr),e))==null||i.dependencies.add(t),l(this,yn)[e]=l(this,yn)[t]),this}pushBaseTransform(e){return l(this,Bs).push(J.multiplyByDOMMatrix(l(this,Bs).at(-1),e.getTransform())),this}popBaseTransform(){return l(this,Bs).length>1&&l(this,Bs).pop(),this}recordSimpleData(e,t){return l(this,$n)[e]=t,this}recordIncrementalData(e,t){return l(this,Vn)[e].push(t),this}resetIncrementalData(e,t){return l(this,Vn)[e].length=0,this}recordNamedData(e,t){return l(this,_l).set(e,t),this}recordSimpleDataFromNamed(e,t,i){l(this,$n)[e]=l(this,_l).get(t)??i}recordFutureForcedDependency(e,t){return this.recordIncrementalData(Fu,t),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const t of e)t in l(this,$n)&&this.recordFutureForcedDependency(t,l(this,$n)[t]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of l(this,Wn))this.recordFutureForcedDependency(Fu,e);return this}resetBBox(e){return l(this,zs)!==e&&(g(this,zs,e),l(this,Oe)[0]=1/0,l(this,Oe)[1]=1/0,l(this,Oe)[2]=-1/0,l(this,Oe)[3]=-1/0),this}recordClipBox(e,t,i,r,s,o){const a=J.multiplyByDOMMatrix(l(this,Bs).at(-1),t.getTransform()),u=[1/0,1/0,-1/0,-1/0];J.axialAlignedBoundingBox([i,s,r,o],a,u);const c=J.intersect(l(this,Me),u);return c?(l(this,Me)[0]=c[0],l(this,Me)[1]=c[1],l(this,Me)[2]=c[2],l(this,Me)[3]=c[3]):(l(this,Me)[0]=l(this,Me)[1]=1/0,l(this,Me)[2]=l(this,Me)[3]=-1/0),this}recordBBox(e,t,i,r,s,o){const a=l(this,Me);if(a[0]===1/0)return this;const u=J.multiplyByDOMMatrix(l(this,Bs).at(-1),t.getTransform());if(a[0]===-1/0)return J.axialAlignedBoundingBox([i,s,r,o],u,l(this,Oe)),this;const c=[1/0,1/0,-1/0,-1/0];return J.axialAlignedBoundingBox([i,s,r,o],u,c),l(this,Oe)[0]=Math.min(l(this,Oe)[0],Math.max(c[0],a[0])),l(this,Oe)[1]=Math.min(l(this,Oe)[1],Math.max(c[1],a[1])),l(this,Oe)[2]=Math.max(l(this,Oe)[2],Math.min(c[2],a[2])),l(this,Oe)[3]=Math.max(l(this,Oe)[3],Math.min(c[3],a[3])),this}recordCharacterBBox(e,t,i,r=1,s=0,o=0,a){const u=i.bbox;let c,h;if(u&&(c=u[2]!==u[0]&&u[3]!==u[1]&&l(this,$c).get(i),c!==!1&&(h=[0,0,0,0],J.axialAlignedBoundingBox(u,i.fontMatrix,h),(r!==1||s!==0||o!==0)&&J.scaleMinMax([r,0,0,-r,s,o],h),c)))return this.recordBBox(e,t,h[0],h[2],h[1],h[3]);if(!a)return this.recordFullPageBBox(e);const d=a();return u&&h&&c===void 0&&(c=h[0]<=s-d.actualBoundingBoxLeft&&h[2]>=s+d.actualBoundingBoxRight&&h[1]<=o-d.actualBoundingBoxAscent&&h[3]>=o+d.actualBoundingBoxDescent,l(this,$c).set(i,c),c)?this.recordBBox(e,t,h[0],h[2],h[1],h[3]):this.recordBBox(e,t,s-d.actualBoundingBoxLeft,s+d.actualBoundingBoxRight,o-d.actualBoundingBoxAscent,o+d.actualBoundingBoxDescent)}recordFullPageBBox(e){return l(this,Oe)[0]=Math.max(0,l(this,Me)[0]),l(this,Oe)[1]=Math.max(0,l(this,Me)[1]),l(this,Oe)[2]=Math.min(l(this,Pl),l(this,Me)[2]),l(this,Oe)[3]=Math.min(l(this,Rl),l(this,Me)[3]),this}getSimpleIndex(e){return l(this,$n)[e]}recordDependencies(e,t){const i=l(this,Wn),r=l(this,$n),s=l(this,Vn);for(const o of t)o in l(this,$n)?i.add(r[o]):o in s&&s[o].forEach(i.add,i);return this}recordNamedDependency(e,t){return l(this,_l).has(t)&&l(this,Wn).add(l(this,_l).get(t)),this}recordOperation(e,t=!1){if(this.recordDependencies(e,[Fu]),l(this,qr)){const i=hg(l(this,qr),e),{dependencies:r}=i;l(this,Wn).forEach(r.add,r),l(this,fr).forEach(r.add,r),l(this,Tl).forEach(r.add,r),r.delete(e),i.isRenderingOperation=!0}if(l(this,zs)===e){const i=DE(l(this,Oe)[0]*256/l(this,Pl)),r=DE(l(this,Oe)[1]*256/l(this,Rl)),s=IE(l(this,Oe)[2]*256/l(this,Pl)),o=IE(l(this,Oe)[3]*256/l(this,Rl));cg(l(this,Us),e,i,r,s,o);for(const a of l(this,Wn))a!==e&&cg(l(this,Us),a,i,r,s,o);for(const a of l(this,fr))a!==e&&cg(l(this,Us),a,i,r,s,o);for(const a of l(this,Tl))a!==e&&cg(l(this,Us),a,i,r,s,o);t||(l(this,Wn).clear(),g(this,zs,-1))}return this}recordShowTextOperation(e,t=!1){const i=Array.from(l(this,Wn));this.recordOperation(e,t),this.recordIncrementalData("sameLineText",e);for(const r of i)this.recordIncrementalData("sameLineText",r);return this}bboxToClipBoxDropOperation(e,t=!1){return l(this,zs)===e&&(g(this,zs,-1),l(this,Me)[0]=Math.max(l(this,Me)[0],l(this,Oe)[0]),l(this,Me)[1]=Math.max(l(this,Me)[1],l(this,Oe)[1]),l(this,Me)[2]=Math.min(l(this,Me)[2],l(this,Oe)[2]),l(this,Me)[3]=Math.min(l(this,Me)[3],l(this,Oe)[3]),t||l(this,Wn).clear()),this}_takePendingDependencies(){const e=l(this,Wn);return g(this,Wn,new Set),e}_extractOperation(e){const t=l(this,mp).get(e);return l(this,mp).delete(e),t}_pushPendingDependencies(e){for(const t of e)l(this,Wn).add(t)}take(){return l(this,$c).clear(),new $B(l(this,yn),l(this,Us))}takeDebugMetadata(){return l(this,qr)}}$n=new WeakMap,Vn=new WeakMap,_l=new WeakMap,fr=new WeakMap,Tl=new WeakMap,Bs=new WeakMap,Me=new WeakMap,Oe=new WeakMap,zs=new WeakMap,Wn=new WeakMap,mp=new WeakMap,$c=new WeakMap,Pl=new WeakMap,Rl=new WeakMap,Us=new WeakMap,yn=new WeakMap,qr=new WeakMap,gp=new WeakSet,kw=function(e,t){const i=new ArrayBuffer(e*4);g(this,Us,new Uint8ClampedArray(i)),g(this,yn,new Uint32Array(i)),t&&t.length>0?(l(this,yn).set(t),l(this,yn).fill(Ew,t.length)):l(this,yn).fill(Ew)};var He,mt,pr,Vc,Wc;const uS=class uS{constructor(e,t,i){S(this,He);S(this,mt);S(this,pr);S(this,Vc,0);S(this,Wc,0);if(e instanceof uS&&l(e,pr)===!!i)return e;g(this,He,e),g(this,mt,t),g(this,pr,!!i)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Lt(this,Wc)._++,l(this,He).save(l(this,mt)),this}restore(e){return l(this,Wc)>0&&(l(this,He).restore(l(this,mt)),Lt(this,Wc)._--),this}recordOpenMarker(e){return Lt(this,Vc)._++,this}getOpenMarker(){return l(this,Vc)>0?l(this,mt):l(this,He).getOpenMarker()}recordCloseMarker(e){return Lt(this,Vc)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return l(this,He).pushBaseTransform(e),this}popBaseTransform(){return l(this,He).popBaseTransform(),this}recordSimpleData(e,t){return l(this,He).recordSimpleData(e,l(this,mt)),this}recordIncrementalData(e,t){return l(this,He).recordIncrementalData(e,l(this,mt)),this}resetIncrementalData(e,t){return l(this,He).resetIncrementalData(e,l(this,mt)),this}recordNamedData(e,t){return this}recordSimpleDataFromNamed(e,t,i){return l(this,He).recordSimpleDataFromNamed(e,t,l(this,mt)),this}recordFutureForcedDependency(e,t){return l(this,He).recordFutureForcedDependency(e,l(this,mt)),this}inheritSimpleDataAsFutureForcedDependencies(e){return l(this,He).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return l(this,He).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return l(this,pr)||l(this,He).resetBBox(l(this,mt)),this}recordClipBox(e,t,i,r,s,o){return l(this,pr)||l(this,He).recordClipBox(l(this,mt),t,i,r,s,o),this}recordBBox(e,t,i,r,s,o){return l(this,pr)||l(this,He).recordBBox(l(this,mt),t,i,r,s,o),this}recordCharacterBBox(e,t,i,r,s,o,a){return l(this,pr)||l(this,He).recordCharacterBBox(l(this,mt),t,i,r,s,o,a),this}recordFullPageBBox(e){return l(this,pr)||l(this,He).recordFullPageBBox(l(this,mt)),this}getSimpleIndex(e){return l(this,He).getSimpleIndex(e)}recordDependencies(e,t){return l(this,He).recordDependencies(l(this,mt),t),this}recordNamedDependency(e,t){return l(this,He).recordNamedDependency(l(this,mt),t),this}recordOperation(e){return l(this,He).recordOperation(l(this,mt),!0),this}recordShowTextOperation(e){return l(this,He).recordShowTextOperation(l(this,mt),!0),this}bboxToClipBoxDropOperation(e){return l(this,pr)||l(this,He).bboxToClipBoxDropOperation(l(this,mt),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};He=new WeakMap,mt=new WeakMap,pr=new WeakMap,Vc=new WeakMap,Wc=new WeakMap;let Hy=uS;const Fi={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},sn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Cw(n,e){if(!e)return;const t=e[2]-e[0],i=e[3]-e[1],r=new Path2D;r.rect(e[0],e[1],t,i),n.clip(r)}class J1{isModifyingCurrentTransform(){return!1}getPattern(){We("Abstract method `getPattern` called.")}}class WB extends J1{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;this._type==="axial"?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const i of this._colorStops)t.addColorStop(i[0],i[1]);return t}getPattern(e,t,i,r){let s;if(r===sn.STROKE||r===sn.FILL){const o=t.current.getClippedPathBoundingBox(r,at(e))||[0,0,0,0],a=Math.ceil(o[2]-o[0])||1,u=Math.ceil(o[3]-o[1])||1,c=t.cachedCanvases.getCanvas("pattern",a,u),h=c.context;h.clearRect(0,0,h.canvas.width,h.canvas.height),h.beginPath(),h.rect(0,0,h.canvas.width,h.canvas.height),h.translate(-o[0],-o[1]),i=J.transform(i,[1,0,0,1,o[0],o[1]]),h.transform(...t.baseTransform),this.matrix&&h.transform(...this.matrix),Cw(h,this._bbox),h.fillStyle=this._createGradient(h),h.fill(),s=e.createPattern(c.canvas,"no-repeat");const d=new DOMMatrix(i);s.setTransform(d)}else Cw(e,this._bbox),s=this._createGradient(e);return s}}function Vv(n,e,t,i,r,s,o,a){const u=e.coords,c=e.colors,h=n.data,d=n.width*4;let f;u[t+1]>u[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f),u[i+1]>u[r+1]&&(f=i,i=r,r=f,f=o,o=a,a=f),u[t+1]>u[i+1]&&(f=t,t=i,i=f,f=s,s=o,o=f);const p=(u[t]+e.offsetX)*e.scaleX,v=(u[t+1]+e.offsetY)*e.scaleY,y=(u[i]+e.offsetX)*e.scaleX,E=(u[i+1]+e.offsetY)*e.scaleY,m=(u[r]+e.offsetX)*e.scaleX,b=(u[r+1]+e.offsetY)*e.scaleY;if(v>=b)return;const x=c[s],k=c[s+1],_=c[s+2],C=c[o],P=c[o+1],L=c[o+2],D=c[a],M=c[a+1],I=c[a+2],F=Math.round(v),W=Math.round(b);let z,G,U,$,O,q,T,se;for(let te=F;te<=W;te++){if(te<E){const ye=te<v?0:(v-te)/(v-E);z=p-(p-y)*ye,G=x-(x-C)*ye,U=k-(k-P)*ye,$=_-(_-L)*ye}else{let ye;te>b?ye=1:E===b?ye=0:ye=(E-te)/(E-b),z=y-(y-m)*ye,G=C-(C-D)*ye,U=P-(P-M)*ye,$=L-(L-I)*ye}let R;te<v?R=0:te>b?R=1:R=(v-te)/(v-b),O=p-(p-m)*R,q=x-(x-D)*R,T=k-(k-M)*R,se=_-(_-I)*R;const ve=Math.round(Math.min(z,O)),Re=Math.round(Math.max(z,O));let de=d*te+ve*4;for(let ye=ve;ye<=Re;ye++)R=(z-ye)/(z-O),R<0?R=0:R>1&&(R=1),h[de++]=G-(G-q)*R|0,h[de++]=U-(U-T)*R|0,h[de++]=$-($-se)*R|0,h[de++]=255}}function GB(n,e,t){const i=e.coords,r=e.colors;let s,o;switch(e.type){case"lattice":const a=e.verticesPerRow,u=Math.floor(i.length/a)-1,c=a-1;for(s=0;s<u;s++){let h=s*a;for(let d=0;d<c;d++,h++)Vv(n,t,i[h],i[h+1],i[h+a],r[h],r[h+1],r[h+a]),Vv(n,t,i[h+a+1],i[h+1],i[h+a],r[h+a+1],r[h+1],r[h+a])}break;case"triangles":for(s=0,o=i.length;s<o;s+=3)Vv(n,t,i[s],i[s+1],i[s+2],r[s],r[s+1],r[s+2]);break;default:throw new Error("illegal figure")}}class qB extends J1{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,t,i){const a=Math.floor(this._bounds[0]),u=Math.floor(this._bounds[1]),c=Math.ceil(this._bounds[2])-a,h=Math.ceil(this._bounds[3])-u,d=Math.min(Math.ceil(Math.abs(c*e[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(h*e[1]*1.1)),3e3),p=c/d,v=h/f,y={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-u,scaleX:1/p,scaleY:1/v},E=d+2*2,m=f+2*2,b=i.getCanvas("mesh",E,m),x=b.context,k=x.createImageData(d,f);if(t){const C=k.data;for(let P=0,L=C.length;P<L;P+=4)C[P]=t[0],C[P+1]=t[1],C[P+2]=t[2],C[P+3]=255}for(const C of this._figures)GB(k,C,y);return x.putImageData(k,2,2),{canvas:b.canvas,offsetX:a-2*p,offsetY:u-2*v,scaleX:p,scaleY:v}}isModifyingCurrentTransform(){return!0}getPattern(e,t,i,r){Cw(e,this._bbox);const s=new Float32Array(2);if(r===sn.SHADING)J.singularValueDecompose2dScale(at(e),s);else if(this.matrix){J.singularValueDecompose2dScale(this.matrix,s);const[a,u]=s;J.singularValueDecompose2dScale(t.baseTransform,s),s[0]*=a,s[1]*=u}else J.singularValueDecompose2dScale(t.baseTransform,s);const o=this._createMeshCanvas(s,r===sn.SHADING?null:this._background,t.cachedCanvases);return r!==sn.SHADING&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(o.offsetX,o.offsetY),e.scale(o.scaleX,o.scaleY),e.createPattern(o.canvas,"no-repeat")}}class XB extends J1{getPattern(){return"hotpink"}}function YB(n){switch(n[0]){case"RadialAxial":return new WB(n);case"Mesh":return new qB(n);case"Dummy":return new XB}throw new Error(`Unknown IR type: ${n[0]}`)}const FE={COLORED:1,UNCOLORED:2},s0=class s0{constructor(e,t,i,r){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=t,this.canvasGraphicsFactory=i,this.baseTransform=r}createPatternCanvas(e,t){var q,T;const{bbox:i,operatorList:r,paintType:s,tilingType:o,color:a,canvasGraphicsFactory:u}=this;let{xstep:c,ystep:h}=this;c=Math.abs(c),h=Math.abs(h),B0("TilingType: "+o);const d=i[0],f=i[1],p=i[2],v=i[3],y=p-d,E=v-f,m=new Float32Array(2);J.singularValueDecompose2dScale(this.matrix,m);const[b,x]=m;J.singularValueDecompose2dScale(this.baseTransform,m);const k=b*m[0],_=x*m[1];let C=y,P=E,L=!1,D=!1;const M=Math.ceil(c*k),I=Math.ceil(h*_),F=Math.ceil(y*k),W=Math.ceil(E*_);M>=F?C=c:L=!0,I>=W?P=h:D=!0;const z=this.getSizeAndScale(C,this.ctx.canvas.width,k),G=this.getSizeAndScale(P,this.ctx.canvas.height,_),U=e.cachedCanvases.getCanvas("pattern",z.size,G.size),$=U.context,O=u.createCanvasGraphics($,t);if(O.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(O,s,a),$.translate(-z.scale*d,-G.scale*f),O.transform(0,z.scale,0,0,G.scale,0,0),$.save(),(q=O.dependencyTracker)==null||q.save(),this.clipBbox(O,d,f,p,v),O.baseTransform=at(O.ctx),O.executeOperatorList(r),O.endDrawing(),(T=O.dependencyTracker)==null||T.restore(),$.restore(),L||D){const se=U.canvas;L&&(C=c),D&&(P=h);const te=this.getSizeAndScale(C,this.ctx.canvas.width,k),R=this.getSizeAndScale(P,this.ctx.canvas.height,_),ve=te.size,Re=R.size,de=e.cachedCanvases.getCanvas("pattern-workaround",ve,Re),ye=de.context,Bt=L?Math.floor(y/c):0,cn=D?Math.floor(E/h):0;for(let Ct=0;Ct<=Bt;Ct++)for(let Ee=0;Ee<=cn;Ee++)ye.drawImage(se,ve*Ct,Re*Ee,ve,Re,0,0,ve,Re);return{canvas:de.canvas,scaleX:te.scale,scaleY:R.scale,offsetX:d,offsetY:f}}return{canvas:U.canvas,scaleX:z.scale,scaleY:G.scale,offsetX:d,offsetY:f}}getSizeAndScale(e,t,i){const r=Math.max(s0.MAX_PATTERN_SIZE,t);let s=Math.ceil(e*i);return s>=r?s=r:i=s/e,{scale:i,size:s}}clipBbox(e,t,i,r,s){const o=r-t,a=s-i;e.ctx.rect(t,i,o,a),J.axialAlignedBoundingBox([t,i,r,s],at(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,i){const r=e.ctx,s=e.current;switch(t){case FE.COLORED:const{fillStyle:o,strokeStyle:a}=this.ctx;r.fillStyle=s.fillColor=o,r.strokeStyle=s.strokeColor=a;break;case FE.UNCOLORED:r.fillStyle=r.strokeStyle=i,s.fillColor=s.strokeColor=i;break;default:throw new gB(`Unsupported paint type: ${t}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,t,i,r,s){let o=i;r!==sn.SHADING&&(o=J.transform(o,t.baseTransform),this.matrix&&(o=J.transform(o,this.matrix)));const a=this.createPatternCanvas(t,s);let u=new DOMMatrix(o);u=u.translate(a.offsetX,a.offsetY),u=u.scale(1/a.scaleX,1/a.scaleY);const c=e.createPattern(a.canvas,"repeat");return c.setTransform(u),c}};B(s0,"MAX_PATTERN_SIZE",3e3);let _w=s0;function KB({src:n,srcPos:e=0,dest:t,width:i,height:r,nonBlackColor:s=4294967295,inverseDecode:o=!1}){const a=Yt.isLittleEndian?4278190080:255,[u,c]=o?[s,a]:[a,s],h=i>>3,d=i&7,f=n.length;t=new Uint32Array(t.buffer);let p=0;for(let v=0;v<r;v++){for(const E=e+h;e<E;e++){const m=e<f?n[e]:255;t[p++]=m&128?c:u,t[p++]=m&64?c:u,t[p++]=m&32?c:u,t[p++]=m&16?c:u,t[p++]=m&8?c:u,t[p++]=m&4?c:u,t[p++]=m&2?c:u,t[p++]=m&1?c:u}if(d===0)continue;const y=e<f?n[e++]:255;for(let E=0;E<d;E++)t[p++]=y&1<<7-E?c:u}return{srcPos:e,destPos:p}}const OE=16,jE=100,QB=15,BE=10,Yn=16,Wv=new DOMMatrix,ki=new Float32Array(2),ic=new Float32Array([1/0,1/0,-1/0,-1/0]);function JB(n,e){if(n._removeMirroring)throw new Error("Context is already forwarding operations.");n.__originalSave=n.save,n.__originalRestore=n.restore,n.__originalRotate=n.rotate,n.__originalScale=n.scale,n.__originalTranslate=n.translate,n.__originalTransform=n.transform,n.__originalSetTransform=n.setTransform,n.__originalResetTransform=n.resetTransform,n.__originalClip=n.clip,n.__originalMoveTo=n.moveTo,n.__originalLineTo=n.lineTo,n.__originalBezierCurveTo=n.bezierCurveTo,n.__originalRect=n.rect,n.__originalClosePath=n.closePath,n.__originalBeginPath=n.beginPath,n._removeMirroring=()=>{n.save=n.__originalSave,n.restore=n.__originalRestore,n.rotate=n.__originalRotate,n.scale=n.__originalScale,n.translate=n.__originalTranslate,n.transform=n.__originalTransform,n.setTransform=n.__originalSetTransform,n.resetTransform=n.__originalResetTransform,n.clip=n.__originalClip,n.moveTo=n.__originalMoveTo,n.lineTo=n.__originalLineTo,n.bezierCurveTo=n.__originalBezierCurveTo,n.rect=n.__originalRect,n.closePath=n.__originalClosePath,n.beginPath=n.__originalBeginPath,delete n._removeMirroring},n.save=function(){e.save(),this.__originalSave()},n.restore=function(){e.restore(),this.__originalRestore()},n.translate=function(t,i){e.translate(t,i),this.__originalTranslate(t,i)},n.scale=function(t,i){e.scale(t,i),this.__originalScale(t,i)},n.transform=function(t,i,r,s,o,a){e.transform(t,i,r,s,o,a),this.__originalTransform(t,i,r,s,o,a)},n.setTransform=function(t,i,r,s,o,a){e.setTransform(t,i,r,s,o,a),this.__originalSetTransform(t,i,r,s,o,a)},n.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},n.rotate=function(t){e.rotate(t),this.__originalRotate(t)},n.clip=function(t){e.clip(t),this.__originalClip(t)},n.moveTo=function(t,i){e.moveTo(t,i),this.__originalMoveTo(t,i)},n.lineTo=function(t,i){e.lineTo(t,i),this.__originalLineTo(t,i)},n.bezierCurveTo=function(t,i,r,s,o,a){e.bezierCurveTo(t,i,r,s,o,a),this.__originalBezierCurveTo(t,i,r,s,o,a)},n.rect=function(t,i,r,s){e.rect(t,i,r,s),this.__originalRect(t,i,r,s)},n.closePath=function(){e.closePath(),this.__originalClosePath()},n.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class ZB{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,i){let r;return this.cache[e]!==void 0?(r=this.cache[e],this.canvasFactory.reset(r,t,i)):(r=this.canvasFactory.create(t,i),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function dg(n,e,t,i,r,s,o,a,u,c){const[h,d,f,p,v,y]=at(n);if(d===0&&f===0){const b=o*h+v,x=Math.round(b),k=a*p+y,_=Math.round(k),C=(o+u)*h+v,P=Math.abs(Math.round(C)-x)||1,L=(a+c)*p+y,D=Math.abs(Math.round(L)-_)||1;return n.setTransform(Math.sign(h),0,0,Math.sign(p),x,_),n.drawImage(e,t,i,r,s,0,0,P,D),n.setTransform(h,d,f,p,v,y),[P,D]}if(h===0&&p===0){const b=a*f+v,x=Math.round(b),k=o*d+y,_=Math.round(k),C=(a+c)*f+v,P=Math.abs(Math.round(C)-x)||1,L=(o+u)*d+y,D=Math.abs(Math.round(L)-_)||1;return n.setTransform(0,Math.sign(d),Math.sign(f),0,x,_),n.drawImage(e,t,i,r,s,0,0,D,P),n.setTransform(h,d,f,p,v,y),[D,P]}n.drawImage(e,t,i,r,s,o,a,u,c);const E=Math.hypot(h,d),m=Math.hypot(f,p);return[E*u,m*c]}class zE{constructor(e,t,i){B(this,"alphaIsShape",!1);B(this,"fontSize",0);B(this,"fontSizeScale",1);B(this,"textMatrix",null);B(this,"textMatrixScale",1);B(this,"fontMatrix",Zx);B(this,"leading",0);B(this,"x",0);B(this,"y",0);B(this,"lineX",0);B(this,"lineY",0);B(this,"charSpacing",0);B(this,"wordSpacing",0);B(this,"textHScale",1);B(this,"textRenderingMode",Qt.FILL);B(this,"textRise",0);B(this,"fillColor","#000000");B(this,"strokeColor","#000000");B(this,"patternFill",!1);B(this,"patternStroke",!1);B(this,"fillAlpha",1);B(this,"strokeAlpha",1);B(this,"lineWidth",1);B(this,"activeSMask",null);B(this,"transferMaps","none");i==null||i(this),this.clipBox=new Float32Array([0,0,e,t]),this.minMax=ic.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=sn.FILL,t=null){const i=this.minMax.slice();if(e===sn.STROKE){t||We("Stroke bounding box must include transform."),J.singularValueDecompose2dScale(t,ki);const r=ki[0]*this.lineWidth/2,s=ki[1]*this.lineWidth/2;i[0]-=r,i[1]-=s,i[2]+=r,i[3]+=s}return i}updateClipFromPath(){const e=J.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(ic,0)}getClippedPathBoundingBox(e=sn.FILL,t=null){return J.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function UE(n,e){if(e instanceof ImageData){n.putImageData(e,0,0);return}const t=e.height,i=e.width,r=t%Yn,s=(t-r)/Yn,o=r===0?s:s+1,a=n.createImageData(i,Yn);let u=0,c;const h=e.data,d=a.data;let f,p,v,y;if(e.kind===df.GRAYSCALE_1BPP){const E=h.byteLength,m=new Uint32Array(d.buffer,0,d.byteLength>>2),b=m.length,x=i+7>>3,k=4294967295,_=Yt.isLittleEndian?4278190080:255;for(f=0;f<o;f++){for(v=f<s?Yn:r,c=0,p=0;p<v;p++){const C=E-u;let P=0;const L=C>x?i:C*8-7,D=L&-8;let M=0,I=0;for(;P<D;P+=8)I=h[u++],m[c++]=I&128?k:_,m[c++]=I&64?k:_,m[c++]=I&32?k:_,m[c++]=I&16?k:_,m[c++]=I&8?k:_,m[c++]=I&4?k:_,m[c++]=I&2?k:_,m[c++]=I&1?k:_;for(;P<L;P++)M===0&&(I=h[u++],M=128),m[c++]=I&M?k:_,M>>=1}for(;c<b;)m[c++]=0;n.putImageData(a,0,f*Yn)}}else if(e.kind===df.RGBA_32BPP){for(p=0,y=i*Yn*4,f=0;f<s;f++)d.set(h.subarray(u,u+y)),u+=y,n.putImageData(a,0,p),p+=Yn;f<o&&(y=i*r*4,d.set(h.subarray(u,u+y)),n.putImageData(a,0,p))}else if(e.kind===df.RGB_24BPP)for(v=Yn,y=i*v,f=0;f<o;f++){for(f>=s&&(v=r,y=i*v),c=0,p=y;p--;)d[c++]=h[u++],d[c++]=h[u++],d[c++]=h[u++],d[c++]=255;n.putImageData(a,0,f*Yn)}else throw new Error(`bad image kind: ${e.kind}`)}function HE(n,e){if(e.bitmap){n.drawImage(e.bitmap,0,0);return}const t=e.height,i=e.width,r=t%Yn,s=(t-r)/Yn,o=r===0?s:s+1,a=n.createImageData(i,Yn);let u=0;const c=e.data,h=a.data;for(let d=0;d<o;d++){const f=d<s?Yn:r;({srcPos:u}=KB({src:c,srcPos:u,dest:h,width:i,height:f,nonBlackColor:0})),n.putImageData(a,0,d*Yn)}}function Ed(n,e){const t=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const i of t)n[i]!==void 0&&(e[i]=n[i]);n.setLineDash!==void 0&&(e.setLineDash(n.getLineDash()),e.lineDashOffset=n.lineDashOffset)}function fg(n){n.strokeStyle=n.fillStyle="#000000",n.fillRule="nonzero",n.globalAlpha=1,n.lineWidth=1,n.lineCap="butt",n.lineJoin="miter",n.miterLimit=10,n.globalCompositeOperation="source-over",n.font="10px sans-serif",n.setLineDash!==void 0&&(n.setLineDash([]),n.lineDashOffset=0);const{filter:e}=n;e!=="none"&&e!==""&&(n.filter="none")}function $E(n,e){if(e)return!0;J.singularValueDecompose2dScale(n,ki);const t=Math.fround(Pr.pixelRatio*vo.PDF_TO_CSS_UNITS);return ki[0]<=t&&ki[1]<=t}const e3=["butt","round","square"],t3=["miter","round","bevel"],n3={},VE={};var Rr,Tw,Pw,Rw;const cS=class cS{constructor(e,t,i,r,s,{optionalContentConfig:o,markedContentStack:a=null},u,c,h){S(this,Rr);this.ctx=e,this.current=new zE(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=i,this.canvasFactory=r,this.filterFactory=s,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=a||[],this.optionalContentConfig=o,this.cachedCanvases=new ZB(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=u,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=c,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=h??null}getObject(e,t,i=null){var r;return typeof t=="string"?((r=this.dependencyTracker)==null||r.recordNamedDependency(e,t),t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t)):i}beginDrawing({transform:e,viewport:t,transparency:i=!1,background:r=null}){const s=this.ctx.canvas.width,o=this.ctx.canvas.height,a=this.ctx.fillStyle;if(this.ctx.fillStyle=r||"#ffffff",this.ctx.fillRect(0,0,s,o),this.ctx.fillStyle=a,i){const u=this.cachedCanvases.getCanvas("transparent",s,o);this.compositeCtx=this.ctx,this.transparentCanvas=u.canvas,this.ctx=u.context,this.ctx.save(),this.ctx.transform(...at(this.compositeCtx))}this.ctx.save(),fg(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...t.transform),this.viewportScale=t.scale,this.baseTransform=at(this.ctx)}executeOperatorList(e,t,i,r,s){var m;const o=e.argsArray,a=e.fnArray;let u=t||0;const c=o.length;if(c===u)return u;const h=c-u>BE&&typeof i=="function",d=h?Date.now()+QB:0;let f=0;const p=this.commonObjs,v=this.objs;let y,E;for(;;){if(r!==void 0&&u===r.nextBreakPoint)return r.breakIt(u,i),u;if(!s||s(u))if(y=a[u],E=o[u]??null,y!==Jh.dependency)E===null?this[y](u):this[y](u,...E);else for(const b of E){(m=this.dependencyTracker)==null||m.recordNamedData(b,u);const x=b.startsWith("g_")?p:v;if(!x.has(b))return x.get(b,i),u}if(u++,u===c)return u;if(h&&++f>BE){if(Date.now()>d)return i(),u;f=0}}}endDrawing(){A(this,Rr,Tw).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),A(this,Rr,Pw).call(this)}_scaleImage(e,t){const i=e.width??e.displayWidth,r=e.height??e.displayHeight;let s=Math.max(Math.hypot(t[0],t[1]),1),o=Math.max(Math.hypot(t[2],t[3]),1),a=i,u=r,c="prescale1",h,d;for(;s>2&&a>1||o>2&&u>1;){let f=a,p=u;s>2&&a>1&&(f=a>=16384?Math.floor(a/2)-1||1:Math.ceil(a/2),s/=a/f),o>2&&u>1&&(p=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u)/2,o/=u/p),h=this.cachedCanvases.getCanvas(c,f,p),d=h.context,d.clearRect(0,0,f,p),d.drawImage(e,0,0,a,u,0,0,f,p),e=h.canvas,a=f,u=p,c=c==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:a,paintHeight:u}}_createMaskCanvas(e,t){var M,I;const i=this.ctx,{width:r,height:s}=t,o=this.current.fillColor,a=this.current.patternFill,u=at(i);let c,h,d,f;if((t.bitmap||t.data)&&t.count>1){const F=t.bitmap||t.data.buffer;h=JSON.stringify(a?u:[u.slice(0,4),o]),c=this._cachedBitmapsMap.get(F),c||(c=new Map,this._cachedBitmapsMap.set(F,c));const W=c.get(h);if(W&&!a){const z=Math.round(Math.min(u[0],u[2])+u[4]),G=Math.round(Math.min(u[1],u[3])+u[5]);return(M=this.dependencyTracker)==null||M.recordDependencies(e,Fi.transformAndFill),{canvas:W,offsetX:z,offsetY:G}}d=W}d||(f=this.cachedCanvases.getCanvas("maskCanvas",r,s),HE(f.context,t));let p=J.transform(u,[1/r,0,0,-1/s,0,0]);p=J.transform(p,[1,0,0,1,0,-s]);const v=ic.slice();J.axialAlignedBoundingBox([0,0,r,s],p,v);const[y,E,m,b]=v,x=Math.round(m-y)||1,k=Math.round(b-E)||1,_=this.cachedCanvases.getCanvas("fillCanvas",x,k),C=_.context,P=y,L=E;C.translate(-P,-L),C.transform(...p),d||(d=this._scaleImage(f.canvas,Lr(C)),d=d.img,c&&a&&c.set(h,d)),C.imageSmoothingEnabled=$E(at(C),t.interpolate),dg(C,d,0,0,d.width,d.height,0,0,r,s),C.globalCompositeOperation="source-in";const D=J.transform(Lr(C),[1,0,0,1,-P,-L]);return C.fillStyle=a?o.getPattern(i,this,D,sn.FILL,e):o,C.fillRect(0,0,r,s),c&&!a&&(this.cachedCanvases.delete("fillCanvas"),c.set(h,_.canvas)),(I=this.dependencyTracker)==null||I.recordDependencies(e,Fi.transformAndFill),{canvas:_.canvas,offsetX:Math.round(P),offsetY:Math.round(L)}}setLineWidth(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineWidth",e),t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineCap",e),this.ctx.lineCap=e3[t]}setLineJoin(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("lineJoin",e),this.ctx.lineJoin=t3[t]}setMiterLimit(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("miterLimit",e),this.ctx.miterLimit=t}setDash(e,t,i){var s;(s=this.dependencyTracker)==null||s.recordSimpleData("dash",e);const r=this.ctx;r.setLineDash!==void 0&&(r.setLineDash(t),r.lineDashOffset=i)}setRenderingIntent(e,t){}setFlatness(e,t){}setGState(e,t){var i,r,s,o,a;for(const[u,c]of t)switch(u){case"LW":this.setLineWidth(e,c);break;case"LC":this.setLineCap(e,c);break;case"LJ":this.setLineJoin(e,c);break;case"ML":this.setMiterLimit(e,c);break;case"D":this.setDash(e,c[0],c[1]);break;case"RI":this.setRenderingIntent(e,c);break;case"FL":this.setFlatness(e,c);break;case"Font":this.setFont(e,c[0],c[1]);break;case"CA":(i=this.dependencyTracker)==null||i.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=c;break;case"ca":(r=this.dependencyTracker)==null||r.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=c;break;case"BM":(s=this.dependencyTracker)==null||s.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=c;break;case"SMask":(o=this.dependencyTracker)==null||o.recordSimpleData("SMask",e),this.current.activeSMask=c?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(a=this.dependencyTracker)==null||a.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(c);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,i=this.ctx.canvas.height,r="smaskGroupAt"+this.groupLevel,s=this.cachedCanvases.getCanvas(r,t,i);this.suspendedCtx=this.ctx;const o=this.ctx=s.context;o.setTransform(this.suspendedCtx.getTransform()),Ed(this.suspendedCtx,o),JB(o,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),Ed(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,i=this.suspendedCtx;this.composeSMask(i,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,i,r){const s=r[0],o=r[1],a=r[2]-s,u=r[3]-o;a===0||u===0||(this.genericComposeSMask(t.context,i,a,u,t.subtype,t.backdrop,t.transferMap,s,o,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(i.canvas,0,0),e.restore())}genericComposeSMask(e,t,i,r,s,o,a,u,c,h,d){let f=e.canvas,p=u-h,v=c-d;if(o)if(p<0||v<0||p+i>f.width||v+r>f.height){const E=this.cachedCanvases.getCanvas("maskExtension",i,r),m=E.context;m.drawImage(f,-p,-v),m.globalCompositeOperation="destination-atop",m.fillStyle=o,m.fillRect(0,0,i,r),m.globalCompositeOperation="source-over",f=E.canvas,p=v=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const E=new Path2D;E.rect(p,v,i,r),e.clip(E),e.globalCompositeOperation="destination-atop",e.fillStyle=o,e.fillRect(p,v,i,r),e.restore()}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),s==="Alpha"&&a?t.filter=this.filterFactory.addAlphaFilter(a):s==="Luminosity"&&(t.filter=this.filterFactory.addLuminosityFilter(a));const y=new Path2D;y.rect(u,c,i,r),t.clip(y),t.globalCompositeOperation="destination-in",t.drawImage(f,p,v,i,r,u,c,i,r),t.restore()}save(e){var i;this.inSMaskMode&&Ed(this.ctx,this.suspendedCtx),this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone(),(i=this.dependencyTracker)==null||i.save(e)}restore(e){var t;if((t=this.dependencyTracker)==null||t.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&Ed(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,t,i,r,s,o,a){var u;(u=this.dependencyTracker)==null||u.recordIncrementalData("transform",e),this.ctx.transform(t,i,r,s,o,a),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,i,r){let[s]=i;if(!r){s||(s=i[0]=new Path2D),this[t](e,s);return}if(this.dependencyTracker!==null){const o=t===Jh.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,r[0]-o,r[2]+o,r[1]-o,r[3]+o).recordDependencies(e,["transform"])}if(!(s instanceof Path2D)){const o=i[0]=new Path2D;for(let a=0,u=s.length;a<u;)switch(s[a++]){case og.moveTo:o.moveTo(s[a++],s[a++]);break;case og.lineTo:o.lineTo(s[a++],s[a++]);break;case og.curveTo:o.bezierCurveTo(s[a++],s[a++],s[a++],s[a++],s[a++],s[a++]);break;case og.closePath:o.closePath();break;default:le(`Unrecognized drawing path operator: ${s[a-1]}`);break}s=o}J.axialAlignedBoundingBox(r,at(this.ctx),this.current.minMax),this[t](e,s),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,t,i=!0){var o;const r=this.ctx,s=this.current.strokeColor;if(r.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof s=="object"&&(s!=null&&s.getPattern)){const a=s.isModifyingCurrentTransform()?r.getTransform():null;if(r.save(),r.strokeStyle=s.getPattern(r,this,Lr(r),sn.STROKE,e),a){const u=new Path2D;u.addPath(t,r.getTransform().invertSelf().multiplySelf(a)),t=u}this.rescaleAndStroke(t,!1),r.restore()}else this.rescaleAndStroke(t,!0);(o=this.dependencyTracker)==null||o.recordDependencies(e,Fi.stroke),i&&this.consumePath(e,t,this.current.getClippedPathBoundingBox(sn.STROKE,at(this.ctx))),r.globalAlpha=this.current.fillAlpha}closeStroke(e,t){this.stroke(e,t)}fill(e,t,i=!0){var c,h,d;const r=this.ctx,s=this.current.fillColor,o=this.current.patternFill;let a=!1;if(o){const f=s.isModifyingCurrentTransform()?r.getTransform():null;if((c=this.dependencyTracker)==null||c.save(e),r.save(),r.fillStyle=s.getPattern(r,this,Lr(r),sn.FILL,e),f){const p=new Path2D;p.addPath(t,r.getTransform().invertSelf().multiplySelf(f)),t=p}a=!0}const u=this.current.getClippedPathBoundingBox();this.contentVisible&&u!==null&&(this.pendingEOFill?(r.fill(t,"evenodd"),this.pendingEOFill=!1):r.fill(t)),(h=this.dependencyTracker)==null||h.recordDependencies(e,Fi.fill),a&&(r.restore(),(d=this.dependencyTracker)==null||d.restore(e)),i&&this.consumePath(e,t,u)}eoFill(e,t){this.pendingEOFill=!0,this.fill(e,t)}fillStroke(e,t){this.fill(e,t,!1),this.stroke(e,t,!1),this.consumePath(e,t)}eoFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}closeFillStroke(e,t){this.fillStroke(e,t)}closeEOFillStroke(e,t){this.pendingEOFill=!0,this.fillStroke(e,t)}endPath(e,t){this.consumePath(e,t)}rawFillPath(e,t){var i;this.ctx.fill(t),(i=this.dependencyTracker)==null||i.recordDependencies(e,Fi.rawFillPath).recordOperation(e)}clip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=n3}eoClip(e){var t;(t=this.dependencyTracker)==null||t.recordFutureForcedDependency("clipMode",e),this.pendingClip=VE}beginText(e){var t;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(t=this.dependencyTracker)==null||t.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const t=this.pendingTextPaths,i=this.ctx;if(this.dependencyTracker){const{dependencyTracker:r}=this;t!==void 0&&r.recordFutureForcedDependency("textClip",r.getOpenMarker()).recordFutureForcedDependency("textClip",e),r.recordCloseMarker(e)}if(t!==void 0){const r=new Path2D,s=i.getTransform().invertSelf();for(const{transform:o,x:a,y:u,fontSize:c,path:h}of t)h&&r.addPath(h,new DOMMatrix(o).preMultiplySelf(s).translate(a,u).scale(c,-c));i.clip(r)}delete this.pendingTextPaths}setCharSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("charSpacing",e),this.current.charSpacing=t}setWordSpacing(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("wordSpacing",e),this.current.wordSpacing=t}setHScale(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("hScale",e),this.current.textHScale=t/100}setLeading(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("leading",e),this.current.leading=-t}setFont(e,t,i){var d,f;(d=this.dependencyTracker)==null||d.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",t,e);const r=this.commonObjs.get(t),s=this.current;if(!r)throw new Error(`Can't find font for ${t}`);if(s.fontMatrix=r.fontMatrix||Zx,(s.fontMatrix[0]===0||s.fontMatrix[3]===0)&&le("Invalid font matrix for font "+t),i<0?(i=-i,s.fontDirection=-1):s.fontDirection=1,this.current.font=r,this.current.fontSize=i,r.isType3Font)return;const o=r.loadedName||"sans-serif",a=((f=r.systemFontInfo)==null?void 0:f.css)||`"${o}", ${r.fallbackName}`;let u="normal";r.black?u="900":r.bold&&(u="bold");const c=r.italic?"italic":"normal";let h=i;i<OE?h=OE:i>jE&&(h=jE),this.current.fontSizeScale=i/h,this.ctx.font=`${c} ${u} ${h}px ${a}`}setTextRenderingMode(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=t}setTextRise(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("textRise",e),this.current.textRise=t}moveText(e,t,i){var r;(r=this.dependencyTracker)==null||r.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=i}setLeadingMoveText(e,t,i){this.setLeading(e,-i),this.moveText(e,t,i)}setTextMatrix(e,t){var r;(r=this.dependencyTracker)==null||r.recordSimpleData("textMatrix",e);const{current:i}=this;i.textMatrix=t,i.textMatrixScale=Math.hypot(t[0],t[1]),i.x=i.lineX=0,i.y=i.lineY=0}nextLine(e){var t;this.moveText(e,0,this.current.leading),(t=this.dependencyTracker)==null||t.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,t,i,r,s,o){var m,b,x,k;const a=this.ctx,u=this.current,c=u.font,h=u.textRenderingMode,d=u.fontSize/u.fontSizeScale,f=h&Qt.FILL_STROKE_MASK,p=!!(h&Qt.ADD_TO_PATH_FLAG),v=u.patternFill&&!c.missingFile,y=u.patternStroke&&!c.missingFile;let E;if((c.disableFontFace||p||v||y)&&!c.missingFile&&(E=c.getPathGenerator(this.commonObjs,t)),E&&(c.disableFontFace||v||y)){a.save(),a.translate(i,r),a.scale(d,-d),(m=this.dependencyTracker)==null||m.recordCharacterBBox(e,a,c);let _;if(f===Qt.FILL||f===Qt.FILL_STROKE)if(s){_=a.getTransform(),a.setTransform(...s);const C=A(this,Rr,Rw).call(this,E,_,s);a.fill(C)}else a.fill(E);if(f===Qt.STROKE||f===Qt.FILL_STROKE)if(o){_||(_=a.getTransform()),a.setTransform(...o);const{a:C,b:P,c:L,d:D}=_,M=J.inverseTransform(o),I=J.transform([C,P,L,D,0,0],M);J.singularValueDecompose2dScale(I,ki),a.lineWidth*=Math.max(ki[0],ki[1])/d,a.stroke(A(this,Rr,Rw).call(this,E,_,o))}else a.lineWidth/=d,a.stroke(E);a.restore()}else(f===Qt.FILL||f===Qt.FILL_STROKE)&&(a.fillText(t,i,r),(b=this.dependencyTracker)==null||b.recordCharacterBBox(e,a,c,d,i,r,()=>a.measureText(t))),(f===Qt.STROKE||f===Qt.FILL_STROKE)&&(this.dependencyTracker&&((x=this.dependencyTracker)==null||x.recordCharacterBBox(e,a,c,d,i,r,()=>a.measureText(t)).recordDependencies(e,Fi.stroke)),a.strokeText(t,i,r));p&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:at(a),x:i,y:r,fontSize:d,path:E}),(k=this.dependencyTracker)==null||k.recordCharacterBBox(e,a,c,d,i,r))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let i=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){i=!0;break}return pe(this,"isFontSubpixelAAEnabled",i)}showText(e,t){var L,D,M,I;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Fi.showText).resetBBox(e),this.current.textRenderingMode&Qt.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const i=this.current,r=i.font;if(r.isType3Font){this.showType3Text(e,t),(L=this.dependencyTracker)==null||L.recordShowTextOperation(e);return}const s=i.fontSize;if(s===0){(D=this.dependencyTracker)==null||D.recordOperation(e);return}const o=this.ctx,a=i.fontSizeScale,u=i.charSpacing,c=i.wordSpacing,h=i.fontDirection,d=i.textHScale*h,f=t.length,p=r.vertical,v=p?1:-1,y=r.defaultVMetrics,E=s*i.fontMatrix[0],m=i.textRenderingMode===Qt.FILL&&!r.disableFontFace&&!i.patternFill;o.save(),i.textMatrix&&o.transform(...i.textMatrix),o.translate(i.x,i.y+i.textRise),h>0?o.scale(d,-1):o.scale(d,1);let b,x;if(i.patternFill){o.save();const F=i.fillColor.getPattern(o,this,Lr(o),sn.FILL,e);b=at(o),o.restore(),o.fillStyle=F}if(i.patternStroke){o.save();const F=i.strokeColor.getPattern(o,this,Lr(o),sn.STROKE,e);x=at(o),o.restore(),o.strokeStyle=F}let k=i.lineWidth;const _=i.textMatrixScale;if(_===0||k===0){const F=i.textRenderingMode&Qt.FILL_STROKE_MASK;(F===Qt.STROKE||F===Qt.FILL_STROKE)&&(k=this.getSinglePixelWidth())}else k/=_;if(a!==1&&(o.scale(a,a),k/=a),o.lineWidth=k,r.isInvalidPDFjsFont){const F=[];let W=0;for(const G of t)F.push(G.unicode),W+=G.width;const z=F.join("");if(o.fillText(z,0,0),this.dependencyTracker!==null){const G=o.measureText(z);this.dependencyTracker.recordBBox(e,this.ctx,-G.actualBoundingBoxLeft,G.actualBoundingBoxRight,-G.actualBoundingBoxAscent,G.actualBoundingBoxDescent).recordShowTextOperation(e)}i.x+=W*E*d,o.restore(),this.compose();return}let C=0,P;for(P=0;P<f;++P){const F=t[P];if(typeof F=="number"){C+=v*F*s/1e3;continue}let W=!1;const z=(F.isSpace?c:0)+u,G=F.fontChar,U=F.accent;let $,O,q=F.width;if(p){const te=F.vmetric||y,R=-(F.vmetric?te[1]:q*.5)*E,ve=te[2]*E;q=te?-te[0]:q,$=R/a,O=(C+ve)/a}else $=C/a,O=0;let T;if(r.remeasure&&q>0){T=o.measureText(G);const te=T.width*1e3/s*a;if(q<te&&this.isFontSubpixelAAEnabled){const R=q/te;W=!0,o.save(),o.scale(R,1),$/=R}else q!==te&&($+=(q-te)/2e3*s/a)}if(this.contentVisible&&(F.isInFont||r.missingFile)){if(m&&!U)o.fillText(G,$,O),(M=this.dependencyTracker)==null||M.recordCharacterBBox(e,o,T?{bbox:null}:r,s/a,$,O,()=>T??o.measureText(G));else if(this.paintChar(e,G,$,O,b,x),U){const te=$+s*U.offset.x/a,R=O-s*U.offset.y/a;this.paintChar(e,U.fontChar,te,R,b,x)}}const se=p?q*E-z*h:q*E+z*h;C+=se,W&&o.restore()}p?i.y-=C:i.x+=C*d,o.restore(),this.compose(),(I=this.dependencyTracker)==null||I.recordShowTextOperation(e)}showType3Text(e,t){const i=this.ctx,r=this.current,s=r.font,o=r.fontSize,a=r.fontDirection,u=s.vertical?1:-1,c=r.charSpacing,h=r.wordSpacing,d=r.textHScale*a,f=r.fontMatrix||Zx,p=t.length,v=r.textRenderingMode===Qt.INVISIBLE;let y,E,m,b;if(v||o===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,i.save(),r.textMatrix&&i.transform(...r.textMatrix),i.translate(r.x,r.y+r.textRise),i.scale(d,a);const x=this.dependencyTracker;for(this.dependencyTracker=x?new Hy(x,e):null,y=0;y<p;++y){if(E=t[y],typeof E=="number"){b=u*E*o/1e3,this.ctx.translate(b,0),r.x+=b*d;continue}const k=(E.isSpace?h:0)+c,_=s.charProcOperatorList[E.operatorListId];_?this.contentVisible&&(this.save(),i.scale(o,o),i.transform(...f),this.executeOperatorList(_),this.restore()):le(`Type3 character "${E.operatorListId}" is not available.`);const C=[E.width,0];J.applyTransform(C,f),m=C[0]*o+k,i.translate(m,0),r.x+=m*d}i.restore(),x&&(this.dependencyTracker=x)}setCharWidth(e,t,i){}setCharWidthAndBounds(e,t,i,r,s,o,a){var c;const u=new Path2D;u.rect(r,s,o-r,a-s),this.ctx.clip(u),(c=this.dependencyTracker)==null||c.recordBBox(e,this.ctx,r,o,s,a).recordClipBox(e,this.ctx,r,o,s,a),this.endPath(e)}getColorN_Pattern(e,t){let i;if(t[0]==="TilingPattern"){const r=this.baseTransform||at(this.ctx),s={createCanvasGraphics:(o,a)=>new cS(o,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new Hy(this.dependencyTracker,a,!0):null)};i=new _w(t,this.ctx,s,r)}else i=this._getPattern(e,t[1],t[2]);return i}setStrokeColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,t),this.current.patternStroke=!0}setFillColorN(e,...t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,t),this.current.patternFill=!0}setStrokeRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=t,this.current.patternStroke=!1}setStrokeTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,t){var i;(i=this.dependencyTracker)==null||i.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=t,this.current.patternFill=!1}setFillTransparent(e){var t;(t=this.dependencyTracker)==null||t.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,t,i=null){let r;return this.cachedPatterns.has(t)?r=this.cachedPatterns.get(t):(r=YB(this.getObject(e,t)),this.cachedPatterns.set(t,r)),i&&(r.matrix=i),r}shadingFill(e,t){var o;if(!this.contentVisible)return;const i=this.ctx;this.save(e);const r=this._getPattern(e,t);i.fillStyle=r.getPattern(i,this,Lr(i),sn.SHADING,e);const s=Lr(i);if(s){const{width:a,height:u}=i.canvas,c=ic.slice();J.axialAlignedBoundingBox([0,0,a,u],s,c);const[h,d,f,p]=c;this.ctx.fillRect(h,d,f-h,p-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(o=this.dependencyTracker)==null||o.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Fi.transform).recordDependencies(e,Fi.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){We("Should not call beginInlineImage")}beginImageData(){We("Should not call beginImageData")}paintFormXObjectBegin(e,t,i){var r;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),t&&this.transform(e,...t),this.baseTransform=at(this.ctx),i)){J.axialAlignedBoundingBox(i,this.baseTransform,this.current.minMax);const[s,o,a,u]=i,c=new Path2D;c.rect(s,o,a-s,u-o),this.ctx.clip(c),(r=this.dependencyTracker)==null||r.recordClipBox(e,this.ctx,s,a,o,u),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,t){var x;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const i=this.ctx;t.isolated||B0("TODO: Support non-isolated groups."),t.knockout&&le("Knockout groups not supported.");const r=at(i);if(t.matrix&&i.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let s=ic.slice();J.axialAlignedBoundingBox(t.bbox,at(i),s);const o=[0,0,i.canvas.width,i.canvas.height];s=J.intersect(s,o)||[0,0,0,0];const a=Math.floor(s[0]),u=Math.floor(s[1]),c=Math.max(Math.ceil(s[2])-a,1),h=Math.max(Math.ceil(s[3])-u,1);this.current.startNewPathAndClipBox([0,0,c,h]);let d="groupAt"+this.groupLevel;t.smask&&(d+="_smask_"+this.smaskCounter++%2);const f=this.cachedCanvases.getCanvas(d,c,h),p=f.context;p.translate(-a,-u),p.transform(...r);let v=new Path2D;const[y,E,m,b]=t.bbox;if(v.rect(y,E,m-y,b-E),t.matrix){const k=new Path2D;k.addPath(v,new DOMMatrix(t.matrix)),v=k}p.clip(v),t.smask&&this.smaskStack.push({canvas:f.canvas,context:p,offsetX:a,offsetY:u,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}),(!t.smask||this.dependencyTracker)&&(i.setTransform(1,0,0,1,0,0),i.translate(a,u),i.save()),Ed(i,p),this.ctx=p,(x=this.dependencyTracker)==null||x.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(i),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++}endGroup(e,t){var s;if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx,r=this.groupStack.pop();if(this.ctx=r,this.ctx.imageSmoothingEnabled=!1,(s=this.dependencyTracker)==null||s.popBaseTransform(),t.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const o=at(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...o);const a=ic.slice();J.axialAlignedBoundingBox([0,0,i.canvas.width,i.canvas.height],o,a),this.ctx.drawImage(i.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(e,t,i,r,s,o){if(A(this,Rr,Tw).call(this),fg(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),i){const a=i[2]-i[0],u=i[3]-i[1];if(o&&this.annotationCanvasMap){r=r.slice(),r[4]-=i[0],r[5]-=i[1],i=i.slice(),i[0]=i[1]=0,i[2]=a,i[3]=u,J.singularValueDecompose2dScale(at(this.ctx),ki);const{viewportScale:c}=this,h=Math.ceil(a*this.outputScaleX*c),d=Math.ceil(u*this.outputScaleY*c);this.annotationCanvas=this.canvasFactory.create(h,d);const{canvas:f,context:p}=this.annotationCanvas;this.annotationCanvasMap.set(t,f),this.annotationCanvas.savedCtx=this.ctx,this.ctx=p,this.ctx.save(),this.ctx.setTransform(ki[0],0,0,-ki[1],0,u*ki[1]),fg(this.ctx)}else{fg(this.ctx),this.endPath(e);const c=new Path2D;c.rect(i[0],i[1],a,u),this.ctx.clip(c)}}this.current=new zE(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...r),this.transform(e,...s)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),A(this,Rr,Pw).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,t){var a;if(!this.contentVisible)return;const i=t.count;t=this.getObject(e,t.data,t),t.count=i;const r=this.ctx,s=this._createMaskCanvas(e,t),o=s.canvas;r.save(),r.setTransform(1,0,0,1,0,0),r.drawImage(o,s.offsetX,s.offsetY),(a=this.dependencyTracker)==null||a.resetBBox(e).recordBBox(e,this.ctx,s.offsetX,s.offsetX+o.width,s.offsetY,s.offsetY+o.height).recordOperation(e),r.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t,i,r=0,s=0,o,a){var d,f,p;if(!this.contentVisible)return;t=this.getObject(e,t.data,t);const u=this.ctx;u.save();const c=at(u);u.transform(i,r,s,o,0,0);const h=this._createMaskCanvas(e,t);u.setTransform(1,0,0,1,h.offsetX-c[4],h.offsetY-c[5]),(d=this.dependencyTracker)==null||d.resetBBox(e);for(let v=0,y=a.length;v<y;v+=2){const E=J.transform(c,[i,r,s,o,a[v],a[v+1]]);u.drawImage(h.canvas,E[4],E[5]),(f=this.dependencyTracker)==null||f.recordBBox(e,this.ctx,E[4],E[4]+h.canvas.width,E[5],E[5]+h.canvas.height)}u.restore(),this.compose(),(p=this.dependencyTracker)==null||p.recordOperation(e)}paintImageMaskXObjectGroup(e,t){var o,a,u;if(!this.contentVisible)return;const i=this.ctx,r=this.current.fillColor,s=this.current.patternFill;(o=this.dependencyTracker)==null||o.resetBBox(e).recordDependencies(e,Fi.transformAndFill);for(const c of t){const{data:h,width:d,height:f,transform:p}=c,v=this.cachedCanvases.getCanvas("maskCanvas",d,f),y=v.context;y.save();const E=this.getObject(e,h,c);HE(y,E),y.globalCompositeOperation="source-in",y.fillStyle=s?r.getPattern(y,this,Lr(i),sn.FILL,e):r,y.fillRect(0,0,d,f),y.restore(),i.save(),i.transform(...p),i.scale(1,-1),dg(i,v.canvas,0,0,d,f,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,i,0,d,0,f),i.restore()}this.compose(),(u=this.dependencyTracker)==null||u.recordOperation(e)}paintImageXObject(e,t){if(!this.contentVisible)return;const i=this.getObject(e,t);if(!i){le("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,i)}paintImageXObjectRepeat(e,t,i,r,s){if(!this.contentVisible)return;const o=this.getObject(e,t);if(!o){le("Dependent image isn't ready yet");return}const a=o.width,u=o.height,c=[];for(let h=0,d=s.length;h<d;h+=2)c.push({transform:[i,0,0,r,s[h],s[h+1]],x:0,y:0,w:a,h:u});this.paintInlineImageXObjectGroup(e,o,c)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:t,width:i,height:r}=e,s=this.cachedCanvases.getCanvas("inlineImage",i,r),o=s.context;return o.filter=this.current.transferMaps,o.drawImage(t,0,0),o.filter="none",s.canvas}paintInlineImageXObject(e,t){var c;if(!this.contentVisible)return;const i=t.width,r=t.height,s=this.ctx;this.save(e);const{filter:o}=s;o!=="none"&&o!==""&&(s.filter="none"),s.scale(1/i,-1/r);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",i,r).context;UE(d,t),a=this.applyTransferMapsToCanvas(d)}const u=this._scaleImage(a,Lr(s));s.imageSmoothingEnabled=$E(at(s),t.interpolate),(c=this.dependencyTracker)==null||c.resetBBox(e).recordBBox(e,s,0,i,-r,0).recordDependencies(e,Fi.imageXObject).recordOperation(e),dg(s,u.img,0,0,u.paintWidth,u.paintHeight,0,-r,i,r),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,t,i){var o,a,u;if(!this.contentVisible)return;const r=this.ctx;let s;if(t.bitmap)s=t.bitmap;else{const c=t.width,h=t.height,f=this.cachedCanvases.getCanvas("inlineImage",c,h).context;UE(f,t),s=this.applyTransferMapsToCanvas(f)}(o=this.dependencyTracker)==null||o.resetBBox(e);for(const c of i)r.save(),r.transform(...c.transform),r.scale(1,-1),dg(r,s,c.x,c.y,c.w,c.h,0,-1,1,1),(a=this.dependencyTracker)==null||a.recordBBox(e,r,0,1,-1,0),r.restore();(u=this.dependencyTracker)==null||u.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var t;this.contentVisible&&((t=this.dependencyTracker)==null||t.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Fi.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,t){}markPointProps(e,t,i){}beginMarkedContent(e,t){var i;(i=this.dependencyTracker)==null||i.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t,i){var r;(r=this.dependencyTracker)==null||r.beginMarkedContent(e),t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(i)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var t;(t=this.dependencyTracker)==null||t.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,t,i){var o,a;const r=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(i);const s=this.ctx;this.pendingClip?(r||(this.pendingClip===VE?s.clip(t,"evenodd"):s.clip(t)),this.pendingClip=null,(o=this.dependencyTracker)==null||o.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(a=this.dependencyTracker)==null||a.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=at(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),i=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(i,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:t,b:i,c:r,d:s}=this.ctx.getTransform();let o,a;if(i===0&&r===0){const u=Math.abs(t),c=Math.abs(s);if(u===c)if(e===0)o=a=1/u;else{const h=u*e;o=a=h<1?1/h:1}else if(e===0)o=1/u,a=1/c;else{const h=u*e,d=c*e;o=h<1?1/h:1,a=d<1?1/d:1}}else{const u=Math.abs(t*s-i*r),c=Math.hypot(t,i),h=Math.hypot(r,s);if(e===0)o=h/u,a=c/u;else{const d=e*u;o=h>d?h/d:1,a=c>d?c/d:1}}this._cachedScaleForStroking[0]=o,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e,t){const{ctx:i,current:{lineWidth:r}}=this,[s,o]=this.getScaleForStroking();if(s===o){i.lineWidth=(r||1)*s,i.stroke(e);return}const a=i.getLineDash();t&&i.save(),i.scale(s,o),Wv.a=1/s,Wv.d=1/o;const u=new Path2D;if(u.addPath(e,Wv),a.length>0){const c=Math.max(s,o);i.setLineDash(a.map(h=>h/c)),i.lineDashOffset/=c}i.lineWidth=r||1,i.stroke(u),t&&i.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Rr=new WeakSet,Tw=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Pw=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}},Rw=function(e,t,i){const r=new Path2D;return r.addPath(e,new DOMMatrix(i).invertSelf().multiplySelf(t)),r};let gc=cS;for(const n in Jh)gc.prototype[n]!==void 0&&(gc.prototype[Jh[n]]=gc.prototype[n]);var Gc,qc,yp,Xc,Ug;const sc=class sc{constructor(e){S(this,Xc);S(this,Gc);S(this,qc);S(this,yp);g(this,Gc,e),g(this,qc,new DataView(l(this,Gc))),g(this,yp,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const c of sc.strings){const h=t.encode(e[c]);i[c]=h,r+=4+h.length}const s=new ArrayBuffer(r),o=new Uint8Array(s),a=new DataView(s);let u=0;for(const c of sc.strings){const h=i[c],d=h.length;a.setUint32(u,d),o.set(h,u+4),u+=4+d}return Ae(u===s.byteLength,"CssFontInfo.write: Buffer overflow"),s}get fontFamily(){return A(this,Xc,Ug).call(this,0)}get fontWeight(){return A(this,Xc,Ug).call(this,1)}get italicAngle(){return A(this,Xc,Ug).call(this,2)}};Gc=new WeakMap,qc=new WeakMap,yp=new WeakMap,Xc=new WeakSet,Ug=function(e){Ae(e<sc.strings.length,"Invalid string index");let t=0;for(let r=0;r<e;r++)t+=l(this,qc).getUint32(t)+4;const i=l(this,qc).getUint32(t);return l(this,yp).decode(new Uint8Array(l(this,Gc),t+4,i))},B(sc,"strings",["fontFamily","fontWeight","italicAngle"]);let $y=sc;var Xo,Xr,Nl,Ll,$d;const oc=class oc{constructor(e){S(this,Ll);S(this,Xo);S(this,Xr);S(this,Nl);g(this,Xo,e),g(this,Xr,new DataView(l(this,Xo))),g(this,Nl,new TextDecoder)}static write(e){const t=new TextEncoder,i={};let r=0;for(const f of oc.strings){const p=t.encode(e[f]);i[f]=p,r+=4+p.length}r+=4;let s,o,a=1+r;e.style&&(s=t.encode(e.style.style),o=t.encode(e.style.weight),a+=4+s.length+4+o.length);const u=new ArrayBuffer(a),c=new Uint8Array(u),h=new DataView(u);let d=0;h.setUint8(d++,e.guessFallback?1:0),h.setUint32(d,0),d+=4,r=0;for(const f of oc.strings){const p=i[f],v=p.length;r+=4+v,h.setUint32(d,v),c.set(p,d+4),d+=4+v}return h.setUint32(d-r-4,r),e.style&&(h.setUint32(d,s.length),c.set(s,d+4),d+=4+s.length,h.setUint32(d,o.length),c.set(o,d+4),d+=4+o.length),Ae(d<=u.byteLength,"SubstitionInfo.write: Buffer overflow"),u.transferToFixedLength(d)}get guessFallback(){return l(this,Xr).getUint8(0)!==0}get css(){return A(this,Ll,$d).call(this,0)}get loadedName(){return A(this,Ll,$d).call(this,1)}get baseFontName(){return A(this,Ll,$d).call(this,2)}get src(){return A(this,Ll,$d).call(this,3)}get style(){let e=1;e+=4+l(this,Xr).getUint32(e);const t=l(this,Xr).getUint32(e),i=l(this,Nl).decode(new Uint8Array(l(this,Xo),e+4,t));e+=4+t;const r=l(this,Xr).getUint32(e),s=l(this,Nl).decode(new Uint8Array(l(this,Xo),e+4,r));return{style:i,weight:s}}};Xo=new WeakMap,Xr=new WeakMap,Nl=new WeakMap,Ll=new WeakSet,$d=function(e){Ae(e<oc.strings.length,"Invalid string index");let t=5;for(let r=0;r<e;r++)t+=l(this,Xr).getUint32(t)+4;const i=l(this,Xr).getUint32(t);return l(this,Nl).decode(new Uint8Array(l(this,Xo),t+4,i))},B(oc,"strings",["css","loadedName","baseFontName","src"]);let Vy=oc;var Yc,Kc,Qc,Jc,ui,Yr,vp,je,vt,ar,Hg,Vd;const he=class he{constructor({data:e,extra:t}){S(this,vt);S(this,Yr);S(this,vp);S(this,je);g(this,Yr,e),g(this,vp,new TextDecoder),g(this,je,new DataView(l(this,Yr))),t&&Object.assign(this,t)}get black(){return A(this,vt,ar).call(this,0)}get bold(){return A(this,vt,ar).call(this,1)}get disableFontFace(){return A(this,vt,ar).call(this,2)}get fontExtraProperties(){return A(this,vt,ar).call(this,3)}get isInvalidPDFjsFont(){return A(this,vt,ar).call(this,4)}get isType3Font(){return A(this,vt,ar).call(this,5)}get italic(){return A(this,vt,ar).call(this,6)}get missingFile(){return A(this,vt,ar).call(this,7)}get remeasure(){return A(this,vt,ar).call(this,8)}get vertical(){return A(this,vt,ar).call(this,9)}get ascent(){return A(this,vt,Hg).call(this,0)}get defaultWidth(){return A(this,vt,Hg).call(this,1)}get descent(){return A(this,vt,Hg).call(this,2)}get bbox(){let e=l(he,Kc);if(l(this,je).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<4;r++)i.push(l(this,je).getInt16(e,!0)),e+=2;return i}get fontMatrix(){let e=l(he,Qc);if(l(this,je).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<6;r++)i.push(l(this,je).getFloat64(e,!0)),e+=8;return i}get defaultVMetrics(){let e=l(he,Jc);if(l(this,je).getUint8(e)===0)return;e+=1;const i=[];for(let r=0;r<3;r++)i.push(l(this,je).getInt16(e,!0)),e+=2;return i}get fallbackName(){return A(this,vt,Vd).call(this,0)}get loadedName(){return A(this,vt,Vd).call(this,1)}get mimetype(){return A(this,vt,Vd).call(this,2)}get name(){return A(this,vt,Vd).call(this,3)}get data(){let e=l(he,ui);const t=l(this,je).getUint32(e);e+=4+t;const i=l(this,je).getUint32(e);e+=4+i;const r=l(this,je).getUint32(e);e+=4+r;const s=l(this,je).getUint32(e);if(s!==0)return new Uint8Array(l(this,Yr),e+4,s)}clearData(){let e=l(he,ui);const t=l(this,je).getUint32(e);e+=4+t;const i=l(this,je).getUint32(e);e+=4+i;const r=l(this,je).getUint32(e);e+=4+r;const s=l(this,je).getUint32(e);new Uint8Array(l(this,Yr),e+4,s).fill(0),l(this,je).setUint32(e,0)}get cssFontInfo(){let e=l(he,ui);const t=l(this,je).getUint32(e);e+=4+t;const i=l(this,je).getUint32(e);e+=4+i;const r=l(this,je).getUint32(e);if(r===0)return null;const s=new Uint8Array(r);return s.set(new Uint8Array(l(this,Yr),e+4,r)),new $y(s.buffer)}get systemFontInfo(){let e=l(he,ui);const t=l(this,je).getUint32(e);e+=4+t;const i=l(this,je).getUint32(e);if(i===0)return null;const r=new Uint8Array(i);return r.set(new Uint8Array(l(this,Yr),e+4,i)),new Vy(r.buffer)}static write(e){const t=e.systemFontInfo?Vy.write(e.systemFontInfo):null,i=e.cssFontInfo?$y.write(e.cssFontInfo):null,r=new TextEncoder,s={};let o=0;for(const y of he.strings)s[y]=r.encode(e[y]),o+=4+s[y].length;const a=l(he,ui)+4+o+4+(t?t.byteLength:0)+4+(i?i.byteLength:0)+4+(e.data?e.data.length:0),u=new ArrayBuffer(a),c=new Uint8Array(u),h=new DataView(u);let d=0;const f=he.bools.length;let p=0,v=0;for(let y=0;y<f;y++){const E=e[he.bools[y]];p|=(E===void 0?0:E?2:1)<<v,v+=2,(v===8||y===f-1)&&(h.setUint8(d++,p),p=0,v=0)}Ae(d===l(he,Yc),"FontInfo.write: Boolean properties offset mismatch");for(const y of he.numbers)h.setFloat64(d,e[y]),d+=8;if(Ae(d===l(he,Kc),"FontInfo.write: Number properties offset mismatch"),e.bbox){h.setUint8(d++,4);for(const y of e.bbox)h.setInt16(d,y,!0),d+=2}else h.setUint8(d++,0),d+=2*4;if(Ae(d===l(he,Qc),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){h.setUint8(d++,6);for(const y of e.fontMatrix)h.setFloat64(d,y,!0),d+=8}else h.setUint8(d++,0),d+=8*6;if(Ae(d===l(he,Jc),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){h.setUint8(d++,1);for(const y of e.defaultVMetrics)h.setInt16(d,y,!0),d+=2}else h.setUint8(d++,0),d+=3*2;Ae(d===l(he,ui),"FontInfo.write: DefaultVMetrics properties offset mismatch"),h.setUint32(l(he,ui),0),d+=4;for(const y of he.strings){const E=s[y],m=E.length;h.setUint32(d,m),c.set(E,d+4),d+=4+m}if(h.setUint32(l(he,ui),d-l(he,ui)-4),!t)h.setUint32(d,0),d+=4;else{const y=t.byteLength;h.setUint32(d,y),Ae(d+4+y<=u.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),c.set(new Uint8Array(t),d+4),d+=4+y}if(!i)h.setUint32(d,0),d+=4;else{const y=i.byteLength;h.setUint32(d,y),Ae(d+4+y<=u.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),c.set(new Uint8Array(i),d+4),d+=4+y}return e.data===void 0?(h.setUint32(d,0),d+=4):(h.setUint32(d,e.data.length),c.set(e.data,d+4),d+=4+e.data.length),Ae(d<=u.byteLength,"FontInfo.write: Buffer overflow"),u.transferToFixedLength(d)}};Yc=new WeakMap,Kc=new WeakMap,Qc=new WeakMap,Jc=new WeakMap,ui=new WeakMap,Yr=new WeakMap,vp=new WeakMap,je=new WeakMap,vt=new WeakSet,ar=function(e){Ae(e<he.bools.length,"Invalid boolean index");const t=Math.floor(e/4),i=e*2%8,r=l(this,je).getUint8(t)>>i&3;return r===0?void 0:r===2},Hg=function(e){return Ae(e<he.numbers.length,"Invalid number index"),l(this,je).getFloat64(l(he,Yc)+e*8)},Vd=function(e){Ae(e<he.strings.length,"Invalid string index");let t=l(he,ui)+4;for(let s=0;s<e;s++)t+=l(this,je).getUint32(t)+4;const i=l(this,je).getUint32(t),r=new Uint8Array(i);return r.set(new Uint8Array(l(this,Yr),t+4,i)),l(this,vp).decode(r)},B(he,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),B(he,"numbers",["ascent","defaultWidth","descent"]),B(he,"strings",["fallbackName","loadedName","mimetype","name"]),S(he,Yc,Math.ceil(he.bools.length*2/8)),S(he,Kc,l(he,Yc)+he.numbers.length*8),S(he,Qc,l(he,Kc)+1+2*4),S(he,Jc,l(he,Qc)+1+8*6),S(he,ui,l(he,Jc)+1+2*3);let Nw=he;var xp,wp;class Qi{static get workerPort(){return l(this,xp)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");g(this,xp,e)}static get workerSrc(){return l(this,wp)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");g(this,wp,e)}}xp=new WeakMap,wp=new WeakMap,S(Qi,xp,null),S(Qi,wp,"");var Zc,bp;class i3{constructor({parsedData:e,rawData:t}){S(this,Zc);S(this,bp);g(this,Zc,e),g(this,bp,t)}getRaw(){return l(this,bp)}get(e){return l(this,Zc).get(e)??null}[Symbol.iterator](){return l(this,Zc).entries()}}Zc=new WeakMap,bp=new WeakMap;const Hu=Symbol("INTERNAL");var Sp,Ap,Ep,eh;class r3{constructor(e,{name:t,intent:i,usage:r,rbGroups:s}){S(this,Sp,!1);S(this,Ap,!1);S(this,Ep,!1);S(this,eh,!0);g(this,Sp,!!(e&Ai.DISPLAY)),g(this,Ap,!!(e&Ai.PRINT)),this.name=t,this.intent=i,this.usage=r,this.rbGroups=s}get visible(){if(l(this,Ep))return l(this,eh);if(!l(this,eh))return!1;const{print:e,view:t}=this.usage;return l(this,Sp)?(t==null?void 0:t.viewState)!=="OFF":l(this,Ap)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,t,i=!1){e!==Hu&&We("Internal method `_setVisible` called."),g(this,Ep,i),g(this,eh,t)}}Sp=new WeakMap,Ap=new WeakMap,Ep=new WeakMap,eh=new WeakMap;var Yo,Be,th,nh,kp,Lw;class s3{constructor(e,t=Ai.DISPLAY){S(this,kp);S(this,Yo,null);S(this,Be,new Map);S(this,th,null);S(this,nh,null);if(this.renderingIntent=t,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,g(this,nh,e.order);for(const i of e.groups)l(this,Be).set(i.id,new r3(t,i));if(e.baseState==="OFF")for(const i of l(this,Be).values())i._setVisible(Hu,!1);for(const i of e.on)l(this,Be).get(i)._setVisible(Hu,!0);for(const i of e.off)l(this,Be).get(i)._setVisible(Hu,!1);g(this,th,this.getHash())}}isVisible(e){if(l(this,Be).size===0)return!0;if(!e)return B0("Optional content group not defined."),!0;if(e.type==="OCG")return l(this,Be).has(e.id)?l(this,Be).get(e.id).visible:(le(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return A(this,kp,Lw).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const t of e.ids){if(!l(this,Be).has(t))return le(`Optional content group not found: ${t}`),!0;if(l(this,Be).get(t).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const t of e.ids){if(!l(this,Be).has(t))return le(`Optional content group not found: ${t}`),!0;if(!l(this,Be).get(t).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const t of e.ids){if(!l(this,Be).has(t))return le(`Optional content group not found: ${t}`),!0;if(!l(this,Be).get(t).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const t of e.ids){if(!l(this,Be).has(t))return le(`Optional content group not found: ${t}`),!0;if(l(this,Be).get(t).visible)return!1}return!0}return le(`Unknown optional content policy ${e.policy}.`),!0}return le(`Unknown group type ${e.type}.`),!0}setVisibility(e,t=!0,i=!0){var s;const r=l(this,Be).get(e);if(!r){le(`Optional content group not found: ${e}`);return}if(i&&t&&r.rbGroups.length)for(const o of r.rbGroups)for(const a of o)a!==e&&((s=l(this,Be).get(a))==null||s._setVisible(Hu,!1,!0));r._setVisible(Hu,!!t,!0),g(this,Yo,null)}setOCGState({state:e,preserveRB:t}){let i;for(const r of e){switch(r){case"ON":case"OFF":case"Toggle":i=r;continue}const s=l(this,Be).get(r);if(s)switch(i){case"ON":this.setVisibility(r,!0,t);break;case"OFF":this.setVisibility(r,!1,t);break;case"Toggle":this.setVisibility(r,!s.visible,t);break}}g(this,Yo,null)}get hasInitialVisibility(){return l(this,th)===null||this.getHash()===l(this,th)}getOrder(){return l(this,Be).size?l(this,nh)?l(this,nh).slice():[...l(this,Be).keys()]:null}getGroup(e){return l(this,Be).get(e)||null}getHash(){if(l(this,Yo)!==null)return l(this,Yo);const e=new cP;for(const[t,i]of l(this,Be))e.update(`${t}:${i.visible}`);return g(this,Yo,e.hexdigest())}[Symbol.iterator](){return l(this,Be).entries()}}Yo=new WeakMap,Be=new WeakMap,th=new WeakMap,nh=new WeakMap,kp=new WeakSet,Lw=function(e){const t=e.length;if(t<2)return!0;const i=e[0];for(let r=1;r<t;r++){const s=e[r];let o;if(Array.isArray(s))o=A(this,kp,Lw).call(this,s);else if(l(this,Be).has(s))o=l(this,Be).get(s).visible;else return le(`Optional content group not found: ${s}`),!0;switch(i){case"And":if(!o)return!1;break;case"Or":if(o)return!0;break;case"Not":return!o;default:return!0}}return i==="And"};class o3{constructor(e,{disableRange:t=!1,disableStream:i=!1}){Ae(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:r,initialData:s,progressiveDone:o,contentDispositionFilename:a}=e;if(this._queuedChunks=[],this._progressiveDone=o,this._contentDispositionFilename=a,(s==null?void 0:s.length)>0){const u=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(u)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!i,this._isRangeSupported=!t,this._contentLength=r,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((u,c)=>{this._onReceiveData({begin:u,chunk:c})}),e.addProgressListener((u,c)=>{this._onProgress({loaded:u,total:c})}),e.addProgressiveReadListener(u=>{this._onReceiveData({chunk:u})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:t}){const i=t instanceof Uint8Array&&t.byteLength===t.buffer.byteLength?t.buffer:new Uint8Array(t).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(i):this._queuedChunks.push(i);else{const r=this._rangeReaders.some(function(s){return s._begin!==e?!1:(s._enqueue(i),!0)});Ae(r,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var t,i,r,s;e.total===void 0?(i=(t=this._rangeReaders[0])==null?void 0:t.onProgress)==null||i.call(t,{loaded:e.loaded}):(s=(r=this._fullRequestReader)==null?void 0:r.onProgress)==null||s.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){Ae(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new a3(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new l3(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeReaders.slice(0))i.cancel(e);this._pdfDataRangeTransport.abort()}}class a3{constructor(e,t,i=!1,r=null){this._stream=e,this._done=i||!1,this._filename=U0(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const s of this._queuedChunks)this._loaded+=s.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class l3{constructor(e,t,i){this._stream=e,this._begin=t,this._end=i,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function u3(n){let e=!0,t=i("filename\\*","i").exec(n);if(t){t=t[1];let h=a(t);return h=unescape(h),h=u(h),h=c(h),s(h)}if(t=o(n),t){const h=c(t);return s(h)}if(t=i("filename","i").exec(n),t){t=t[1];let h=a(t);return h=c(h),s(h)}function i(h,d){return new RegExp("(?:^|;)\\s*"+h+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',d)}function r(h,d){if(h){if(!/^[\x00-\xFF]+$/.test(d))return d;try{const f=new TextDecoder(h,{fatal:!0}),p=Nm(d);d=f.decode(p),e=!1}catch{}}return d}function s(h){return e&&/[\x80-\xff]/.test(h)&&(h=r("utf-8",h),e&&(h=r("iso-8859-1",h))),h}function o(h){const d=[];let f;const p=i("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(f=p.exec(h))!==null;){let[,y,E,m]=f;if(y=parseInt(y,10),y in d){if(y===0)break;continue}d[y]=[E,m]}const v=[];for(let y=0;y<d.length&&y in d;++y){let[E,m]=d[y];m=a(m),E&&(m=unescape(m),y===0&&(m=u(m))),v.push(m)}return v.join("")}function a(h){if(h.startsWith('"')){const d=h.slice(1).split('\\"');for(let f=0;f<d.length;++f){const p=d[f].indexOf('"');p!==-1&&(d[f]=d[f].slice(0,p),d.length=f+1),d[f]=d[f].replaceAll(/\\(.)/g,"$1")}h=d.join('"')}return h}function u(h){const d=h.indexOf("'");if(d===-1)return h;const f=h.slice(0,d),v=h.slice(d+1).replace(/^[^']*'/,"");return r(f,v)}function c(h){return!h.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(h)?h:h.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(d,f,p,v){if(p==="q"||p==="Q")return v=v.replaceAll("_"," "),v=v.replaceAll(/=([0-9a-fA-F]{2})/g,function(y,E){return String.fromCharCode(parseInt(E,16))}),r(f,v);try{v=atob(v)}catch{}return r(f,v)})}return""}function AP(n,e){const t=new Headers;if(!n||!e||typeof e!="object")return t;for(const i in e){const r=e[i];r!==void 0&&t.append(i,r)}return t}function H0(n){var e;return((e=URL.parse(n))==null?void 0:e.origin)??null}function EP({responseHeaders:n,isHttp:e,rangeChunkSize:t,disableRange:i}){const r={allowRangeRequests:!1,suggestedLength:void 0},s=parseInt(n.get("Content-Length"),10);return!Number.isInteger(s)||(r.suggestedLength=s,s<=2*t)||i||!e||n.get("Accept-Ranges")!=="bytes"||(n.get("Content-Encoding")||"identity")!=="identity"||(r.allowRangeRequests=!0),r}function kP(n){const e=n.get("Content-Disposition");if(e){let t=u3(e);if(t.includes("%"))try{t=decodeURIComponent(t)}catch{}if(U0(t))return t}return null}function Im(n,e){return new Mf(`Unexpected server response (${n}) while retrieving PDF "${e}".`,n,n===404||n===0&&e.startsWith("file:"))}function CP(n){return n===200||n===206}function _P(n,e,t){return{method:"GET",headers:n,signal:t.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function TP(n){return n instanceof Uint8Array?n.buffer:n instanceof ArrayBuffer?n:(le(`getArrayBuffer - unexpected data format: ${n}`),new Uint8Array(n).buffer)}class c3{constructor(e){B(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=AP(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new h3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new d3(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class h3{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const i=new Headers(e.headers),r=t.url;fetch(r,_P(i,this._withCredentials,this._abortController)).then(s=>{if(e._responseOrigin=H0(s.url),!CP(s.status))throw Im(s.status,r);this._reader=s.body.getReader(),this._headersCapability.resolve();const o=s.headers,{allowRangeRequests:a,suggestedLength:u}=EP({responseHeaders:o,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=u||this._contentLength,this._filename=kP(o),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new yo("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._headersCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:TP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}class d3{constructor(e,t,i){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const s=new Headers(e.headers);s.append("Range",`bytes=${t}-${i-1}`);const o=r.url;fetch(o,_P(s,this._withCredentials,this._abortController)).then(a=>{const u=H0(a.url);if(u!==e._responseOrigin)throw new Error(`Expected range response-origin "${u}" to match "${e._responseOrigin}".`);if(!CP(a.status))throw Im(a.status,o);this._readCapability.resolve(),this._reader=a.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;await this._readCapability.promise;const{value:e,done:t}=await this._reader.read();return t?{value:e,done:t}:(this._loaded+=e.byteLength,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:TP(e),done:!1})}cancel(e){var t;(t=this._reader)==null||t.cancel(e),this._abortController.abort()}}const Gv=200,qv=206;function f3(n){const e=n.response;return typeof e!="string"?e:Nm(e).buffer}class p3{constructor({url:e,httpHeaders:t,withCredentials:i}){B(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=AP(this.isHttp,t),this.withCredentials=i||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const t=new XMLHttpRequest,i=this.currXhrId++,r=this.pendingRequests[i]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[s,o]of this.headers)t.setRequestHeader(s,o);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),r.expectedStatus=qv):r.expectedStatus=Gv,t.responseType="arraybuffer",Ae(e.onError,"Expected `onError` callback to be provided."),t.onerror=()=>{e.onError(t.status)},t.onreadystatechange=this.onStateChange.bind(this,i),t.onprogress=this.onProgress.bind(this,i),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),i}onProgress(e,t){var r;const i=this.pendingRequests[e];i&&((r=i.onProgress)==null||r.call(i,t))}onStateChange(e,t){const i=this.pendingRequests[e];if(!i)return;const r=i.xhr;if(r.readyState>=2&&i.onHeadersReceived&&(i.onHeadersReceived(),delete i.onHeadersReceived),r.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],r.status===0&&this.isHttp){i.onError(r.status);return}const s=r.status||Gv;if(!(s===Gv&&i.expectedStatus===qv)&&s!==i.expectedStatus){i.onError(r.status);return}const a=f3(r);if(s===qv){const u=r.getResponseHeader("Content-Range"),c=/bytes (\d+)-(\d+)\/(\d+)/.exec(u);c?i.onDone({begin:parseInt(c[1],10),chunk:a}):(le('Missing or invalid "Content-Range" header.'),i.onError(0))}else a?i.onDone({begin:0,chunk:a}):i.onError(r.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class m3{constructor(e){this._source=e,this._manager=new p3(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return Ae(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new g3(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const i=new y3(this._manager,e,t);return i.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class g3{constructor(e,t){this._manager=e,this._url=t.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e);this._manager._responseOrigin=H0(t.responseURL);const i=t.getAllResponseHeaders(),r=new Headers(i?i.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(a=>{const[u,...c]=a.split(": ");return[u,c.join(": ")]}):[]),{allowRangeRequests:s,suggestedLength:o}=EP({responseHeaders:r,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});s&&(this._isRangeSupported=!0),this._contentLength=o||this._contentLength,this._filename=kP(r),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=Im(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;(t=this.onProgress)==null||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class y3{constructor(e,t,i){this._manager=e,this._url=e.url,this._requestId=e.request({begin:t,end:i,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var t;const e=H0((t=this._manager.getRequestXhr(this._requestId))==null?void 0:t.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const t=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunk=t,this._done=!0;for(const i of this._requests)i.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=Im(e,this._url));for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(t=this.onProgress)==null||t.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const t=this._queuedChunk;return this._queuedChunk=null,{value:t,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const v3=/^[a-z][a-z0-9\-+.]+:/i;function x3(n){if(v3.test(n))return new URL(n);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(n))}class w3{constructor(e){this.source=e,this.url=x3(e.url),Ae(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return Ae(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new b3(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const i=new S3(this,e,t);return this._rangeRequestReaders.push(i),i}cancelAllRequests(e){var t;(t=this._fullRequestReader)==null||t.cancel(e);for(const i of this._rangeRequestReaders.slice(0))i.cancel(e)}}class b3{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const i=process.getBuiltinModule("fs");i.promises.lstat(this._url).then(r=>{this._contentLength=r.size,this._setReadableStream(i.createReadStream(this._url)),this._headersCapability.resolve()},r=>{r.code==="ENOENT"&&(r=Im(0,this._url.href)),this._storedError=r,this._headersCapability.reject(r)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new yo("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class S3{constructor(e,t,i){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const r=e.source;this._isStreamingSupported=!r.disableStream;const s=process.getBuiltinModule("fs");this._setReadableStream(s.createReadStream(this._url,{start:t,end:i-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var i;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(i=this.onProgress)==null||i.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",t=>{this._error(t)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const kd=Symbol("INITIAL_DATA");var ci,Cp,Mw;class PP{constructor(){S(this,Cp);S(this,ci,Object.create(null))}get(e,t=null){if(t){const r=A(this,Cp,Mw).call(this,e);return r.promise.then(()=>t(r.data)),null}const i=l(this,ci)[e];if(!i||i.data===kd)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return i.data}has(e){const t=l(this,ci)[e];return!!t&&t.data!==kd}delete(e){const t=l(this,ci)[e];return!t||t.data===kd?!1:(delete l(this,ci)[e],!0)}resolve(e,t=null){const i=A(this,Cp,Mw).call(this,e);i.data=t,i.resolve()}clear(){var e;for(const t in l(this,ci)){const{data:i}=l(this,ci)[t];(e=i==null?void 0:i.bitmap)==null||e.close()}g(this,ci,Object.create(null))}*[Symbol.iterator](){for(const e in l(this,ci)){const{data:t}=l(this,ci)[e];t!==kd&&(yield[e,t])}}}ci=new WeakMap,Cp=new WeakSet,Mw=function(e){var t;return(t=l(this,ci))[e]||(t[e]={...Promise.withResolvers(),data:kd})};const A3=1e5,WE=30;var sk,Ko,Gn,_p,Tp,Ml,Hs,Pp,Rp,Dl,ih,rh,Qo,sh,Np,oh,Il,Lp,Mp,yt,ah,Fl,Dp,Jo,lh,wo,RP,NP,Dw,Ri,$g,Iw,LP,MP;let Of=(yt=class{constructor({textContentSource:e,container:t,viewport:i}){S(this,wo);S(this,Ko,Promise.withResolvers());S(this,Gn,null);S(this,_p,!1);S(this,Tp,!!((sk=globalThis.FontInspector)!=null&&sk.enabled));S(this,Ml,null);S(this,Hs,null);S(this,Pp,0);S(this,Rp,0);S(this,Dl,null);S(this,ih,null);S(this,rh,0);S(this,Qo,0);S(this,sh,Object.create(null));S(this,Np,[]);S(this,oh,null);S(this,Il,[]);S(this,Lp,new WeakMap);S(this,Mp,null);var u;if(e instanceof ReadableStream)g(this,oh,e);else if(typeof e=="object")g(this,oh,new ReadableStream({start(c){c.enqueue(e),c.close()}}));else throw new Error('No "textContentSource" parameter specified.');g(this,Gn,g(this,ih,t)),g(this,Qo,i.scale*Pr.pixelRatio),g(this,rh,i.rotation),g(this,Hs,{div:null,properties:null,ctx:null});const{pageWidth:r,pageHeight:s,pageX:o,pageY:a}=i.rawDims;g(this,Mp,[1,0,0,-1,-o,a+s]),g(this,Rp,r),g(this,Pp,s),A(u=yt,Ri,LP).call(u),Ia(t,i),l(this,Ko).promise.finally(()=>{l(yt,lh).delete(this),g(this,Hs,null),g(this,sh,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=Yt.platform;return pe(this,"fontFamilyMap",new Map([["sans-serif",`${e&&t?"Calibri, ":""}sans-serif`],["monospace",`${e&&t?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{l(this,Dl).read().then(({value:t,done:i})=>{if(i){l(this,Ko).resolve();return}l(this,Ml)??g(this,Ml,t.lang),Object.assign(l(this,sh),t.styles),A(this,wo,RP).call(this,t.items),e()},l(this,Ko).reject)};return g(this,Dl,l(this,oh).getReader()),l(yt,lh).add(this),e(),l(this,Ko).promise}update({viewport:e,onBefore:t=null}){var s;const i=e.scale*Pr.pixelRatio,r=e.rotation;if(r!==l(this,rh)&&(t==null||t(),g(this,rh,r),Ia(l(this,ih),{rotation:r})),i!==l(this,Qo)){t==null||t(),g(this,Qo,i);const o={div:null,properties:null,ctx:A(s=yt,Ri,$g).call(s,l(this,Ml))};for(const a of l(this,Il))o.properties=l(this,Lp).get(a),o.div=a,A(this,wo,Dw).call(this,o)}}cancel(){var t;const e=new yo("TextLayer task cancelled.");(t=l(this,Dl))==null||t.cancel(e).catch(()=>{}),g(this,Dl,null),l(this,Ko).reject(e)}get textDivs(){return l(this,Il)}get textContentItemsStr(){return l(this,Np)}static cleanup(){if(!(l(this,lh).size>0)){l(this,ah).clear();for(const{canvas:e}of l(this,Fl).values())e.remove();l(this,Fl).clear()}}},Ko=new WeakMap,Gn=new WeakMap,_p=new WeakMap,Tp=new WeakMap,Ml=new WeakMap,Hs=new WeakMap,Pp=new WeakMap,Rp=new WeakMap,Dl=new WeakMap,ih=new WeakMap,rh=new WeakMap,Qo=new WeakMap,sh=new WeakMap,Np=new WeakMap,oh=new WeakMap,Il=new WeakMap,Lp=new WeakMap,Mp=new WeakMap,ah=new WeakMap,Fl=new WeakMap,Dp=new WeakMap,Jo=new WeakMap,lh=new WeakMap,wo=new WeakSet,RP=function(e){var r,s;if(l(this,_p))return;(s=l(this,Hs)).ctx??(s.ctx=A(r=yt,Ri,$g).call(r,l(this,Ml)));const t=l(this,Il),i=l(this,Np);for(const o of e){if(t.length>A3){le("Ignoring additional textDivs for performance reasons."),g(this,_p,!0);return}if(o.str===void 0){if(o.type==="beginMarkedContentProps"||o.type==="beginMarkedContent"){const a=l(this,Gn);g(this,Gn,document.createElement("span")),l(this,Gn).classList.add("markedContent"),o.id&&l(this,Gn).setAttribute("id",`${o.id}`),a.append(l(this,Gn))}else o.type==="endMarkedContent"&&g(this,Gn,l(this,Gn).parentNode);continue}i.push(o.str),A(this,wo,NP).call(this,o)}},NP=function(e){var y;const t=document.createElement("span"),i={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};l(this,Il).push(t);const r=J.transform(l(this,Mp),e.transform);let s=Math.atan2(r[1],r[0]);const o=l(this,sh)[e.fontName];o.vertical&&(s+=Math.PI/2);let a=l(this,Tp)&&o.fontSubstitution||o.fontFamily;a=yt.fontFamilyMap.get(a)||a;const u=Math.hypot(r[2],r[3]),c=u*A(y=yt,Ri,MP).call(y,a,o,l(this,Ml));let h,d;s===0?(h=r[4],d=r[5]-c):(h=r[4]+c*Math.sin(s),d=r[5]-c*Math.cos(s));const f="calc(var(--total-scale-factor) *",p=t.style;l(this,Gn)===l(this,ih)?(p.left=`${(100*h/l(this,Rp)).toFixed(2)}%`,p.top=`${(100*d/l(this,Pp)).toFixed(2)}%`):(p.left=`${f}${h.toFixed(2)}px)`,p.top=`${f}${d.toFixed(2)}px)`),p.fontSize=`${f}${(l(yt,Jo)*u).toFixed(2)}px)`,p.fontFamily=a,i.fontSize=u,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,l(this,Tp)&&(t.dataset.fontName=o.fontSubstitutionLoadedName||e.fontName),s!==0&&(i.angle=s*(180/Math.PI));let v=!1;if(e.str.length>1)v=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const E=Math.abs(e.transform[0]),m=Math.abs(e.transform[3]);E!==m&&Math.max(E,m)/Math.min(E,m)>1.5&&(v=!0)}if(v&&(i.canvasWidth=o.vertical?e.height:e.width),l(this,Lp).set(t,i),l(this,Hs).div=t,l(this,Hs).properties=i,A(this,wo,Dw).call(this,l(this,Hs)),i.hasText&&l(this,Gn).append(t),i.hasEOL){const E=document.createElement("br");E.setAttribute("role","presentation"),l(this,Gn).append(E)}},Dw=function(e){var a;const{div:t,properties:i,ctx:r}=e,{style:s}=t;let o="";if(l(yt,Jo)>1&&(o=`scale(${1/l(yt,Jo)})`),i.canvasWidth!==0&&i.hasText){const{fontFamily:u}=s,{canvasWidth:c,fontSize:h}=i;A(a=yt,Ri,Iw).call(a,r,h*l(this,Qo),u);const{width:d}=r.measureText(t.textContent);d>0&&(o=`scaleX(${c*l(this,Qo)/d}) ${o}`)}i.angle!==0&&(o=`rotate(${i.angle}deg) ${o}`),o.length>0&&(s.transform=o)},Ri=new WeakSet,$g=function(e=null){let t=l(this,Fl).get(e||(e=""));if(!t){const i=document.createElement("canvas");i.className="hiddenCanvasElement",i.lang=e,document.body.append(i),t=i.getContext("2d",{alpha:!1,willReadFrequently:!0}),l(this,Fl).set(e,t),l(this,Dp).set(t,{size:0,family:""})}return t},Iw=function(e,t,i){const r=l(this,Dp).get(e);t===r.size&&i===r.family||(e.font=`${t}px ${i}`,r.size=t,r.family=i)},LP=function(){if(l(this,Jo)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),g(this,Jo,e.getBoundingClientRect().height),e.remove()},MP=function(e,t,i){const r=l(this,ah).get(e);if(r)return r;const s=A(this,Ri,$g).call(this,i);s.canvas.width=s.canvas.height=WE,A(this,Ri,Iw).call(this,s,WE,e);const o=s.measureText(""),a=o.fontBoundingBoxAscent,u=Math.abs(o.fontBoundingBoxDescent);s.canvas.width=s.canvas.height=0;let c=.8;return a?c=a/(a+u):(Yt.platform.isFirefox&&le("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),t.ascent?c=t.ascent:t.descent&&(c=1+t.descent)),l(this,ah).set(e,c),c},S(yt,Ri),S(yt,ah,new Map),S(yt,Fl,new Map),S(yt,Dp,new WeakMap),S(yt,Jo,null),S(yt,lh,new Set),yt);const E3=100;function Z1(n={}){typeof n=="string"||n instanceof URL?n={url:n}:(n instanceof ArrayBuffer||ArrayBuffer.isView(n))&&(n={data:n});const e=new Fw,{docId:t}=e,i=n.url?LB(n.url):null,r=n.data?MB(n.data):null,s=n.httpHeaders||null,o=n.withCredentials===!0,a=n.password??null,u=n.range instanceof eS?n.range:null,c=Number.isInteger(n.rangeChunkSize)&&n.rangeChunkSize>0?n.rangeChunkSize:2**16;let h=n.worker instanceof Zh?n.worker:null;const d=n.verbosity,f=typeof n.docBaseUrl=="string"&&!Mm(n.docBaseUrl)?n.docBaseUrl:null,p=lg(n.cMapUrl),v=n.cMapPacked!==!1,y=n.CMapReaderFactory||(Nn?zB:NE),E=lg(n.iccUrl),m=lg(n.standardFontDataUrl),b=n.StandardFontDataFactory||(Nn?UB:LE),x=lg(n.wasmUrl),k=n.WasmFactory||(Nn?HB:ME),_=n.stopAtErrors!==!0,C=Number.isInteger(n.maxImageSize)&&n.maxImageSize>-1?n.maxImageSize:-1,P=n.isEvalSupported!==!1,L=typeof n.isOffscreenCanvasSupported=="boolean"?n.isOffscreenCanvasSupported:!Nn,D=typeof n.isImageDecoderSupported=="boolean"?n.isImageDecoderSupported:!Nn&&(Yt.platform.isFirefox||!globalThis.chrome),M=Number.isInteger(n.canvasMaxAreaInBytes)?n.canvasMaxAreaInBytes:-1,I=typeof n.disableFontFace=="boolean"?n.disableFontFace:Nn,F=n.fontExtraProperties===!0,W=n.enableXfa===!0,z=n.ownerDocument||globalThis.document,G=n.disableRange===!0,U=n.disableStream===!0,$=n.disableAutoFetch===!0,O=n.pdfBug===!0,q=n.CanvasFactory||(Nn?BB:FB),T=n.FilterFactory||(Nn?jB:OB),se=n.enableHWA===!0,te=n.useWasm!==!1,R=u?u.length:n.length??NaN,ve=typeof n.useSystemFonts=="boolean"?n.useSystemFonts:!Nn&&!I,Re=typeof n.useWorkerFetch=="boolean"?n.useWorkerFetch:!!(y===NE&&b===LE&&k===ME&&p&&m&&x&&Ld(p,document.baseURI)&&Ld(m,document.baseURI)&&Ld(x,document.baseURI)),de=null;fB(d);const ye={canvasFactory:new q({ownerDocument:z,enableHWA:se}),filterFactory:new T({docId:t,ownerDocument:z}),cMapReaderFactory:Re?null:new y({baseUrl:p,isCompressed:v}),standardFontDataFactory:Re?null:new b({baseUrl:m}),wasmFactory:Re?null:new k({baseUrl:x})};h||(h=Zh.create({verbosity:d,port:Qi.workerPort}),e._worker=h);const Bt={docId:t,apiVersion:"5.4.296",data:r,password:a,disableAutoFetch:$,rangeChunkSize:c,length:R,docBaseUrl:f,enableXfa:W,evaluatorOptions:{maxImageSize:C,disableFontFace:I,ignoreErrors:_,isEvalSupported:P,isOffscreenCanvasSupported:L,isImageDecoderSupported:D,canvasMaxAreaInBytes:M,fontExtraProperties:F,useSystemFonts:ve,useWasm:te,useWorkerFetch:Re,cMapUrl:p,iccUrl:E,standardFontDataUrl:m,wasmUrl:x}},cn={ownerDocument:z,pdfBug:O,styleElement:de,loadingParams:{disableAutoFetch:$,enableXfa:W}};return h.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ct=h.messageHandler.sendWithPromise("GetDocRequest",Bt,r?[r.buffer]:null);let Ee;if(u)Ee=new o3(u,{disableRange:G,disableStream:U});else if(!r){if(!i)throw new Error("getDocument - no `url` parameter provided.");const sr=Ld(i)?c3:Nn?w3:m3;Ee=new sr({url:i,length:R,httpHeaders:s,withCredentials:o,rangeChunkSize:c,disableRange:G,disableStream:U})}return Ct.then(sr=>{if(e.destroyed)throw new Error("Loading aborted");if(h.destroyed)throw new Error("Worker was destroyed");const Ge=new jd(t,sr,h.port),Ie=new _3(Ge,e,Ee,cn,ye,se);e._transport=Ie,Ge.send("Ready",null)})}).catch(e._capability.reject),e}var o0;const a0=class a0{constructor(){B(this,"_capability",Promise.withResolvers());B(this,"_transport",null);B(this,"_worker",null);B(this,"docId",`d${Lt(a0,o0)._++}`);B(this,"destroyed",!1);B(this,"onPassword",null);B(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,t,i,r;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((t=this._transport)==null?void 0:t.destroy())}catch(s){throw(i=this._worker)!=null&&i.port&&delete this._worker._pendingDestroy,s}this._transport=null,(r=this._worker)==null||r.destroy(),this._worker=null}async getData(){return this._transport.getData()}};o0=new WeakMap,S(a0,o0,0);let Fw=a0;var Ol,Ip,Fp,Op,jp,ok;let eS=(ok=class{constructor(e,t,i=!1,r=null){S(this,Ol,Promise.withResolvers());S(this,Ip,[]);S(this,Fp,[]);S(this,Op,[]);S(this,jp,[]);this.length=e,this.initialData=t,this.progressiveDone=i,this.contentDispositionFilename=r}addRangeListener(e){l(this,jp).push(e)}addProgressListener(e){l(this,Op).push(e)}addProgressiveReadListener(e){l(this,Fp).push(e)}addProgressiveDoneListener(e){l(this,Ip).push(e)}onDataRange(e,t){for(const i of l(this,jp))i(e,t)}onDataProgress(e,t){l(this,Ol).promise.then(()=>{for(const i of l(this,Op))i(e,t)})}onDataProgressiveRead(e){l(this,Ol).promise.then(()=>{for(const t of l(this,Fp))t(e)})}onDataProgressiveDone(){l(this,Ol).promise.then(()=>{for(const e of l(this,Ip))e()})}transportReady(){l(this,Ol).resolve()}requestDataRange(e,t){We("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},Ol=new WeakMap,Ip=new WeakMap,Fp=new WeakMap,Op=new WeakMap,jp=new WeakMap,ok);class k3{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return pe(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,t){return this._transport.getAnnotationsByType(e,t)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var $s,jl,Wd;class C3{constructor(e,t,i,r=!1){S(this,jl);S(this,$s,!1);this._pageIndex=e,this._pageInfo=t,this._transport=i,this._stats=r?new EE:null,this._pdfBug=r,this.commonObjs=i.commonObjs,this.objs=new PP,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:i=0,offsetY:r=0,dontFlip:s=!1}={}){return new Lm({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:t,offsetX:i,offsetY:r,dontFlip:s})}getAnnotations({intent:e="display"}={}){const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return pe(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:t=e.canvas,viewport:i,intent:r="display",annotationMode:s=ls.ENABLE,transform:o=null,background:a=null,optionalContentConfigPromise:u=null,annotationCanvasMap:c=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:f=!1,recordOperations:p=!1,operationsFilter:v=null}){var D,M,I;(D=this._stats)==null||D.time("Overall");const y=this._transport.getRenderingIntent(r,s,d,f),{renderingIntent:E,cacheKey:m}=y;g(this,$s,!1),u||(u=this._transport.getOptionalContentConfig(E));let b=this._intentStates.get(m);b||(b=Object.create(null),this._intentStates.set(m,b)),b.streamReaderCancelTimeout&&(clearTimeout(b.streamReaderCancelTimeout),b.streamReaderCancelTimeout=null);const x=!!(E&Ai.PRINT);b.displayReadyCapability||(b.displayReadyCapability=Promise.withResolvers(),b.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(M=this._stats)==null||M.time("Page Request"),this._pumpOperatorList(y));const k=!!(this._pdfBug&&((I=globalThis.StepperManager)!=null&&I.enabled)),_=!this.recordedBBoxes&&(p||k),C=F=>{var W,z;if(b.renderTasks.delete(P),_){const G=(W=P.gfx)==null?void 0:W.dependencyTracker.take();G&&(P.stepper&&P.stepper.setOperatorBBoxes(G,P.gfx.dependencyTracker.takeDebugMetadata()),p&&(this.recordedBBoxes=G))}x&&g(this,$s,!0),A(this,jl,Wd).call(this),F?(P.capability.reject(F),this._abortOperatorList({intentState:b,reason:F instanceof Error?F:new Error(F)})):P.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(z=globalThis.Stats)!=null&&z.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},P=new Ow({callback:C,params:{canvas:t,canvasContext:e,dependencyTracker:_?new VB(t,b.operatorList.length,k):null,viewport:i,transform:o,background:a},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:c,operatorList:b.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!x,pdfBug:this._pdfBug,pageColors:h,enableHWA:this._transport.enableHWA,operationsFilter:v});(b.renderTasks||(b.renderTasks=new Set)).add(P);const L=P.task;return Promise.all([b.displayReadyCapability.promise,u]).then(([F,W])=>{var z;if(this.destroyed){C();return}if((z=this._stats)==null||z.time("Rendering"),!(W.renderingIntent&E))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");P.initializeGraphics({transparency:F,optionalContentConfig:W}),P.operatorListChanged()}).catch(C),L}getOperatorList({intent:e="display",annotationMode:t=ls.ENABLE,printAnnotationStorage:i=null,isEditing:r=!1}={}){var c;function s(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(u))}const o=this._transport.getRenderingIntent(e,t,i,r,!0);let a=this._intentStates.get(o.cacheKey);a||(a=Object.create(null),this._intentStates.set(o.cacheKey,a));let u;return a.opListReadCapability||(u=Object.create(null),u.operatorListChanged=s,a.opListReadCapability=Promise.withResolvers(),(a.renderTasks||(a.renderTasks=new Set)).add(u),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(c=this._stats)==null||c.time("Page Request"),this._pumpOperatorList(o)),a.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:t===!0},{highWaterMark:100,size(r){return r.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(i=>Df.textContent(i));const t=this.streamTextContent(e);return new Promise(function(i,r){function s(){o.read().then(function({value:u,done:c}){if(c){i(a);return}a.lang??(a.lang=u.lang),Object.assign(a.styles,u.styles),a.items.push(...u.items),s()},r)}const o=t.getReader(),a={items:[],styles:Object.create(null),lang:null};s()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const i of t.renderTasks)e.push(i.completed),i.cancel();return this.objs.clear(),g(this,$s,!1),Promise.all(e)}cleanup(e=!1){g(this,$s,!0);const t=A(this,jl,Wd).call(this);return e&&t&&this._stats&&(this._stats=new EE),t}_startRenderPage(e,t){var r,s;const i=this._intentStates.get(t);i&&((r=this._stats)==null||r.timeEnd("Page Request"),(s=i.displayReadyCapability)==null||s.resolve(e))}_renderPageChunk(e,t){for(let i=0,r=e.length;i<r;i++)t.operatorList.fnArray.push(e.fnArray[i]),t.operatorList.argsArray.push(e.argsArray[i]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const i of t.renderTasks)i.operatorListChanged();e.lastChunk&&A(this,jl,Wd).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageSerializable:i,modifiedIds:r}){const{map:s,transfer:o}=i,u=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:s,modifiedIds:r},o).getReader(),c=this._intentStates.get(t);c.streamReader=u;const h=()=>{u.read().then(({value:d,done:f})=>{if(f){c.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(d,c),h())},d=>{if(c.streamReader=null,!this._transport.destroyed){if(c.operatorList){c.operatorList.lastChunk=!0;for(const f of c.renderTasks)f.operatorListChanged();A(this,jl,Wd).call(this)}if(c.displayReadyCapability)c.displayReadyCapability.reject(d);else if(c.opListReadCapability)c.opListReadCapability.reject(d);else throw d}})};h()}_abortOperatorList({intentState:e,reason:t,force:i=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!i){if(e.renderTasks.size>0)return;if(t instanceof z0){let r=E3;t.extraDelay>0&&t.extraDelay<1e3&&(r+=t.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:t,force:!0})},r);return}}if(e.streamReader.cancel(new yo(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[r,s]of this._intentStates)if(s===e){this._intentStates.delete(r);break}this.cleanup()}}}get stats(){return this._stats}}$s=new WeakMap,jl=new WeakSet,Wd=function(){if(!l(this,$s)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:t}of this._intentStates.values())if(e.size>0||!t.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),g(this,$s,!1),!0};var Zo,mr,Vs,Bl,l0,zl,Ul,Mn,Vg,DP,IP,Gd,uh,Wg;const nt=class nt{constructor({name:e=null,port:t=null,verbosity:i=pB()}={}){S(this,Mn);S(this,Zo,Promise.withResolvers());S(this,mr,null);S(this,Vs,null);S(this,Bl,null);if(this.name=e,this.destroyed=!1,this.verbosity=i,t){if(l(nt,Ul).has(t))throw new Error("Cannot use more than one PDFWorker per port.");l(nt,Ul).set(t,this),A(this,Mn,DP).call(this,t)}else A(this,Mn,IP).call(this)}get promise(){return l(this,Zo).promise}get port(){return l(this,Vs)}get messageHandler(){return l(this,mr)}destroy(){var e,t;this.destroyed=!0,(e=l(this,Bl))==null||e.terminate(),g(this,Bl,null),l(nt,Ul).delete(l(this,Vs)),g(this,Vs,null),(t=l(this,mr))==null||t.destroy(),g(this,mr,null)}static create(e){const t=l(this,Ul).get(e==null?void 0:e.port);if(t){if(t._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return t}return new nt(e)}static get workerSrc(){if(Qi.workerSrc)return Qi.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return pe(this,"_setupFakeWorkerGlobal",(async()=>l(this,uh,Wg)?l(this,uh,Wg):(await import(this.workerSrc)).WorkerMessageHandler)())}};Zo=new WeakMap,mr=new WeakMap,Vs=new WeakMap,Bl=new WeakMap,l0=new WeakMap,zl=new WeakMap,Ul=new WeakMap,Mn=new WeakSet,Vg=function(){l(this,Zo).resolve(),l(this,mr).send("configure",{verbosity:this.verbosity})},DP=function(e){g(this,Vs,e),g(this,mr,new jd("main","worker",e)),l(this,mr).on("ready",()=>{}),A(this,Mn,Vg).call(this)},IP=function(){if(l(nt,zl)||l(nt,uh,Wg)){A(this,Mn,Gd).call(this);return}let{workerSrc:e}=nt;try{nt._isSameOrigin(window.location,e)||(e=nt._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),i=new jd("main","worker",t),r=()=>{s.abort(),i.destroy(),t.terminate(),this.destroyed?l(this,Zo).reject(new Error("Worker was destroyed")):A(this,Mn,Gd).call(this)},s=new AbortController;t.addEventListener("error",()=>{l(this,Bl)||r()},{signal:s.signal}),i.on("test",a=>{if(s.abort(),this.destroyed||!a){r();return}g(this,mr,i),g(this,Vs,t),g(this,Bl,t),A(this,Mn,Vg).call(this)}),i.on("ready",a=>{if(s.abort(),this.destroyed){r();return}try{o()}catch{A(this,Mn,Gd).call(this)}});const o=()=>{const a=new Uint8Array;i.send("test",a,[a.buffer])};o();return}catch{B0("The worker has been disabled.")}A(this,Mn,Gd).call(this)},Gd=function(){l(nt,zl)||(le("Setting up fake worker."),g(nt,zl,!0)),nt._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){l(this,Zo).reject(new Error("Worker was destroyed"));return}const t=new IB;g(this,Vs,t);const i=`fake${Lt(nt,l0)._++}`,r=new jd(i+"_worker",i,t);e.setup(r,t),g(this,mr,new jd(i,i+"_worker",t)),A(this,Mn,Vg).call(this)}).catch(e=>{l(this,Zo).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},uh=new WeakSet,Wg=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},S(nt,uh),S(nt,l0,0),S(nt,zl,!1),S(nt,Ul,new WeakMap),Nn&&(g(nt,zl,!0),Qi.workerSrc||(Qi.workerSrc="./pdf.worker.mjs")),nt._isSameOrigin=(e,t)=>{const i=URL.parse(e);if(!(i!=null&&i.origin)||i.origin==="null")return!1;const r=new URL(t,i);return i.origin===r.origin},nt._createCDNWrapper=e=>{const t=`await import("${e}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))},nt.fromPort=e=>{if(AB("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return nt.create(e)};let Zh=nt;var Ws,Kr,ch,hh,Gs,Hl,qd;class _3{constructor(e,t,i,r,s,o){S(this,Hl);S(this,Ws,new Map);S(this,Kr,new Map);S(this,ch,new Map);S(this,hh,new Map);S(this,Gs,null);this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PP,this.fontLoader=new RB({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=s.canvasFactory,this.filterFactory=s.filterFactory,this.cMapReaderFactory=s.cMapReaderFactory,this.standardFontDataFactory=s.standardFontDataFactory,this.wasmFactory=s.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=i,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=o,this.setupMessageHandler()}get annotationStorage(){return pe(this,"annotationStorage",new K1)}getRenderingIntent(e,t=ls.ENABLE,i=null,r=!1,s=!1){let o=Ai.DISPLAY,a=ww;switch(e){case"any":o=Ai.ANY;break;case"display":break;case"print":o=Ai.PRINT;break;default:le(`getRenderingIntent - invalid intent: ${e}`)}const u=o&Ai.PRINT&&i instanceof dP?i:this.annotationStorage;switch(t){case ls.DISABLE:o+=Ai.ANNOTATIONS_DISABLE;break;case ls.ENABLE:break;case ls.ENABLE_FORMS:o+=Ai.ANNOTATIONS_FORMS;break;case ls.ENABLE_STORAGE:o+=Ai.ANNOTATIONS_STORAGE,a=u.serializable;break;default:le(`getRenderingIntent - invalid annotationMode: ${t}`)}r&&(o+=Ai.IS_EDITING),s&&(o+=Ai.OPLIST);const{ids:c,hash:h}=u.modifiedIds,d=[o,a.hash,h];return{renderingIntent:o,cacheKey:d.join("_"),annotationStorageSerializable:a,modifiedIds:c}}destroy(){var i;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(i=l(this,Gs))==null||i.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const r of l(this,Kr).values())e.push(r._destroy());l(this,Kr).clear(),l(this,ch).clear(),l(this,hh).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{var r,s;this.commonObjs.clear(),this.fontLoader.clear(),l(this,Ws).clear(),this.filterFactory.destroy(),Of.cleanup(),(r=this._networkStream)==null||r.cancelAllRequests(new yo("Worker was terminated.")),(s=this.messageHandler)==null||s.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(i,r)=>{Ae(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},r.onPull=()=>{this._fullReader.read().then(function({value:s,done:o}){if(o){r.close();return}Ae(s instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{r.error(s)})},r.onCancel=s=>{this._fullReader.cancel(s),r.ready.catch(o=>{if(!this.destroyed)throw o})}}),e.on("ReaderHeadersReady",async i=>{var a;await this._fullReader.headersReady;const{isStreamingSupported:r,isRangeSupported:s,contentLength:o}=this._fullReader;return(!r||!s)&&(this._lastProgress&&((a=t.onProgress)==null||a.call(t,this._lastProgress)),this._fullReader.onProgress=u=>{var c;(c=t.onProgress)==null||c.call(t,{loaded:u.loaded,total:u.total})}),{isStreamingSupported:r,isRangeSupported:s,contentLength:o}}),e.on("GetRangeReader",(i,r)=>{Ae(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const s=this._networkStream.getRangeReader(i.begin,i.end);if(!s){r.close();return}r.onPull=()=>{s.read().then(function({value:o,done:a}){if(a){r.close();return}Ae(o instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),r.enqueue(new Uint8Array(o),1,[o])}).catch(o=>{r.error(o)})},r.onCancel=o=>{s.cancel(o),r.ready.catch(a=>{if(!this.destroyed)throw a})}}),e.on("GetDoc",({pdfInfo:i})=>{this._numPages=i.numPages,this._htmlForXfa=i.htmlForXfa,delete i.htmlForXfa,t._capability.resolve(new k3(i,this))}),e.on("DocException",i=>{t._capability.reject(zn(i))}),e.on("PasswordRequest",i=>{g(this,Gs,Promise.withResolvers());try{if(!t.onPassword)throw zn(i);const r=s=>{s instanceof Error?l(this,Gs).reject(s):l(this,Gs).resolve({password:s})};t.onPassword(r,i.code)}catch(r){l(this,Gs).reject(r)}return l(this,Gs).promise}),e.on("DataLoaded",i=>{var r;(r=t.onProgress)==null||r.call(t,{loaded:i.length,total:i.length}),this.downloadInfoCapability.resolve(i)}),e.on("StartRenderPage",i=>{if(this.destroyed)return;l(this,Kr).get(i.pageIndex)._startRenderPage(i.transparency,i.cacheKey)}),e.on("commonobj",([i,r,s])=>{var o;if(this.destroyed||this.commonObjs.has(i))return null;switch(r){case"Font":if("error"in s){const d=s.error;le(`Error during font loading: ${d}`),this.commonObjs.resolve(i,d);break}const a=new Nw(s),u=this._params.pdfBug&&((o=globalThis.FontInspector)!=null&&o.enabled)?(d,f)=>globalThis.FontInspector.fontAdded(d,f):null,c=new NB(a,u,s.extra,s.charProcOperatorList);this.fontLoader.bind(c).catch(()=>e.sendWithPromise("FontFallback",{id:i})).finally(()=>{!c.fontExtraProperties&&c.data&&c.clearData(),this.commonObjs.resolve(i,c)});break;case"CopyLocalImage":const{imageRef:h}=s;Ae(h,"The imageRef must be defined.");for(const d of l(this,Kr).values())for(const[,f]of d.objs)if((f==null?void 0:f.ref)===h)return f.dataLen?(this.commonObjs.resolve(i,structuredClone(f)),f.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(i,s);break;default:throw new Error(`Got unknown common object type ${r}`)}return null}),e.on("obj",([i,r,s,o])=>{var u;if(this.destroyed)return;const a=l(this,Kr).get(r);if(!a.objs.has(i)){if(a._intentStates.size===0){(u=o==null?void 0:o.bitmap)==null||u.close();return}switch(s){case"Image":case"Pattern":a.objs.resolve(i,o);break;default:throw new Error(`Got unknown object type ${s}`)}}}),e.on("DocProgress",i=>{var r;this.destroyed||(r=t.onProgress)==null||r.call(t,{loaded:i.loaded,total:i.total})}),e.on("FetchBinaryData",async i=>{if(this.destroyed)throw new Error("Worker was destroyed.");const r=this[i.type];if(!r)throw new Error(`${i.type} not initialized, see the \`useWorkerFetch\` parameter.`);return r.fetch(i)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var i;this.annotationStorage.size<=0&&le("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:t}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((i=this._fullReader)==null?void 0:i.filename)??null},t).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,i=l(this,ch).get(t);if(i)return i;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");s.refStr&&l(this,hh).set(s.refStr,e);const o=new C3(t,s,this,this._params.pdfBug);return l(this,Kr).set(t,o),o});return l(this,ch).set(t,r),r}getPageIndex(e){return bw(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return A(this,Hl,qd).call(this,"GetFieldObjects")}hasJSActions(){return A(this,Hl,qd).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,t){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:t})}getDocJSActions(){return A(this,Hl,qd).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return A(this,Hl,qd).call(this,"GetOptionalContentConfig").then(t=>new s3(t,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=l(this,Ws).get(e);if(t)return t;const i=this.messageHandler.sendWithPromise(e,null).then(r=>{var s,o;return{info:r[0],metadata:r[1]?new i3(r[1]):null,contentDispositionFilename:((s=this._fullReader)==null?void 0:s.filename)??null,contentLength:((o=this._fullReader)==null?void 0:o.contentLength)??null}});return l(this,Ws).set(e,i),i}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const t of l(this,Kr).values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),l(this,Ws).clear(),this.filterFactory.destroy(!0),Of.cleanup()}}cachedPageNumber(e){if(!bw(e))return null;const t=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return l(this,hh).get(t)??null}}Ws=new WeakMap,Kr=new WeakMap,ch=new WeakMap,hh=new WeakMap,Gs=new WeakMap,Hl=new WeakSet,qd=function(e,t=null){const i=l(this,Ws).get(e);if(i)return i;const r=this.messageHandler.sendWithPromise(e,t);return l(this,Ws).set(e,r),r};var ea;class T3{constructor(e){S(this,ea,null);B(this,"onContinue",null);B(this,"onError",null);g(this,ea,e)}get promise(){return l(this,ea).capability.promise}cancel(e=0){l(this,ea).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=l(this,ea).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=l(this,ea);return e.form||e.canvas&&(t==null?void 0:t.size)>0}}ea=new WeakMap;var ta,$l;const el=class el{constructor({callback:e,params:t,objs:i,commonObjs:r,annotationCanvasMap:s,operatorList:o,pageIndex:a,canvasFactory:u,filterFactory:c,useRequestAnimationFrame:h=!1,pdfBug:d=!1,pageColors:f=null,enableHWA:p=!1,operationsFilter:v=null}){S(this,ta,null);this.callback=e,this.params=t,this.objs=i,this.commonObjs=r,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=o,this._pageIndex=a,this.canvasFactory=u,this.filterFactory=c,this._pdfBug=d,this.pageColors=f,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=h===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new T3(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvas,this._canvasContext=t.canvas?null:t.canvasContext,this._enableHWA=p,this._dependencyTracker=t.dependencyTracker,this._operationsFilter=v}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){var u,c;if(this.cancelled)return;if(this._canvas){if(l(el,$l).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");l(el,$l).add(this._canvas)}this._pdfBug&&((u=globalThis.StepperManager)!=null&&u.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:i,transform:r,background:s,dependencyTracker:o}=this.params,a=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new gc(a,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:t},this.annotationCanvasMap,this.pageColors,o),this.gfx.beginDrawing({transform:r,viewport:i,transparency:e,background:s}),this.operatorListIdx=0,this.graphicsReady=!0,(c=this.graphicsReadyCallback)==null||c.call(this)}cancel(e=null,t=0){var i,r,s;this.running=!1,this.cancelled=!0,(i=this.gfx)==null||i.endDrawing(),l(this,ta)&&(window.cancelAnimationFrame(l(this,ta)),g(this,ta,null)),l(el,$l).delete(this._canvas),e||(e=new z0(`Rendering cancelled, page ${this._pageIndex+1}`,t)),this.callback(e),(s=(r=this.task).onError)==null||s.call(r,e)}operatorListChanged(){var e,t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?g(this,ta,window.requestAnimationFrame(()=>{g(this,ta,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),l(el,$l).delete(this._canvas),this.callback())))}};ta=new WeakMap,$l=new WeakMap,S(el,$l,new WeakSet);let Ow=el;const tS="5.4.296",FP="f56dc8601";var hi,Vl,dh,It,Bp,fh,qs,zp,na,gr,Up,ze,jw,Bw,zw,Ya,OP,Eo;const Un=class Un{constructor({editor:e=null,uiManager:t=null}){S(this,ze);S(this,hi,null);S(this,Vl,null);S(this,dh);S(this,It,null);S(this,Bp,!1);S(this,fh,!1);S(this,qs,null);S(this,zp);S(this,na,null);S(this,gr,null);var i,r;e?(g(this,fh,!1),g(this,qs,e)):g(this,fh,!0),g(this,gr,(e==null?void 0:e._uiManager)||t),g(this,zp,l(this,gr)._eventBus),g(this,dh,((i=e==null?void 0:e.color)==null?void 0:i.toUpperCase())||((r=l(this,gr))==null?void 0:r.highlightColors.values().next().value)||"#FFFF98"),l(Un,Up)||g(Un,Up,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return pe(this,"_keyboardManager",new Dm([[["Escape","mac+Escape"],Un.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Un.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Un.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Un.prototype._moveToPrevious],[["Home","mac+Home"],Un.prototype._moveToBeginning],[["End","mac+End"],Un.prototype._moveToEnd]]))}renderButton(){const e=g(this,hi,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",l(this,qs)&&(e.ariaControls=`${l(this,qs).id}_colorpicker_dropdown`);const t=l(this,gr)._signal;e.addEventListener("click",A(this,ze,Ya).bind(this),{signal:t}),e.addEventListener("keydown",A(this,ze,zw).bind(this),{signal:t});const i=g(this,Vl,document.createElement("span"));return i.className="swatch",i.ariaHidden="true",i.style.backgroundColor=l(this,dh),e.append(i),e}renderMainDropdown(){const e=g(this,It,A(this,ze,jw).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===l(this,hi)){A(this,ze,Ya).call(this,e);return}const t=e.target.getAttribute("data-color");t&&A(this,ze,Bw).call(this,t,e)}_moveToNext(e){var t,i;if(!l(this,ze,Eo)){A(this,ze,Ya).call(this,e);return}if(e.target===l(this,hi)){(t=l(this,It).firstChild)==null||t.focus();return}(i=e.target.nextSibling)==null||i.focus()}_moveToPrevious(e){var t,i;if(e.target===((t=l(this,It))==null?void 0:t.firstChild)||e.target===l(this,hi)){l(this,ze,Eo)&&this._hideDropdownFromKeyboard();return}l(this,ze,Eo)||A(this,ze,Ya).call(this,e),(i=e.target.previousSibling)==null||i.focus()}_moveToBeginning(e){var t;if(!l(this,ze,Eo)){A(this,ze,Ya).call(this,e);return}(t=l(this,It).firstChild)==null||t.focus()}_moveToEnd(e){var t;if(!l(this,ze,Eo)){A(this,ze,Ya).call(this,e);return}(t=l(this,It).lastChild)==null||t.focus()}hideDropdown(){var e,t;(e=l(this,It))==null||e.classList.add("hidden"),l(this,hi).ariaExpanded="false",(t=l(this,na))==null||t.abort(),g(this,na,null)}_hideDropdownFromKeyboard(){var e;if(!l(this,fh)){if(!l(this,ze,Eo)){(e=l(this,qs))==null||e.unselect();return}this.hideDropdown(),l(this,hi).focus({preventScroll:!0,focusVisible:l(this,Bp)})}}updateColor(e){if(l(this,Vl)&&(l(this,Vl).style.backgroundColor=e),!l(this,It))return;const t=l(this,gr).highlightColors.values();for(const i of l(this,It).children)i.ariaSelected=t.next().value===e.toUpperCase()}destroy(){var e,t;(e=l(this,hi))==null||e.remove(),g(this,hi,null),g(this,Vl,null),(t=l(this,It))==null||t.remove(),g(this,It,null)}};hi=new WeakMap,Vl=new WeakMap,dh=new WeakMap,It=new WeakMap,Bp=new WeakMap,fh=new WeakMap,qs=new WeakMap,zp=new WeakMap,na=new WeakMap,gr=new WeakMap,Up=new WeakMap,ze=new WeakSet,jw=function(){const e=document.createElement("div"),t=l(this,gr)._signal;e.addEventListener("contextmenu",Li,{signal:t}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),l(this,qs)&&(e.id=`${l(this,qs).id}_colorpicker_dropdown`);for(const[i,r]of l(this,gr).highlightColors){const s=document.createElement("button");s.tabIndex="0",s.role="option",s.setAttribute("data-color",r),s.title=i,s.setAttribute("data-l10n-id",l(Un,Up)[i]);const o=document.createElement("span");s.append(o),o.className="swatch",o.style.backgroundColor=r,s.ariaSelected=r===l(this,dh),s.addEventListener("click",A(this,ze,Bw).bind(this,r),{signal:t}),e.append(s)}return e.addEventListener("keydown",A(this,ze,zw).bind(this),{signal:t}),e},Bw=function(e,t){t.stopPropagation(),l(this,zp).dispatch("switchannotationeditorparams",{source:this,type:Se.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},zw=function(e){Un._keyboardManager.exec(this,e)},Ya=function(e){if(l(this,ze,Eo)){this.hideDropdown();return}if(g(this,Bp,e.detail===0),l(this,na)||(g(this,na,new AbortController),window.addEventListener("pointerdown",A(this,ze,OP).bind(this),{signal:l(this,gr).combinedSignal(l(this,na))})),l(this,hi).ariaExpanded="true",l(this,It)){l(this,It).classList.remove("hidden");return}const t=g(this,It,A(this,ze,jw).call(this));l(this,hi).append(t)},OP=function(e){var t;(t=l(this,It))!=null&&t.contains(e.target)||this.hideDropdown()},Eo=function(){return l(this,It)&&!l(this,It).classList.contains("hidden")},S(Un,Up,null);let jf=Un;var Qr,Hp,ph,$p;const tl=class tl{constructor(e){S(this,Qr,null);S(this,Hp,null);S(this,ph,null);g(this,Hp,e),g(this,ph,e._uiManager),l(tl,$p)||g(tl,$p,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(l(this,Qr))return l(this,Qr);const{editorType:e,colorType:t,colorValue:i}=l(this,Hp),r=g(this,Qr,document.createElement("input"));return r.type="color",r.value=i||"#000000",r.className="basicColorPicker",r.tabIndex=0,r.setAttribute("data-l10n-id",l(tl,$p)[e]),r.addEventListener("input",()=>{l(this,ph).updateParams(t,r.value)},{signal:l(this,ph)._signal}),r}update(e){l(this,Qr)&&(l(this,Qr).value=e)}destroy(){var e;(e=l(this,Qr))==null||e.remove(),g(this,Qr,null)}hideDropdown(){}};Qr=new WeakMap,Hp=new WeakMap,ph=new WeakMap,$p=new WeakMap,S(tl,$p,null);let Wy=tl;function GE(n){return Math.floor(Math.max(0,Math.min(1,n))*255).toString(16).padStart(2,"0")}function Cd(n){return Math.max(0,Math.min(255,255*n))}class qE{static CMYK_G([e,t,i,r]){return["G",1-Math.min(1,.3*e+.59*i+.11*t+r)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=Cd(e),[e,e,e]}static G_HTML([e]){const t=GE(e);return`#${t}${t}${t}`}static RGB_G([e,t,i]){return["G",.3*e+.59*t+.11*i]}static RGB_rgb(e){return e.map(Cd)}static RGB_HTML(e){return`#${e.map(GE).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,t,i,r]){return["RGB",1-Math.min(1,e+r),1-Math.min(1,i+r),1-Math.min(1,t+r)]}static CMYK_rgb([e,t,i,r]){return[Cd(1-Math.min(1,e+r)),Cd(1-Math.min(1,i+r)),Cd(1-Math.min(1,t+r))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK([e,t,i]){const r=1-e,s=1-t,o=1-i,a=Math.min(r,s,o);return["CMYK",r,s,o,a]}}class P3{create(e,t,i=!1){if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),i||(r.setAttribute("width",`${e}px`),r.setAttribute("height",`${t}px`)),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox",`0 0 ${e} ${t}`),r}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){We("Abstract method `_createSVG` called.")}}class Bf extends P3{_createSVG(e){return document.createElementNS(vs,e)}}const R3=9,Eu=new WeakSet,N3=new Date().getTimezoneOffset()*60*1e3;class XE{static create(e){switch(e.data.annotationType){case St.LINK:return new nS(e);case St.TEXT:return new M3(e);case St.WIDGET:switch(e.data.fieldType){case"Tx":return new D3(e);case"Btn":return e.data.radioButton?new zP(e):e.data.checkBox?new F3(e):new O3(e);case"Ch":return new j3(e);case"Sig":return new I3(e)}return new Ru(e);case St.POPUP:return new Hw(e);case St.FREETEXT:return new WP(e);case St.LINE:return new z3(e);case St.SQUARE:return new U3(e);case St.CIRCLE:return new H3(e);case St.POLYLINE:return new GP(e);case St.CARET:return new V3(e);case St.INK:return new iS(e);case St.POLYGON:return new $3(e);case St.HIGHLIGHT:return new qP(e);case St.UNDERLINE:return new W3(e);case St.SQUIGGLY:return new G3(e);case St.STRIKEOUT:return new q3(e);case St.STAMP:return new XP(e);case St.FILEATTACHMENT:return new X3(e);default:return new dt(e)}}}var Wl,mh,Wi,Vp,Uw;const hS=class hS{constructor(e,{isRenderable:t=!1,ignoreBorder:i=!1,createQuadrilaterals:r=!1}={}){S(this,Vp);S(this,Wl,null);S(this,mh,!1);S(this,Wi,null);this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(i)),r&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:t}){return!!(e!=null&&e.str||t!=null&&t.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return hS._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var i;const{data:e}=this,t=(i=this.annotationStorage)==null?void 0:i.getEditor(e.id);return t?t.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var a;const e=(a=this.annotationStorage)==null?void 0:a.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:t,inkLists:i,rect:r}=this.data;let s=-1/0,o=-1/0;if((t==null?void 0:t.length)>=8){for(let u=0;u<t.length;u+=8)t[u+1]>o?(o=t[u+1],s=t[u+2]):t[u+1]===o&&(s=Math.max(s,t[u+2]));return[s,o]}if((i==null?void 0:i.length)>=1){for(const u of i)for(let c=0,h=u.length;c<h;c+=2)u[c+1]>o?(o=u[c+1],s=u[c]):u[c+1]===o&&(s=Math.max(s,u[c]));if(s!==1/0)return[s,o]}return r?[r[2],r[3]]:null}_normalizePoint(e){const{page:{view:t},viewport:{rawDims:{pageWidth:i,pageHeight:r,pageX:s,pageY:o}}}=this.parent;return e[1]=t[3]-e[1]+t[1],e[0]=100*(e[0]-s)/i,e[1]=100*(e[1]-o)/r,e}get commentText(){var t,i,r;const{data:e}=this;return((i=(t=this.annotationStorage.getRawValue(`${Lf}${e.id}`))==null?void 0:t.popup)==null?void 0:i.contents)||((r=e.contentsObj)==null?void 0:r.str)||""}set commentText(e){const{data:t}=this,i={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(t.id,{popup:i})||this.annotationStorage.setValue(`${Lf}${t.id}`,{id:t.id,annotationType:t.annotationType,pageIndex:this.parent.page._pageIndex,popup:i,popupRef:t.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,t;(t=((e=l(this,Wi))==null?void 0:e.popup)||this.popup)==null||t.remove(),g(this,Wi,this.popup=null)}updateEdited(e){var s;if(!this.container)return;e.rect&&(l(this,Wl)||g(this,Wl,{rect:this.data.rect.slice(0)}));const{rect:t,popup:i}=e;t&&A(this,Vp,Uw).call(this,t);let r=((s=l(this,Wi))==null?void 0:s.popup)||this.popup;!r&&(i!=null&&i.text)&&(this._createPopup(i),r=l(this,Wi).popup),r&&(r.updateEdited(e),i!=null&&i.deleted&&(r.remove(),g(this,Wi,null),this.popup=null))}resetEdited(){var e;l(this,Wl)&&(A(this,Vp,Uw).call(this,l(this,Wl).rect),(e=l(this,Wi))==null||e.popup.resetEdited(),g(this,Wl,null))}_createContainer(e){const{data:t,parent:{page:i,viewport:r}}=this,s=document.createElement("section");s.setAttribute("data-annotation-id",t.id),!(this instanceof Ru)&&!(this instanceof nS)&&(s.tabIndex=0);const{style:o}=s;if(o.zIndex=this.parent.zIndex,this.parent.zIndex+=2,t.alternativeText&&(s.title=t.alternativeText),t.noRotate&&s.classList.add("norotate"),!t.rect||this instanceof Hw){const{rotation:y}=t;return!t.hasOwnCanvas&&y!==0&&this.setRotation(y,s),s}const{width:a,height:u}=this;if(!e&&t.borderStyle.width>0){o.borderWidth=`${t.borderStyle.width}px`;const y=t.borderStyle.horizontalCornerRadius,E=t.borderStyle.verticalCornerRadius;if(y>0||E>0){const b=`calc(${y}px * var(--total-scale-factor)) / calc(${E}px * var(--total-scale-factor))`;o.borderRadius=b}else if(this instanceof zP){const b=`calc(${a}px * var(--total-scale-factor)) / calc(${u}px * var(--total-scale-factor))`;o.borderRadius=b}switch(t.borderStyle.style){case Ou.SOLID:o.borderStyle="solid";break;case Ou.DASHED:o.borderStyle="dashed";break;case Ou.BEVELED:le("Unimplemented border style: beveled");break;case Ou.INSET:le("Unimplemented border style: inset");break;case Ou.UNDERLINE:o.borderBottomStyle="solid";break}const m=t.borderColor||null;m?(g(this,mh,!0),o.borderColor=J.makeHexColor(m[0]|0,m[1]|0,m[2]|0)):o.borderWidth=0}const c=J.normalizeRect([t.rect[0],i.view[3]-t.rect[1]+i.view[1],t.rect[2],i.view[3]-t.rect[3]+i.view[1]]),{pageWidth:h,pageHeight:d,pageX:f,pageY:p}=r.rawDims;o.left=`${100*(c[0]-f)/h}%`,o.top=`${100*(c[1]-p)/d}%`;const{rotation:v}=t;return t.hasOwnCanvas||v===0?(o.width=`${100*a/h}%`,o.height=`${100*u/d}%`):this.setRotation(v,s),s}setRotation(e,t=this.container){if(!this.data.rect)return;const{pageWidth:i,pageHeight:r}=this.parent.viewport.rawDims;let{width:s,height:o}=this;e%180!==0&&([s,o]=[o,s]),t.style.width=`${100*s/i}%`,t.style.height=`${100*o/r}%`,t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(t,i,r)=>{const s=r.detail[t],o=s[0],a=s.slice(1);r.target.style[i]=qE[`${o}_HTML`](a),this.annotationStorage.setValue(this.data.id,{[i]:qE[`${o}_rgb`](a)})};return pe(this,"_commonActions",{display:t=>{const{display:i}=t.detail,r=i%2===1;this.container.style.visibility=r?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:r,noPrint:i===1||i===2})},print:t=>{this.annotationStorage.setValue(this.data.id,{noPrint:!t.detail.print})},hidden:t=>{const{hidden:i}=t.detail;this.container.style.visibility=i?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:i,noView:i})},focus:t=>{setTimeout(()=>t.target.focus({preventScroll:!1}),0)},userName:t=>{t.target.title=t.detail.userName},readonly:t=>{t.target.disabled=t.detail.readonly},required:t=>{this._setRequired(t.target,t.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:t=>{const i=t.detail.rotation;this.setRotation(i),this.annotationStorage.setValue(this.data.id,{rotation:i})}})}_dispatchEventFromSandbox(e,t){const i=this._commonActions;for(const r of Object.keys(t.detail)){const s=e[r]||i[r];s==null||s(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const i=this._commonActions;for(const[r,s]of Object.entries(t)){const o=i[r];if(o){const a={detail:{[r]:s},target:e};o(a),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,i,r,s]=this.data.rect.map(y=>Math.fround(y));if(e.length===8){const[y,E,m,b]=e.subarray(2,6);if(r===y&&s===E&&t===m&&i===b)return}const{style:o}=this.container;let a;if(l(this,mh)){const{borderColor:y,borderWidth:E}=o;o.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${y}" stroke-width="${E}">`],this.container.classList.add("hasBorder")}const u=r-t,c=s-i,{svgFactory:h}=this,d=h.createElement("svg");d.classList.add("quadrilateralsContainer"),d.setAttribute("width",0),d.setAttribute("height",0),d.role="none";const f=h.createElement("defs");d.append(f);const p=h.createElement("clipPath"),v=`clippath_${this.data.id}`;p.setAttribute("id",v),p.setAttribute("clipPathUnits","objectBoundingBox"),f.append(p);for(let y=2,E=e.length;y<E;y+=8){const m=e[y],b=e[y+1],x=e[y+2],k=e[y+3],_=h.createElement("rect"),C=(x-t)/u,P=(s-b)/c,L=(m-x)/u,D=(b-k)/c;_.setAttribute("x",C),_.setAttribute("y",P),_.setAttribute("width",L),_.setAttribute("height",D),p.append(_),a==null||a.push(`<rect vector-effect="non-scaling-stroke" x="${C}" y="${P}" width="${L}" height="${D}"/>`)}l(this,mh)&&(a.push("</g></svg>')"),o.backgroundImage=a.join("")),this.container.append(d),this.container.style.clipPath=`url(#${v})`}_createPopup(e=null){const{data:t}=this;let i,r;e?(i={str:e.text},r=e.date):(i=t.contentsObj,r=t.modificationDate);const s=g(this,Wi,new Hw({data:{color:t.color,titleObj:t.titleObj,modificationDate:r,contentsObj:i,richText:t.richText,parentRect:t.rect,borderStyle:0,id:`popup_${t.id}`,rotation:t.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(s.render())}get hasPopupElement(){return!!(l(this,Wi)||this.popup||this.data.popupRef)}get extraPopupElement(){return l(this,Wi)}render(){We("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,t=null){const i=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:s,id:o,exportValues:a}of r){if(s===-1||o===t)continue;const u=typeof a=="string"?a:null,c=document.querySelector(`[data-element-id="${o}"]`);if(c&&!Eu.has(c)){le(`_getElementsByName - element not allowed: ${o}`);continue}i.push({id:o,exportValue:u,domElement:c})}return i}for(const r of document.getElementsByName(e)){const{exportValue:s}=r,o=r.getAttribute("data-element-id");o!==t&&Eu.has(r)&&i.push({id:o,exportValue:s,domElement:r})}return i}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",()=>{var i;(i=this.linkService.eventBus)==null||i.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Wl=new WeakMap,mh=new WeakMap,Wi=new WeakMap,Vp=new WeakSet,Uw=function(e){const{container:{style:t},data:{rect:i,rotation:r},parent:{viewport:{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:u}}}}=this;i==null||i.splice(0,4,...e),t.left=`${100*(e[0]-a)/s}%`,t.top=`${100*(o-e[3]+u)/o}%`,r===0?(t.width=`${100*(e[2]-e[0])/s}%`,t.height=`${100*(e[3]-e[1])/o}%`):this.setRotation(r)};let dt=hS;class L3 extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Ci,Ka,jP,BP;class nS extends dt{constructor(t,i=null){super(t,{isRenderable:!0,ignoreBorder:!!(i!=null&&i.ignoreBorder),createQuadrilaterals:!0});S(this,Ci);this.isTooltipOnly=t.data.isTooltipOnly}render(){const{data:t,linkService:i}=this,r=document.createElement("a");r.setAttribute("data-element-id",t.id);let s=!1;return t.url?(i.addLinkAttributes(r,t.url,t.newWindow),s=!0):t.action?(this._bindNamedAction(r,t.action,t.overlaidText),s=!0):t.attachment?(A(this,Ci,jP).call(this,r,t.attachment,t.overlaidText,t.attachmentDest),s=!0):t.setOCGState?(A(this,Ci,BP).call(this,r,t.setOCGState,t.overlaidText),s=!0):t.dest?(this._bindLink(r,t.dest,t.overlaidText),s=!0):(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(r,t),s=!0),t.resetForm?(this._bindResetFormAction(r,t.resetForm),s=!0):this.isTooltipOnly&&!s&&(this._bindLink(r,""),s=!0)),this.container.classList.add("linkAnnotation"),s&&this.container.append(r),this.container}_bindLink(t,i,r=""){t.href=this.linkService.getDestinationHash(i),t.onclick=()=>(i&&this.linkService.goToDestination(i),!1),(i||i==="")&&A(this,Ci,Ka).call(this),r&&(t.title=r)}_bindNamedAction(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeNamedAction(i),!1),r&&(t.title=r),A(this,Ci,Ka).call(this)}_bindJSAction(t,i){t.href=this.linkService.getAnchorUrl("");const r=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const s of Object.keys(i.actions)){const o=r.get(s);o&&(t[o]=()=>{var a;return(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:i.id,name:s}}),!1})}i.overlaidText&&(t.title=i.overlaidText),t.onclick||(t.onclick=()=>!1),A(this,Ci,Ka).call(this)}_bindResetFormAction(t,i){const r=t.onclick;if(r||(t.href=this.linkService.getAnchorUrl("")),A(this,Ci,Ka).call(this),!this._fieldObjects){le('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),r||(t.onclick=()=>!1);return}t.onclick=()=>{var d;r==null||r();const{fields:s,refs:o,include:a}=i,u=[];if(s.length!==0||o.length!==0){const f=new Set(o);for(const p of s){const v=this._fieldObjects[p]||[];for(const{id:y}of v)f.add(y)}for(const p of Object.values(this._fieldObjects))for(const v of p)f.has(v.id)===a&&u.push(v)}else for(const f of Object.values(this._fieldObjects))u.push(...f);const c=this.annotationStorage,h=[];for(const f of u){const{id:p}=f;switch(h.push(p),f.type){case"text":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}case"checkbox":case"radiobutton":{const y=f.defaultValue===f.exportValues;c.setValue(p,{value:y});break}case"combobox":case"listbox":{const y=f.defaultValue||"";c.setValue(p,{value:y});break}default:continue}const v=document.querySelector(`[data-element-id="${p}"]`);if(v){if(!Eu.has(v)){le(`_bindResetFormAction - element not allowed: ${p}`);continue}}else continue;v.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((d=this.linkService.eventBus)==null||d.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:h,name:"ResetForm"}})),!1}}}Ci=new WeakSet,Ka=function(){this.container.setAttribute("data-internal-link","")},jP=function(t,i,r="",s=null){t.href=this.linkService.getAnchorUrl(""),i.description?t.title=i.description:r&&(t.title=r),t.onclick=()=>{var o;return(o=this.downloadManager)==null||o.openOrDownloadData(i.content,i.filename,s),!1},A(this,Ci,Ka).call(this)},BP=function(t,i,r=""){t.href=this.linkService.getAnchorUrl(""),t.onclick=()=>(this.linkService.executeSetOCGState(i),!1),r&&(t.title=r),A(this,Ci,Ka).call(this)};class M3 extends dt{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class Ru extends dt{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&(((t=e.previousSibling)==null?void 0:t.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return Yt.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,i,r,s){i.includes("mouse")?e.addEventListener(i,o=>{var a;(a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o),shift:o.shiftKey,modifier:this._getKeyModifier(o)}})}):e.addEventListener(i,o=>{var a;if(i==="blur"){if(!t.focused||!o.relatedTarget)return;t.focused=!1}else if(i==="focus"){if(t.focused)return;t.focused=!0}s&&((a=this.linkService.eventBus)==null||a.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:s(o)}}))})}_setEventListeners(e,t,i,r){var s,o,a;for(const[u,c]of i)(c==="Action"||(s=this.data.actions)!=null&&s[c])&&((c==="Focus"||c==="Blur")&&(t||(t={focused:!1})),this._setEventListener(e,t,u,c,r),c==="Focus"&&!((o=this.data.actions)!=null&&o.Blur)?this._setEventListener(e,t,"blur","Blur",null):c==="Blur"&&!((a=this.data.actions)!=null&&a.Focus)&&this._setEventListener(e,t,"focus","Focus",null))}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=t===null?"transparent":J.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:i}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||R3,s=e.style;let o;const a=2,u=c=>Math.round(10*c)/10;if(this.data.multiLine){const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a),h=Math.round(c/(zv*r))||1,d=c/h;o=Math.min(r,u(d/zv))}else{const c=Math.abs(this.data.rect[3]-this.data.rect[1]-a);o=Math.min(r,u(c/zv))}s.fontSize=`calc(${o}px * var(--total-scale-factor))`,s.color=J.makeHexColor(i[0],i[1],i[2]),this.data.textAlignment!==null&&(s.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class D3 extends Ru{constructor(e){const t=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:t})}setPropertyOnSiblings(e,t,i,r){const s=this.annotationStorage;for(const o of this._getElementsByName(e.name,e.id))o.domElement&&(o.domElement[t]=i),s.setValue(o.id,{[r]:i})}render(){var r,s;const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let i=null;if(this.renderForms){const o=e.getValue(t,{value:this.data.fieldValue});let a=o.value||"";const u=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;u&&a.length>u&&(a=a.slice(0,u));let c=o.formattedValue||((r=this.data.textContent)==null?void 0:r.join(`
`))||null;c&&this.data.comb&&(c=c.replaceAll(/\s+/g,""));const h={userValue:a,formattedValue:c,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(i=document.createElement("textarea"),i.textContent=c??a,this.data.doNotScroll&&(i.style.overflowY="hidden")):(i=document.createElement("input"),i.type=this.data.password?"password":"text",i.setAttribute("value",c??a),this.data.doNotScroll&&(i.style.overflowX="hidden")),this.data.hasOwnCanvas&&(i.hidden=!0),Eu.add(i),i.setAttribute("data-element-id",t),i.disabled=this.data.readOnly,i.name=this.data.fieldName,i.tabIndex=0;const{datetimeFormat:d,datetimeType:f,timeStep:p}=this.data,v=!!f&&this.enableScripting;d&&(i.title=d),this._setRequired(i,this.data.required),u&&(i.maxLength=u),i.addEventListener("input",E=>{e.setValue(t,{value:E.target.value}),this.setPropertyOnSiblings(i,"value",E.target.value,"value"),h.formattedValue=null}),i.addEventListener("resetform",E=>{const m=this.data.defaultFieldValue??"";i.value=h.userValue=m,h.formattedValue=null});let y=E=>{const{formattedValue:m}=h;m!=null&&(E.target.value=m),E.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){i.addEventListener("focus",m=>{var x;if(h.focused)return;const{target:b}=m;if(v&&(b.type=f,p&&(b.step=p)),h.userValue){const k=h.userValue;if(v)if(f==="time"){const _=new Date(k),C=[_.getHours(),_.getMinutes(),_.getSeconds()];b.value=C.map(P=>P.toString().padStart(2,"0")).join(":")}else b.value=new Date(k-N3).toISOString().split(f==="date"?"T":".",1)[0];else b.value=k}h.lastCommittedValue=b.value,h.commitKey=1,(x=this.data.actions)!=null&&x.Focus||(h.focused=!0)}),i.addEventListener("updatefromsandbox",m=>{this.showElementAndHideCanvas(m.target);const b={value(x){h.userValue=x.detail.value??"",v||e.setValue(t,{value:h.userValue.toString()}),x.target.value=h.userValue},formattedValue(x){const{formattedValue:k}=x.detail;h.formattedValue=k,k!=null&&x.target!==document.activeElement&&(x.target.value=k);const _={formattedValue:k};v&&(_.value=k),e.setValue(t,_)},selRange(x){x.target.setSelectionRange(...x.detail.selRange)},charLimit:x=>{var P;const{charLimit:k}=x.detail,{target:_}=x;if(k===0){_.removeAttribute("maxLength");return}_.setAttribute("maxLength",k);let C=h.userValue;!C||C.length<=k||(C=C.slice(0,k),_.value=h.userValue=C,e.setValue(t,{value:C}),(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:C,willCommit:!0,commitKey:1,selStart:_.selectionStart,selEnd:_.selectionEnd}}))}};this._dispatchEventFromSandbox(b,m)}),i.addEventListener("keydown",m=>{var k;h.commitKey=1;let b=-1;if(m.key==="Escape"?b=0:m.key==="Enter"&&!this.data.multiLine?b=2:m.key==="Tab"&&(h.commitKey=3),b===-1)return;const{value:x}=m.target;h.lastCommittedValue!==x&&(h.lastCommittedValue=x,h.userValue=x,(k=this.linkService.eventBus)==null||k.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:b,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}}))});const E=y;y=null,i.addEventListener("blur",m=>{var k,_;if(!h.focused||!m.relatedTarget)return;(k=this.data.actions)!=null&&k.Blur||(h.focused=!1);const{target:b}=m;let{value:x}=b;if(v){if(x&&f==="time"){const C=x.split(":").map(P=>parseInt(P,10));x=new Date(2e3,0,1,C[0],C[1],C[2]||0).valueOf(),b.step=""}else x.includes("T")||(x=`${x}T00:00`),x=new Date(x).valueOf();b.type="text"}h.userValue=x,h.lastCommittedValue!==x&&((_=this.linkService.eventBus)==null||_.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:x,willCommit:!0,commitKey:h.commitKey,selStart:m.target.selectionStart,selEnd:m.target.selectionEnd}})),E(m)}),(s=this.data.actions)!=null&&s.Keystroke&&i.addEventListener("beforeinput",m=>{var D;h.lastCommittedValue=null;const{data:b,target:x}=m,{value:k,selectionStart:_,selectionEnd:C}=x;let P=_,L=C;switch(m.inputType){case"deleteWordBackward":{const M=k.substring(0,_).match(/\w*[^\w]*$/);M&&(P-=M[0].length);break}case"deleteWordForward":{const M=k.substring(_).match(/^[^\w]*\w*/);M&&(L+=M[0].length);break}case"deleteContentBackward":_===C&&(P-=1);break;case"deleteContentForward":_===C&&(L+=1);break}m.preventDefault(),(D=this.linkService.eventBus)==null||D.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:k,change:b||"",willCommit:!1,selStart:P,selEnd:L}})}),this._setEventListeners(i,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],m=>m.target.value)}if(y&&i.addEventListener("blur",y),this.data.comb){const m=(this.data.rect[2]-this.data.rect[0])/u;i.classList.add("comb"),i.style.letterSpacing=`calc(${m}px * var(--total-scale-factor) - 1ch)`}}else i=document.createElement("div"),i.textContent=this.data.fieldValue,i.style.verticalAlign="middle",i.style.display="table-cell",this.data.hasOwnCanvas&&(i.hidden=!0);return this._setTextStyle(i),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class I3 extends Ru{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class F3 extends Ru{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.exportValue===t.fieldValue}).value;typeof r=="string"&&(r=r!=="Off",e.setValue(i,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const s=document.createElement("input");return Eu.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="checkbox",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.setAttribute("exportValue",t.exportValue),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:u}=o.target;for(const c of this._getElementsByName(a,i)){const h=u&&c.exportValue===t.exportValue;c.domElement&&(c.domElement.checked=h),e.setValue(c.id,{value:h})}e.setValue(i,{value:u})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue||"Off";o.target.checked=a===t.exportValue}),this.enableScripting&&this.hasJSActions&&(s.addEventListener("updatefromsandbox",o=>{const a={value(u){u.target.checked=u.detail.value!=="Off",e.setValue(i,{value:u.target.checked})}};this._dispatchEventFromSandbox(a,o)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],o=>o.target.checked)),this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class zP extends Ru{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,i=t.id;let r=e.getValue(i,{value:t.fieldValue===t.buttonValue}).value;if(typeof r=="string"&&(r=r!==t.buttonValue,e.setValue(i,{value:r})),r)for(const o of this._getElementsByName(t.fieldName,i))e.setValue(o.id,{value:!1});const s=document.createElement("input");if(Eu.add(s),s.setAttribute("data-element-id",i),s.disabled=t.readOnly,this._setRequired(s,this.data.required),s.type="radio",s.name=t.fieldName,r&&s.setAttribute("checked",!0),s.tabIndex=0,s.addEventListener("change",o=>{const{name:a,checked:u}=o.target;for(const c of this._getElementsByName(a,i))e.setValue(c.id,{value:!1});e.setValue(i,{value:u})}),s.addEventListener("resetform",o=>{const a=t.defaultFieldValue;o.target.checked=a!=null&&a===t.buttonValue}),this.enableScripting&&this.hasJSActions){const o=t.buttonValue;s.addEventListener("updatefromsandbox",a=>{const u={value:c=>{const h=o===c.detail.value;for(const d of this._getElementsByName(c.target.name)){const f=h&&d.id===i;d.domElement&&(d.domElement.checked=f),e.setValue(d.id,{value:f})}}};this._dispatchEventFromSandbox(u,a)}),this._setEventListeners(s,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],a=>a.target.checked)}return this._setBackgroundColor(s),this._setDefaultPropertiesFromJS(s),this.container.append(s),this.container}}class O3 extends nS{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",i=>{this._dispatchEventFromSandbox({},i)})),e}}class j3 extends Ru{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,i=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");Eu.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=0;let s=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",h=>{const d=this.data.defaultFieldValue;for(const f of r.options)f.selected=f.value===d});for(const h of this.data.options){const d=document.createElement("option");d.textContent=h.displayValue,d.value=h.exportValue,i.value.includes(h.exportValue)&&(d.setAttribute("selected",!0),s=!1),r.append(d)}let o=null;if(s){const h=document.createElement("option");h.value=" ",h.setAttribute("hidden",!0),h.setAttribute("selected",!0),r.prepend(h),o=()=>{h.remove(),r.removeEventListener("input",o),o=null},r.addEventListener("input",o)}const a=h=>{const d=h?"value":"textContent",{options:f,multiple:p}=r;return p?Array.prototype.filter.call(f,v=>v.selected).map(v=>v[d]):f.selectedIndex===-1?null:f[f.selectedIndex][d]};let u=a(!1);const c=h=>{const d=h.target.options;return Array.prototype.map.call(d,f=>({displayValue:f.textContent,exportValue:f.value}))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",h=>{const d={value(f){o==null||o();const p=f.detail.value,v=new Set(Array.isArray(p)?p:[p]);for(const y of r.options)y.selected=v.has(y.value);e.setValue(t,{value:a(!0)}),u=a(!1)},multipleSelection(f){r.multiple=!0},remove(f){const p=r.options,v=f.detail.remove;p[v].selected=!1,r.remove(v),p.length>0&&Array.prototype.findIndex.call(p,E=>E.selected)===-1&&(p[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),u=a(!1)},clear(f){for(;r.length!==0;)r.remove(0);e.setValue(t,{value:null,items:[]}),u=a(!1)},insert(f){const{index:p,displayValue:v,exportValue:y}=f.detail.insert,E=r.children[p],m=document.createElement("option");m.textContent=v,m.value=y,E?E.before(m):r.append(m),e.setValue(t,{value:a(!0),items:c(f)}),u=a(!1)},items(f){const{items:p}=f.detail;for(;r.length!==0;)r.remove(0);for(const v of p){const{displayValue:y,exportValue:E}=v,m=document.createElement("option");m.textContent=y,m.value=E,r.append(m)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:c(f)}),u=a(!1)},indices(f){const p=new Set(f.detail.indices);for(const v of f.target.options)v.selected=p.has(v.index);e.setValue(t,{value:a(!0)}),u=a(!1)},editable(f){f.target.disabled=!f.detail.editable}};this._dispatchEventFromSandbox(d,h)}),r.addEventListener("input",h=>{var p;const d=a(!0),f=a(!1);e.setValue(t,{value:d}),h.preventDefault(),(p=this.linkService.eventBus)==null||p.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:u,change:f,changeEx:d,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],h=>h.target.value)):r.addEventListener("input",function(h){e.setValue(t,{value:a(!0)})}),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}var Wp,$w;class Hw extends dt{constructor(t){const{data:i,elements:r,parent:s}=t,o=!!s._commentManager;super(t,{isRenderable:!o&&dt._hasPopupData(i)});S(this,Wp);if(this.elements=r,o&&dt._hasPopupData(i)){const a=this.popup=A(this,Wp,$w).call(this);for(const u of r)u.popup=a}else this.popup=null}render(){const{container:t}=this;t.classList.add("popupAnnotation"),t.role="comment";const i=this.popup=A(this,Wp,$w).call(this),r=[];for(const s of this.elements)s.popup=i,s.container.ariaHasPopup="dialog",r.push(s.data.id),s.addHighlightArea();return this.container.setAttribute("aria-controls",r.map(s=>`${q1}${s}`).join(",")),this.container}}Wp=new WeakSet,$w=function(){return new B3({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var di,ia,u0,c0,gh,yh,gt,Jr,ra,Gl,vh,xh,Zr,fi,Xs,Ys,Ut,Ks,sa,Gp,Qs,wh,ql,oa,vn,aa,ge,Gg,Vw,Ww,Gw,qg,qw,UP,HP,$P,VP,Xg,Yg,Xw;class B3{constructor({container:e,color:t,elements:i,titleObj:r,modificationDate:s,contentsObj:o,richText:a,parent:u,rect:c,parentRect:h,open:d,commentManager:f=null}){S(this,ge);S(this,di,null);S(this,ia,A(this,ge,$P).bind(this));S(this,u0,A(this,ge,Xw).bind(this));S(this,c0,A(this,ge,Yg).bind(this));S(this,gh,A(this,ge,Xg).bind(this));S(this,yh,null);S(this,gt,null);S(this,Jr,null);S(this,ra,null);S(this,Gl,null);S(this,vh,null);S(this,xh,null);S(this,Zr,!1);S(this,fi,null);S(this,Xs,null);S(this,Ys,null);S(this,Ut,null);S(this,Ks,null);S(this,sa,null);S(this,Gp,null);S(this,Qs,null);S(this,wh,null);S(this,ql,null);S(this,oa,!1);S(this,vn,null);S(this,aa,null);g(this,gt,e),g(this,wh,r),g(this,Jr,o),g(this,Qs,a),g(this,vh,u),g(this,yh,t),g(this,Gp,c),g(this,xh,h),g(this,Gl,i),g(this,di,f),g(this,vn,i[0]),g(this,ra,If.toDateObject(s)),this.trigger=i.flatMap(p=>p.getElementsToTriggerPopup()),f?this.renderCommentButton():(A(this,ge,Gg).call(this),l(this,gt).hidden=!0,d&&A(this,ge,Xg).call(this))}renderCommentButton(){if(l(this,Ut)||(l(this,Ks)||A(this,ge,Vw).call(this),!l(this,Ks)))return;const{signal:e}=g(this,Xs,new AbortController),t=!!l(this,vn).extraPopupElement,i=()=>{l(this,di).toggleCommentPopup(this,!0,void 0,!t)},r=()=>{l(this,di).toggleCommentPopup(this,!1,!0,!t)},s=()=>{l(this,di).toggleCommentPopup(this,!1,!1)};if(t){g(this,Ut,l(this,vn).container);for(const o of this.trigger)o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.addEventListener("keydown",l(this,ia),{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),o.classList.add("popupTriggerArea")}else{const o=g(this,Ut,document.createElement("button"));o.className="annotationCommentButton";const a=l(this,vn).container;o.style.zIndex=a.style.zIndex+1,o.tabIndex=0,o.ariaHasPopup="dialog",o.ariaControls="commentPopup",o.setAttribute("data-l10n-id","pdfjs-show-comment-button"),A(this,ge,Gw).call(this),A(this,ge,Ww).call(this),o.addEventListener("keydown",l(this,ia),{signal:e}),o.addEventListener("click",i,{signal:e}),o.addEventListener("pointerenter",r,{signal:e}),o.addEventListener("pointerleave",s,{signal:e}),a.after(o)}}get commentButtonColor(){const{color:e,opacity:t}=l(this,vn).commentData;return e?l(this,vh)._commentManager.makeCommentColor(e,t):null}focusCommentButton(){setTimeout(()=>{var e;(e=l(this,Ut))==null||e.focus()},0)}getData(){const{richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}=l(this,vn).commentData;return{contentsObj:{str:this.comment},richText:e,color:t,opacity:i,creationDate:r,modificationDate:s}}get elementBeforePopup(){return l(this,Ut)}get comment(){return l(this,aa)||g(this,aa,l(this,vn).commentText),l(this,aa)}set comment(e){e!==this.comment&&(l(this,vn).commentText=g(this,aa,e))}get parentBoundingClientRect(){return l(this,vn).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:t}){l(this,Ut)&&(l(this,Ut).classList.toggle("selected",e),l(this,Ut).ariaExpanded=t)}setSelectedCommentButton(e){l(this,Ut).classList.toggle("selected",e)}get commentPopupPosition(){if(l(this,sa))return l(this,sa);const{x:e,y:t,height:i}=l(this,Ut).getBoundingClientRect(),{x:r,y:s,width:o,height:a}=l(this,vn).layer.getBoundingClientRect();return[(e-r)/o,(t+i-s)/a]}set commentPopupPosition(e){g(this,sa,e)}hasDefaultPopupPosition(){return l(this,sa)===null}get commentButtonPosition(){return l(this,Ks)}get commentButtonWidth(){return l(this,Ut).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[t,i]=l(this,sa)||this.commentButtonPosition.map(c=>c/100),r=this.parentBoundingClientRect,{x:s,y:o,width:a,height:u}=r;l(this,di).showDialog(null,this,s+t*a,o+i*u,{...e,parentDimensions:r})}render(){var i,r;if(l(this,fi))return;const e=g(this,fi,document.createElement("div"));if(e.className="popup",l(this,yh)){const s=e.style.outlineColor=J.makeHexColor(...l(this,yh));e.style.backgroundColor=`color-mix(in srgb, ${s} 30%, white)`}const t=document.createElement("span");if(t.className="header",(i=l(this,wh))!=null&&i.str){const s=document.createElement("span");s.className="title",t.append(s),{dir:s.dir,str:s.textContent}=l(this,wh)}if(e.append(t),l(this,ra)){const s=document.createElement("time");s.className="popupDate",s.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),s.setAttribute("data-l10n-args",JSON.stringify({dateObj:l(this,ra).valueOf()})),s.dateTime=l(this,ra).toISOString(),t.append(s)}Y1({html:l(this,ge,qg)||l(this,Jr).str,dir:(r=l(this,Jr))==null?void 0:r.dir,className:"popupContent"},e),l(this,gt).append(e)}updateEdited({rect:e,popup:t,deleted:i}){var r;if(l(this,di)){i?(this.remove(),g(this,aa,null)):t&&(t.deleted?this.remove():(A(this,ge,Gw).call(this),g(this,aa,t.text))),e&&(g(this,Ks,null),A(this,ge,Vw).call(this),A(this,ge,Ww).call(this));return}if(i||t!=null&&t.deleted){this.remove();return}A(this,ge,Gg).call(this),l(this,ql)||g(this,ql,{contentsObj:l(this,Jr),richText:l(this,Qs)}),e&&g(this,Ys,null),t&&t.text&&(g(this,Qs,A(this,ge,HP).call(this,t.text)),g(this,ra,If.toDateObject(t.date)),g(this,Jr,null)),(r=l(this,fi))==null||r.remove(),g(this,fi,null)}resetEdited(){var e;l(this,ql)&&({contentsObj:Lt(this,Jr)._,richText:Lt(this,Qs)._}=l(this,ql),g(this,ql,null),(e=l(this,fi))==null||e.remove(),g(this,fi,null),g(this,Ys,null))}remove(){var e,t,i;if((e=l(this,Xs))==null||e.abort(),g(this,Xs,null),(t=l(this,fi))==null||t.remove(),g(this,fi,null),g(this,oa,!1),g(this,Zr,!1),(i=l(this,Ut))==null||i.remove(),g(this,Ut,null),this.trigger)for(const r of this.trigger)r.classList.remove("popupTriggerArea")}forceHide(){g(this,oa,this.isVisible),l(this,oa)&&(l(this,gt).hidden=!0)}maybeShow(){l(this,di)||(A(this,ge,Gg).call(this),l(this,oa)&&(l(this,fi)||A(this,ge,Yg).call(this),g(this,oa,!1),l(this,gt).hidden=!1))}get isVisible(){return l(this,di)?!1:l(this,gt).hidden===!1}}di=new WeakMap,ia=new WeakMap,u0=new WeakMap,c0=new WeakMap,gh=new WeakMap,yh=new WeakMap,gt=new WeakMap,Jr=new WeakMap,ra=new WeakMap,Gl=new WeakMap,vh=new WeakMap,xh=new WeakMap,Zr=new WeakMap,fi=new WeakMap,Xs=new WeakMap,Ys=new WeakMap,Ut=new WeakMap,Ks=new WeakMap,sa=new WeakMap,Gp=new WeakMap,Qs=new WeakMap,wh=new WeakMap,ql=new WeakMap,oa=new WeakMap,vn=new WeakMap,aa=new WeakMap,ge=new WeakSet,Gg=function(){var t;if(l(this,Xs))return;g(this,Xs,new AbortController);const{signal:e}=l(this,Xs);for(const i of this.trigger)i.addEventListener("click",l(this,gh),{signal:e}),i.addEventListener("pointerenter",l(this,c0),{signal:e}),i.addEventListener("pointerleave",l(this,u0),{signal:e}),i.classList.add("popupTriggerArea");for(const i of l(this,Gl))(t=i.container)==null||t.addEventListener("keydown",l(this,ia),{signal:e})},Vw=function(){const e=l(this,Gl).find(t=>t.hasCommentButton);e&&g(this,Ks,e._normalizePoint(e.commentButtonPosition))},Ww=function(){if(l(this,vn).extraPopupElement&&!l(this,vn).editor)return;this.renderCommentButton();const[e,t]=l(this,Ks),{style:i}=l(this,Ut);i.left=`calc(${e}%)`,i.top=`calc(${t}% - var(--comment-button-dim))`},Gw=function(){l(this,vn).extraPopupElement||(this.renderCommentButton(),l(this,Ut).style.backgroundColor=this.commentButtonColor||"")},qg=function(){const e=l(this,Qs),t=l(this,Jr);return e!=null&&e.str&&(!(t!=null&&t.str)||t.str===e.str)&&l(this,Qs).html||null},qw=function(){var e,t,i;return((i=(t=(e=l(this,ge,qg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.fontSize)||0},UP=function(){var e,t,i;return((i=(t=(e=l(this,ge,qg))==null?void 0:e.attributes)==null?void 0:t.style)==null?void 0:i.color)||null},HP=function(e){const t=[],i={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:l(this,ge,UP),fontSize:l(this,ge,qw)?`calc(${l(this,ge,qw)}px * var(--total-scale-factor))`:""}};for(const s of e.split(`
`))t.push({name:"span",value:s,attributes:r});return i},$P=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&l(this,Zr))&&A(this,ge,Xg).call(this)},VP=function(){if(l(this,Ys)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:i,pageX:r,pageY:s}}}=l(this,vh);let o=!!l(this,xh),a=o?l(this,xh):l(this,Gp);for(const v of l(this,Gl))if(!a||J.intersect(v.data.rect,a)!==null){a=v.data.rect,o=!0;break}const u=J.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),h=o?a[2]-a[0]+5:0,d=u[0]+h,f=u[1];g(this,Ys,[100*(d-r)/t,100*(f-s)/i]);const{style:p}=l(this,gt);p.left=`${l(this,Ys)[0]}%`,p.top=`${l(this,Ys)[1]}%`},Xg=function(){if(l(this,di)){l(this,di).toggleCommentPopup(this,!1);return}g(this,Zr,!l(this,Zr)),l(this,Zr)?(A(this,ge,Yg).call(this),l(this,gt).addEventListener("click",l(this,gh)),l(this,gt).addEventListener("keydown",l(this,ia))):(A(this,ge,Xw).call(this),l(this,gt).removeEventListener("click",l(this,gh)),l(this,gt).removeEventListener("keydown",l(this,ia)))},Yg=function(){l(this,fi)||this.render(),this.isVisible?l(this,Zr)&&l(this,gt).classList.add("focused"):(A(this,ge,VP).call(this),l(this,gt).hidden=!1,l(this,gt).style.zIndex=parseInt(l(this,gt).style.zIndex)+1e3)},Xw=function(){l(this,gt).classList.remove("focused"),!(l(this,Zr)||!this.isVisible)&&(l(this,gt).hidden=!0,l(this,gt).style.zIndex=parseInt(l(this,gt).style.zIndex)-1e3)};class WP extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=ae.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const i=document.createElement("span");i.textContent=t,e.append(i)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var qp;class z3 extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,qp,null)}render(){this.container.classList.add("lineAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=g(this,qp,this.svgFactory.createElement("svg:line"));return o.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]),o.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]),o.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]),o.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]),o.setAttribute("stroke-width",t.borderStyle.width||1),o.setAttribute("stroke","transparent"),o.setAttribute("fill","transparent"),s.append(o),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,qp)}addHighlightArea(){this.container.classList.add("highlightArea")}}qp=new WeakMap;var Xp;class U3 extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Xp,null)}render(){this.container.classList.add("squareAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=g(this,Xp,this.svgFactory.createElement("svg:rect"));return a.setAttribute("x",o/2),a.setAttribute("y",o/2),a.setAttribute("width",i-o),a.setAttribute("height",r-o),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Xp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xp=new WeakMap;var Yp;class H3 extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Yp,null)}render(){this.container.classList.add("circleAnnotation");const{data:t,width:i,height:r}=this,s=this.svgFactory.create(i,r,!0),o=t.borderStyle.width,a=g(this,Yp,this.svgFactory.createElement("svg:ellipse"));return a.setAttribute("cx",i/2),a.setAttribute("cy",r/2),a.setAttribute("rx",i/2-o/2),a.setAttribute("ry",r/2-o/2),a.setAttribute("stroke-width",o||1),a.setAttribute("stroke","transparent"),a.setAttribute("fill","transparent"),s.append(a),this.container.append(s),!t.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Yp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Yp=new WeakMap;var Kp;class GP extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Kp,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,vertices:i,borderStyle:r,popupRef:s},width:o,height:a}=this;if(!i)return this.container;const u=this.svgFactory.create(o,a,!0);let c=[];for(let d=0,f=i.length;d<f;d+=2){const p=i[d]-t[0],v=t[3]-i[d+1];c.push(`${p},${v}`)}c=c.join(" ");const h=g(this,Kp,this.svgFactory.createElement(this.svgElementName));return h.setAttribute("points",c),h.setAttribute("stroke-width",r.width||1),h.setAttribute("stroke","transparent"),h.setAttribute("fill","transparent"),u.append(h),this.container.append(u),!s&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return l(this,Kp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Kp=new WeakMap;class $3 extends GP{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class V3 extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Qp,Xl,Jp,Yw;class iS extends dt{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0});S(this,Jp);S(this,Qp,null);S(this,Xl,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?ae.HIGHLIGHT:ae.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:t,rotation:i,inkLists:r,borderStyle:s,popupRef:o}}=this,{transform:a,width:u,height:c}=A(this,Jp,Yw).call(this,i,t),h=this.svgFactory.create(u,c,!0),d=g(this,Qp,this.svgFactory.createElement("svg:g"));h.append(d),d.setAttribute("stroke-width",s.width||1),d.setAttribute("stroke-linecap","round"),d.setAttribute("stroke-linejoin","round"),d.setAttribute("stroke-miterlimit",10),d.setAttribute("stroke","transparent"),d.setAttribute("fill","transparent"),d.setAttribute("transform",a);for(let f=0,p=r.length;f<p;f++){const v=this.svgFactory.createElement(this.svgElementName);l(this,Xl).push(v),v.setAttribute("points",r[f].join(",")),d.append(v)}return!o&&this.hasPopupData&&this._createPopup(),this.container.append(h),this._editOnDoubleClick(),this.container}updateEdited(t){super.updateEdited(t);const{thickness:i,points:r,rect:s}=t,o=l(this,Qp);if(i>=0&&o.setAttribute("stroke-width",i||1),r)for(let a=0,u=l(this,Xl).length;a<u;a++)l(this,Xl)[a].setAttribute("points",r[a].join(","));if(s){const{transform:a,width:u,height:c}=A(this,Jp,Yw).call(this,this.data.rotation,s);o.parentElement.setAttribute("viewBox",`0 0 ${u} ${c}`),o.setAttribute("transform",a)}}getElementsToTriggerPopup(){return l(this,Xl)}addHighlightArea(){this.container.classList.add("highlightArea")}}Qp=new WeakMap,Xl=new WeakMap,Jp=new WeakSet,Yw=function(t,i){switch(t){case 90:return{transform:`rotate(90) translate(${-i[0]},${i[1]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};case 180:return{transform:`rotate(180) translate(${-i[2]},${i[1]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]};case 270:return{transform:`rotate(270) translate(${-i[2]},${i[3]}) scale(1,-1)`,width:i[3]-i[1],height:i[2]-i[0]};default:return{transform:`translate(${-i[0]},${i[3]}) scale(1,-1)`,width:i[2]-i[0],height:i[3]-i[1]}}};class qP extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=ae.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const i=document.createElement("mark");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class W3 extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class G3 extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const i=document.createElement("u");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class q3 extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:t}}=this;if(!t&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const i=document.createElement("s");i.classList.add("overlaidText"),i.textContent=e,this.container.append(i)}return this.container}}class XP extends dt{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=ae.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var Zp,em,Kw;class X3 extends dt{constructor(t){var r;super(t,{isRenderable:!0});S(this,em);S(this,Zp,null);const{file:i}=this.data;this.filename=i.filename,this.content=i.content,(r=this.linkService.eventBus)==null||r.dispatch("fileattachmentannotation",{source:this,...i})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:t,data:i}=this;let r;i.hasAppearance||i.fillAlpha===0?r=document.createElement("div"):(r=document.createElement("img"),r.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(i.name)?"paperclip":"pushpin"}.svg`,i.fillAlpha&&i.fillAlpha<1&&(r.style=`filter: opacity(${Math.round(i.fillAlpha*100)}%);`)),r.addEventListener("dblclick",A(this,em,Kw).bind(this)),g(this,Zp,r);const{isMac:s}=Yt.platform;return t.addEventListener("keydown",o=>{o.key==="Enter"&&(s?o.metaKey:o.ctrlKey)&&A(this,em,Kw).call(this)}),!i.popupRef&&this.hasPopupData?this._createPopup():r.classList.add("popupTriggerArea"),t.append(r),t}getElementsToTriggerPopup(){return l(this,Zp)}addHighlightArea(){this.container.classList.add("highlightArea")}}Zp=new WeakMap,em=new WeakSet,Kw=function(){var t;(t=this.downloadManager)==null||t.openOrDownloadData(this.content,this.filename)};var bh,Yl,Sh,la,tm,Kl,ja,Qw,Jw,Ah;let rS=(Ah=class{constructor({div:e,accessibilityManager:t,annotationCanvasMap:i,annotationEditorUIManager:r,page:s,viewport:o,structTreeLayer:a,commentManager:u,linkService:c,annotationStorage:h}){S(this,ja);S(this,bh,null);S(this,Yl,null);S(this,Sh,null);S(this,la,new Map);S(this,tm,null);S(this,Kl,null);this.div=e,g(this,bh,t),g(this,Yl,i),g(this,tm,a||null),g(this,Kl,c||null),g(this,Sh,h||new K1),this.page=s,this.viewport=o,this.zIndex=0,this._annotationEditorUIManager=r,this._commentManager=u||null}hasEditableAnnotations(){return l(this,la).size>0}async render(e){var o,a,u;const{annotations:t}=e,i=this.div;Ia(i,this.viewport);const r=new Map,s={data:null,layer:i,linkService:l(this,Kl),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new Bf,annotationStorage:l(this,Sh),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const c of t){if(c.noHTML)continue;const h=c.annotationType===St.POPUP;if(h){const p=r.get(c.id);if(!p)continue;s.elements=p}else if(c.rect[2]===c.rect[0]||c.rect[3]===c.rect[1])continue;s.data=c;const d=XE.create(s);if(!d.isRenderable)continue;if(!h&&c.popupRef){const p=r.get(c.popupRef);p?p.push(d):r.set(c.popupRef,[d])}const f=d.render();c.hidden&&(f.style.visibility="hidden"),await A(this,ja,Qw).call(this,f,c.id,s.elements),(a=(o=d.extraPopupElement)==null?void 0:o.popup)==null||a.renderCommentButton(),d._isEditable&&(l(this,la).set(d.data.id,d),(u=this._annotationEditorUIManager)==null||u.renderAnnotationElement(d))}A(this,ja,Jw).call(this)}async addLinkAnnotations(e){const t={data:null,layer:this.div,linkService:l(this,Kl),svgFactory:new Bf,parent:this};for(const i of e){i.borderStyle||(i.borderStyle=Ah._defaultBorderStyle),t.data=i;const r=XE.create(t);if(!r.isRenderable)continue;const s=r.render();await A(this,ja,Qw).call(this,s,i.id,null)}}update({viewport:e}){const t=this.div;this.viewport=e,Ia(t,{rotation:e.rotation}),A(this,ja,Jw).call(this),t.hidden=!1}getEditableAnnotations(){return Array.from(l(this,la).values())}getEditableAnnotation(e){return l(this,la).get(e)}addFakeAnnotation(e){var a;const{div:t}=this,{id:i,rotation:r}=e,s=new L3({data:{id:i,rect:e.getPDFRect(),rotation:r},editor:e,layer:t,parent:this,enableComment:!!this._commentManager,linkService:l(this,Kl),annotationStorage:l(this,Sh)}),o=s.render();return t.append(o),(a=l(this,bh))==null||a.moveElementInDOM(t,o,o,!1),s.createOrUpdatePopup(),s}static get _defaultBorderStyle(){return pe(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:Ou.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},bh=new WeakMap,Yl=new WeakMap,Sh=new WeakMap,la=new WeakMap,tm=new WeakMap,Kl=new WeakMap,ja=new WeakSet,Qw=async function(e,t,i){var a,u;const r=e.firstChild||e,s=r.id=`${q1}${t}`,o=await((a=l(this,tm))==null?void 0:a.getAriaAttributes(s));if(o)for(const[c,h]of o)r.setAttribute(c,h);i?i.at(-1).container.after(e):(this.div.append(e),(u=l(this,bh))==null||u.moveElementInDOM(this.div,e,r,!1))},Jw=function(){var t;if(!l(this,Yl))return;const e=this.div;for(const[i,r]of l(this,Yl)){const s=e.querySelector(`[data-annotation-id="${i}"]`);if(!s)continue;r.className="annotationContent";const{firstChild:o}=s;o?o.nodeName==="CANVAS"?o.replaceWith(r):o.classList.contains("annotationContent")?o.after(r):o.before(r):s.append(r);const a=l(this,la).get(i);a&&(a._hasNoCanvas?((t=this._annotationEditorUIManager)==null||t.setMissingCanvas(i,s.id,r),a._hasNoCanvas=!1):a.canvas=r)}l(this,Yl).clear()},Ah);const pg=/\r\n?|\n/g;var pi,nm,Ql,mi,Nt,YP,KP,QP,Kg,co,Qg,Jg,JP,eb,ZP;const Ze=class Ze extends Qe{constructor(t){super({...t,name:"freeTextEditor"});S(this,Nt);S(this,pi,"");S(this,nm,`${this.id}-editor`);S(this,Ql,null);S(this,mi);B(this,"_colorPicker",null);this.color=t.color||Ze._defaultColor||Qe._defaultLineColor,g(this,mi,t.fontSize||Ze._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const t=Ze.prototype,i=o=>o.isEmpty(),r=Fa.TRANSLATE_SMALL,s=Fa.TRANSLATE_BIG;return pe(this,"_keyboardManager",new Dm([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],t.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],t.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],t._translateEmpty,{args:[-r,0],checker:i}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t._translateEmpty,{args:[-s,0],checker:i}],[["ArrowRight","mac+ArrowRight"],t._translateEmpty,{args:[r,0],checker:i}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t._translateEmpty,{args:[s,0],checker:i}],[["ArrowUp","mac+ArrowUp"],t._translateEmpty,{args:[0,-r],checker:i}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t._translateEmpty,{args:[0,-s],checker:i}],[["ArrowDown","mac+ArrowDown"],t._translateEmpty,{args:[0,r],checker:i}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t._translateEmpty,{args:[0,s],checker:i}]]))}static initialize(t,i){Qe.initialize(t,i);const r=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(r.getPropertyValue("--freetext-padding"))}static updateDefaultParams(t,i){switch(t){case Se.FREETEXT_SIZE:Ze._defaultFontSize=i;break;case Se.FREETEXT_COLOR:Ze._defaultColor=i;break}}updateParams(t,i){switch(t){case Se.FREETEXT_SIZE:A(this,Nt,YP).call(this,i);break;case Se.FREETEXT_COLOR:A(this,Nt,KP).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Se.FREETEXT_SIZE,Ze._defaultFontSize],[Se.FREETEXT_COLOR,Ze._defaultColor||Qe._defaultLineColor]]}get propertiesToUpdate(){return[[Se.FREETEXT_SIZE,l(this,mi)],[Se.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Wy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Se.FREETEXT_COLOR}onUpdatedColor(){var t;this.editorDiv.style.color=this.color,(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_translateEmpty(t,i){this._uiManager.translateSelectedEditors(t,i,!0)}getInitialTranslation(){const t=this.parentScale;return[-Ze._internalPadding*t,-(Ze._internalPadding+l(this,mi))*t]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),g(this,Ql,new AbortController);const t=this._uiManager.combinedSignal(l(this,Ql));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:t}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:t}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:t}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:t}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:t}),!0}disableEditMode(){var t;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",l(this,nm)),this._isDraggable=!0,(t=l(this,Ql))==null||t.abort(),g(this,Ql,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(t){this._focusEventsAllowed&&(super.focusin(t),t.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(t){var i;this.width||(this.enableEditMode(),t&&this.editorDiv.focus(),(i=this._initialOptions)!=null&&i.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const t=l(this,pi),i=g(this,pi,A(this,Nt,QP).call(this).trimEnd());if(t===i)return;const r=s=>{if(g(this,pi,s),!s){this.remove();return}A(this,Nt,Jg).call(this),this._uiManager.rebuild(this),A(this,Nt,Kg).call(this)};this.addCommands({cmd:()=>{r(i)},undo:()=>{r(t)},mustExec:!1}),A(this,Nt,Kg).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(t){t.target===this.div&&t.key==="Enter"&&(this.enterInEditMode(),t.preventDefault())}editorDivKeydown(t){Ze._keyboardManager.exec(this,t)}editorDivFocus(t){this.isEditing=!0}editorDivBlur(t){this.isEditing=!1}editorDivInput(t){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let t,i;(this._isCopy||this.annotationElementId)&&(t=this.x,i=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",l(this,nm)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:r}=this.editorDiv;if(r.fontSize=`calc(${l(this,mi)}px * var(--total-scale-factor))`,r.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[s,o]=this.parentDimensions;if(this.annotationElementId){const{position:a}=this._initialData;let[u,c]=this.getInitialTranslation();[u,c]=this.pageTranslationToScreen(u,c);const[h,d]=this.pageDimensions,[f,p]=this.pageTranslation;let v,y;switch(this.rotation){case 0:v=t+(a[0]-f)/h,y=i+this.height-(a[1]-p)/d;break;case 90:v=t+(a[0]-f)/h,y=i-(a[1]-p)/d,[u,c]=[c,-u];break;case 180:v=t-this.width+(a[0]-f)/h,y=i-(a[1]-p)/d,[u,c]=[-u,-c];break;case 270:v=t+(a[0]-f-this.height*d)/h,y=i+(a[1]-p-this.width*h)/d,[u,c]=[-c,u];break}this.setAt(v*s,y*o,u,c)}else this._moveAfterPaste(t,i);A(this,Nt,Jg).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(t){var v,y,E;const i=t.clipboardData||window.clipboardData,{types:r}=i;if(r.length===1&&r[0]==="text/plain")return;t.preventDefault();const s=A(v=Ze,co,eb).call(v,i.getData("text")||"").replaceAll(pg,`
`);if(!s)return;const o=window.getSelection();if(!o.rangeCount)return;this.editorDiv.normalize(),o.deleteFromDocument();const a=o.getRangeAt(0);if(!s.includes(`
`)){a.insertNode(document.createTextNode(s)),this.editorDiv.normalize(),o.collapseToStart();return}const{startContainer:u,startOffset:c}=a,h=[],d=[];if(u.nodeType===Node.TEXT_NODE){const m=u.parentElement;if(d.push(u.nodeValue.slice(c).replaceAll(pg,"")),m!==this.editorDiv){let b=h;for(const x of this.editorDiv.childNodes){if(x===m){b=d;continue}b.push(A(y=Ze,co,Qg).call(y,x))}}h.push(u.nodeValue.slice(0,c).replaceAll(pg,""))}else if(u===this.editorDiv){let m=h,b=0;for(const x of this.editorDiv.childNodes)b++===c&&(m=d),m.push(A(E=Ze,co,Qg).call(E,x))}g(this,pi,`${h.join(`
`)}${s}${d.join(`
`)}`),A(this,Nt,Jg).call(this);const f=new Range;let p=Math.sumPrecise(h.map(m=>m.length));for(const{firstChild:m}of this.editorDiv.childNodes)if(m.nodeType===Node.TEXT_NODE){const b=m.nodeValue.length;if(p<=b){f.setStart(m,p),f.setEnd(m,p);break}p-=b}o.removeAllRanges(),o.addRange(f)}get contentDiv(){return this.editorDiv}getPDFRect(){const t=Ze._internalPadding*this.parentScale;return this.getRect(t,t)}static async deserialize(t,i,r){var a;let s=null;if(t instanceof WP){const{data:{defaultAppearanceData:{fontSize:u,fontColor:c},rect:h,rotation:d,id:f,popupRef:p,richText:v,contentsObj:y,creationDate:E,modificationDate:m},textContent:b,textPosition:x,parent:{page:{pageNumber:k}}}=t;if(!b||b.length===0)return null;s=t={annotationType:ae.FREETEXT,color:Array.from(c),fontSize:u,value:b.join(`
`),position:x,pageIndex:k-1,rect:h.slice(0),rotation:d,annotationElementId:f,id:f,deleted:!1,popupRef:p,comment:(y==null?void 0:y.str)||null,richText:v,creationDate:E,modificationDate:m}}const o=await super.deserialize(t,i,r);return g(o,mi,t.fontSize),o.color=J.makeHexColor(...t.color),g(o,pi,A(a=Ze,co,eb).call(a,t.value)),o._initialData=s,t.comment&&o.setCommentData(t),o}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const i=Qe._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),r=Object.assign(super.serialize(t),{color:i,fontSize:l(this,mi),value:A(this,Nt,JP).call(this)});return this.addComment(r),t?(r.isCopy=!0,r):this.annotationElementId&&!A(this,Nt,ZP).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){const i=super.renderAnnotationElement(t);if(!i)return null;const{style:r}=i;r.fontSize=`calc(${l(this,mi)}px * var(--total-scale-factor))`,r.color=this.color,i.replaceChildren();for(const s of l(this,pi).split(`
`)){const o=document.createElement("div");o.append(s?document.createTextNode(s):document.createElement("br")),i.append(o)}return t.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:l(this,pi)}}),i}resetAnnotationElement(t){super.resetAnnotationElement(t),t.resetEdited()}};pi=new WeakMap,nm=new WeakMap,Ql=new WeakMap,mi=new WeakMap,Nt=new WeakSet,YP=function(t){const i=s=>{this.editorDiv.style.fontSize=`calc(${s}px * var(--total-scale-factor))`,this.translate(0,-(s-l(this,mi))*this.parentScale),g(this,mi,s),A(this,Nt,Kg).call(this)},r=l(this,mi);this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Se.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},KP=function(t){const i=s=>{this.color=s,this.onUpdatedColor()},r=this.color;this.addCommands({cmd:i.bind(this,t),undo:i.bind(this,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Se.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},QP=function(){var r;const t=[];this.editorDiv.normalize();let i=null;for(const s of this.editorDiv.childNodes)(i==null?void 0:i.nodeType)===Node.TEXT_NODE&&s.nodeName==="BR"||(t.push(A(r=Ze,co,Qg).call(r,s)),i=s);return t.join(`
`)},Kg=function(){const[t,i]=this.parentDimensions;let r;if(this.isAttachedToDOM)r=this.div.getBoundingClientRect();else{const{currentLayer:s,div:o}=this,a=o.style.display,u=o.classList.contains("hidden");o.classList.remove("hidden"),o.style.display="hidden",s.div.append(this.div),r=o.getBoundingClientRect(),o.remove(),o.style.display=a,o.classList.toggle("hidden",u)}this.rotation%180===this.parentRotation%180?(this.width=r.width/t,this.height=r.height/i):(this.width=r.height/t,this.height=r.width/i),this.fixAndSetPosition()},co=new WeakSet,Qg=function(t){return(t.nodeType===Node.TEXT_NODE?t.nodeValue:t.innerText).replaceAll(pg,"")},Jg=function(){if(this.editorDiv.replaceChildren(),!!l(this,pi))for(const t of l(this,pi).split(`
`)){const i=document.createElement("div");i.append(t?document.createTextNode(t):document.createElement("br")),this.editorDiv.append(i)}},JP=function(){return l(this,pi).replaceAll(""," ")},eb=function(t){return t.replaceAll(" ","")},ZP=function(t){const{value:i,fontSize:r,color:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||t.value!==i||t.fontSize!==r||t.color.some((a,u)=>a!==s[u])||t.pageIndex!==o},S(Ze,co),B(Ze,"_freeTextDefaultContent",""),B(Ze,"_internalPadding",0),B(Ze,"_defaultColor",null),B(Ze,"_defaultFontSize",10),B(Ze,"_type","freetext"),B(Ze,"_editorType",ae.FREETEXT);let Zw=Ze;class Q{toSVGPath(){We("Abstract method `toSVGPath` must be implemented.")}get box(){We("Abstract getter `box` must be implemented.")}serialize(e,t){We("Abstract method `serialize` must be implemented.")}static _rescale(e,t,i,r,s,o){o||(o=new Float32Array(e.length));for(let a=0,u=e.length;a<u;a+=2)o[a]=t+e[a]*r,o[a+1]=i+e[a+1]*s;return o}static _rescaleAndSwap(e,t,i,r,s,o){o||(o=new Float32Array(e.length));for(let a=0,u=e.length;a<u;a+=2)o[a]=t+e[a+1]*r,o[a+1]=i+e[a]*s;return o}static _translate(e,t,i,r){r||(r=new Float32Array(e.length));for(let s=0,o=e.length;s<o;s+=2)r[s]=t+e[s],r[s+1]=i+e[s+1];return r}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,t,i,r,s){switch(s){case 90:return[1-t/i,e/r];case 180:return[1-e/i,1-t/r];case 270:return[t/i,1-e/r];default:return[e/i,t/r]}}static _normalizePagePoint(e,t,i){switch(i){case 90:return[1-t,e];case 180:return[1-e,1-t];case 270:return[t,1-e];default:return[e,t]}}static createBezierPoints(e,t,i,r,s,o){return[(e+5*i)/6,(t+5*r)/6,(5*i+s)/6,(5*r+o)/6,(i+s)/2,(r+o)/2]}}B(Q,"PRECISION",1e-4);var gi,yr,Eh,kh,es,xe,Jl,Zl,im,rm,Ch,_h,ua,sm,h0,d0,jt,Xd,e2,t2,n2,i2,r2,s2;const As=class As{constructor({x:e,y:t},i,r,s,o,a=0){S(this,jt);S(this,gi);S(this,yr,[]);S(this,Eh);S(this,kh);S(this,es,[]);S(this,xe,new Float32Array(18));S(this,Jl);S(this,Zl);S(this,im);S(this,rm);S(this,Ch);S(this,_h);S(this,ua,[]);g(this,gi,i),g(this,_h,s*r),g(this,kh,o),l(this,xe).set([NaN,NaN,NaN,NaN,e,t],6),g(this,Eh,a),g(this,rm,l(As,sm)*r),g(this,im,l(As,d0)*r),g(this,Ch,r),l(this,ua).push(e,t)}isEmpty(){return isNaN(l(this,xe)[8])}add({x:e,y:t}){var D;g(this,Jl,e),g(this,Zl,t);const[i,r,s,o]=l(this,gi);let[a,u,c,h]=l(this,xe).subarray(8,12);const d=e-c,f=t-h,p=Math.hypot(d,f);if(p<l(this,im))return!1;const v=p-l(this,rm),y=v/p,E=y*d,m=y*f;let b=a,x=u;a=c,u=h,c+=E,h+=m,(D=l(this,ua))==null||D.push(e,t);const k=-m/v,_=E/v,C=k*l(this,_h),P=_*l(this,_h);return l(this,xe).set(l(this,xe).subarray(2,8),0),l(this,xe).set([c+C,h+P],4),l(this,xe).set(l(this,xe).subarray(14,18),12),l(this,xe).set([c-C,h-P],16),isNaN(l(this,xe)[6])?(l(this,es).length===0&&(l(this,xe).set([a+C,u+P],2),l(this,es).push(NaN,NaN,NaN,NaN,(a+C-i)/s,(u+P-r)/o),l(this,xe).set([a-C,u-P],14),l(this,yr).push(NaN,NaN,NaN,NaN,(a-C-i)/s,(u-P-r)/o)),l(this,xe).set([b,x,a,u,c,h],6),!this.isEmpty()):(l(this,xe).set([b,x,a,u,c,h],6),Math.abs(Math.atan2(x-u,b-a)-Math.atan2(m,E))<Math.PI/2?([a,u,c,h]=l(this,xe).subarray(2,6),l(this,es).push(NaN,NaN,NaN,NaN,((a+c)/2-i)/s,((u+h)/2-r)/o),[a,u,b,x]=l(this,xe).subarray(14,18),l(this,yr).push(NaN,NaN,NaN,NaN,((b+a)/2-i)/s,((x+u)/2-r)/o),!0):([b,x,a,u,c,h]=l(this,xe).subarray(0,6),l(this,es).push(((b+5*a)/6-i)/s,((x+5*u)/6-r)/o,((5*a+c)/6-i)/s,((5*u+h)/6-r)/o,((a+c)/2-i)/s,((u+h)/2-r)/o),[c,h,a,u,b,x]=l(this,xe).subarray(12,18),l(this,yr).push(((b+5*a)/6-i)/s,((x+5*u)/6-r)/o,((5*a+c)/6-i)/s,((5*u+h)/6-r)/o,((a+c)/2-i)/s,((u+h)/2-r)/o),!0))}toSVGPath(){if(this.isEmpty())return"";const e=l(this,es),t=l(this,yr);if(isNaN(l(this,xe)[6])&&!this.isEmpty())return A(this,jt,e2).call(this);const i=[];i.push(`M${e[4]} ${e[5]}`);for(let r=6;r<e.length;r+=6)isNaN(e[r])?i.push(`L${e[r+4]} ${e[r+5]}`):i.push(`C${e[r]} ${e[r+1]} ${e[r+2]} ${e[r+3]} ${e[r+4]} ${e[r+5]}`);A(this,jt,n2).call(this,i);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?i.push(`L${t[r+4]} ${t[r+5]}`):i.push(`C${t[r]} ${t[r+1]} ${t[r+2]} ${t[r+3]} ${t[r+4]} ${t[r+5]}`);return A(this,jt,t2).call(this,i),i.join(" ")}newFreeDrawOutline(e,t,i,r,s,o){return new o2(e,t,i,r,s,o)}getOutlines(){var d;const e=l(this,es),t=l(this,yr),i=l(this,xe),[r,s,o,a]=l(this,gi),u=new Float32Array((((d=l(this,ua))==null?void 0:d.length)??0)+2);for(let f=0,p=u.length-2;f<p;f+=2)u[f]=(l(this,ua)[f]-r)/o,u[f+1]=(l(this,ua)[f+1]-s)/a;if(u[u.length-2]=(l(this,Jl)-r)/o,u[u.length-1]=(l(this,Zl)-s)/a,isNaN(i[6])&&!this.isEmpty())return A(this,jt,i2).call(this,u);const c=new Float32Array(l(this,es).length+24+l(this,yr).length);let h=e.length;for(let f=0;f<h;f+=2){if(isNaN(e[f])){c[f]=c[f+1]=NaN;continue}c[f]=e[f],c[f+1]=e[f+1]}h=A(this,jt,s2).call(this,c,h);for(let f=t.length-6;f>=6;f-=6)for(let p=0;p<6;p+=2){if(isNaN(t[f+p])){c[h]=c[h+1]=NaN,h+=2;continue}c[h]=t[f+p],c[h+1]=t[f+p+1],h+=2}return A(this,jt,r2).call(this,c,h),this.newFreeDrawOutline(c,u,l(this,gi),l(this,Ch),l(this,Eh),l(this,kh))}};gi=new WeakMap,yr=new WeakMap,Eh=new WeakMap,kh=new WeakMap,es=new WeakMap,xe=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,im=new WeakMap,rm=new WeakMap,Ch=new WeakMap,_h=new WeakMap,ua=new WeakMap,sm=new WeakMap,h0=new WeakMap,d0=new WeakMap,jt=new WeakSet,Xd=function(){const e=l(this,xe).subarray(4,6),t=l(this,xe).subarray(16,18),[i,r,s,o]=l(this,gi);return[(l(this,Jl)+(e[0]-t[0])/2-i)/s,(l(this,Zl)+(e[1]-t[1])/2-r)/o,(l(this,Jl)+(t[0]-e[0])/2-i)/s,(l(this,Zl)+(t[1]-e[1])/2-r)/o]},e2=function(){const[e,t,i,r]=l(this,gi),[s,o,a,u]=A(this,jt,Xd).call(this);return`M${(l(this,xe)[2]-e)/i} ${(l(this,xe)[3]-t)/r} L${(l(this,xe)[4]-e)/i} ${(l(this,xe)[5]-t)/r} L${s} ${o} L${a} ${u} L${(l(this,xe)[16]-e)/i} ${(l(this,xe)[17]-t)/r} L${(l(this,xe)[14]-e)/i} ${(l(this,xe)[15]-t)/r} Z`},t2=function(e){const t=l(this,yr);e.push(`L${t[4]} ${t[5]} Z`)},n2=function(e){const[t,i,r,s]=l(this,gi),o=l(this,xe).subarray(4,6),a=l(this,xe).subarray(16,18),[u,c,h,d]=A(this,jt,Xd).call(this);e.push(`L${(o[0]-t)/r} ${(o[1]-i)/s} L${u} ${c} L${h} ${d} L${(a[0]-t)/r} ${(a[1]-i)/s}`)},i2=function(e){const t=l(this,xe),[i,r,s,o]=l(this,gi),[a,u,c,h]=A(this,jt,Xd).call(this),d=new Float32Array(36);return d.set([NaN,NaN,NaN,NaN,(t[2]-i)/s,(t[3]-r)/o,NaN,NaN,NaN,NaN,(t[4]-i)/s,(t[5]-r)/o,NaN,NaN,NaN,NaN,a,u,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,(t[16]-i)/s,(t[17]-r)/o,NaN,NaN,NaN,NaN,(t[14]-i)/s,(t[15]-r)/o],0),this.newFreeDrawOutline(d,e,l(this,gi),l(this,Ch),l(this,Eh),l(this,kh))},r2=function(e,t){const i=l(this,yr);return e.set([NaN,NaN,NaN,NaN,i[4],i[5]],t),t+=6},s2=function(e,t){const i=l(this,xe).subarray(4,6),r=l(this,xe).subarray(16,18),[s,o,a,u]=l(this,gi),[c,h,d,f]=A(this,jt,Xd).call(this);return e.set([NaN,NaN,NaN,NaN,(i[0]-s)/a,(i[1]-o)/u,NaN,NaN,NaN,NaN,c,h,NaN,NaN,NaN,NaN,d,f,NaN,NaN,NaN,NaN,(r[0]-s)/a,(r[1]-o)/u],t),t+=24},S(As,sm,8),S(As,h0,2),S(As,d0,l(As,sm)+l(As,h0));let Gy=As;var Th,eu,Js,om,yi,am,Et,f0,a2;class o2 extends Q{constructor(t,i,r,s,o,a){super();S(this,f0);S(this,Th);S(this,eu,new Float32Array(4));S(this,Js);S(this,om);S(this,yi);S(this,am);S(this,Et);g(this,Et,t),g(this,yi,i),g(this,Th,r),g(this,am,s),g(this,Js,o),g(this,om,a),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],A(this,f0,a2).call(this,a);const[u,c,h,d]=l(this,eu);for(let f=0,p=t.length;f<p;f+=2)t[f]=(t[f]-u)/h,t[f+1]=(t[f+1]-c)/d;for(let f=0,p=i.length;f<p;f+=2)i[f]=(i[f]-u)/h,i[f+1]=(i[f+1]-c)/d}toSVGPath(){const t=[`M${l(this,Et)[4]} ${l(this,Et)[5]}`];for(let i=6,r=l(this,Et).length;i<r;i+=6){if(isNaN(l(this,Et)[i])){t.push(`L${l(this,Et)[i+4]} ${l(this,Et)[i+5]}`);continue}t.push(`C${l(this,Et)[i]} ${l(this,Et)[i+1]} ${l(this,Et)[i+2]} ${l(this,Et)[i+3]} ${l(this,Et)[i+4]} ${l(this,Et)[i+5]}`)}return t.push("Z"),t.join(" ")}serialize([t,i,r,s],o){const a=r-t,u=s-i;let c,h;switch(o){case 0:c=Q._rescale(l(this,Et),t,s,a,-u),h=Q._rescale(l(this,yi),t,s,a,-u);break;case 90:c=Q._rescaleAndSwap(l(this,Et),t,i,a,u),h=Q._rescaleAndSwap(l(this,yi),t,i,a,u);break;case 180:c=Q._rescale(l(this,Et),r,i,-a,u),h=Q._rescale(l(this,yi),r,i,-a,u);break;case 270:c=Q._rescaleAndSwap(l(this,Et),r,s,-a,-u),h=Q._rescaleAndSwap(l(this,yi),r,s,-a,-u);break}return{outline:Array.from(c),points:[Array.from(h)]}}get box(){return l(this,eu)}newOutliner(t,i,r,s,o,a=0){return new Gy(t,i,r,s,o,a)}getNewOutline(t,i){const[r,s,o,a]=l(this,eu),[u,c,h,d]=l(this,Th),f=o*h,p=a*d,v=r*h+u,y=s*d+c,E=this.newOutliner({x:l(this,yi)[0]*f+v,y:l(this,yi)[1]*p+y},l(this,Th),l(this,am),t,l(this,om),i??l(this,Js));for(let m=2;m<l(this,yi).length;m+=2)E.add({x:l(this,yi)[m]*f+v,y:l(this,yi)[m+1]*p+y});return E.getOutlines()}}Th=new WeakMap,eu=new WeakMap,Js=new WeakMap,om=new WeakMap,yi=new WeakMap,am=new WeakMap,Et=new WeakMap,f0=new WeakSet,a2=function(t){const i=l(this,Et);let r=i[4],s=i[5];const o=[r,s,r,s];let a=r,u=s,c=r,h=s;const d=t?Math.max:Math.min,f=new Float32Array(4);for(let v=6,y=i.length;v<y;v+=6){const E=i[v+4],m=i[v+5];isNaN(i[v])?(J.pointBoundingBox(E,m,o),u>m?(a=E,u=m):u===m&&(a=d(a,E)),h<m?(c=E,h=m):h===m&&(c=d(c,E))):(f[0]=f[1]=1/0,f[2]=f[3]=-1/0,J.bezierBoundingBox(r,s,...i.slice(v,v+6),f),J.rectBoundingBox(f[0],f[1],f[2],f[3],o),u>f[1]?(a=f[0],u=f[1]):u===f[1]&&(a=d(a,f[0])),h<f[3]?(c=f[2],h=f[3]):h===f[3]&&(c=d(c,f[2]))),r=E,s=m}const p=l(this,eu);p[0]=o[0]-l(this,Js),p[1]=o[1]-l(this,Js),p[2]=o[2]-o[0]+2*l(this,Js),p[3]=o[3]-o[1]+2*l(this,Js),this.firstPoint=[a,u],this.lastPoint=[c,h]};var lm,um,cm,ca,vr,In,l2,Zg,u2,c2,nb;class tb{constructor(e,t=0,i=0,r=!0){S(this,In);S(this,lm);S(this,um);S(this,cm);S(this,ca,[]);S(this,vr,[]);const s=[1/0,1/0,-1/0,-1/0],o=10**-4;for(const{x:y,y:E,width:m,height:b}of e){const x=Math.floor((y-t)/o)*o,k=Math.ceil((y+m+t)/o)*o,_=Math.floor((E-t)/o)*o,C=Math.ceil((E+b+t)/o)*o,P=[x,_,C,!0],L=[k,_,C,!1];l(this,ca).push(P,L),J.rectBoundingBox(x,_,k,C,s)}const a=s[2]-s[0]+2*i,u=s[3]-s[1]+2*i,c=s[0]-i,h=s[1]-i;let d=r?-1/0:1/0,f=1/0;const p=l(this,ca).at(r?-1:-2),v=[p[0],p[2]];for(const y of l(this,ca)){const[E,m,b,x]=y;!x&&r?m<f?(f=m,d=E):m===f&&(d=Math.max(d,E)):x&&!r&&(m<f?(f=m,d=E):m===f&&(d=Math.min(d,E))),y[0]=(E-c)/a,y[1]=(m-h)/u,y[2]=(b-h)/u}g(this,lm,new Float32Array([c,h,a,u])),g(this,um,[d,f]),g(this,cm,v)}getOutlines(){l(this,ca).sort((t,i)=>t[0]-i[0]||t[1]-i[1]||t[2]-i[2]);const e=[];for(const t of l(this,ca))t[3]?(e.push(...A(this,In,nb).call(this,t)),A(this,In,u2).call(this,t)):(A(this,In,c2).call(this,t),e.push(...A(this,In,nb).call(this,t)));return A(this,In,l2).call(this,e)}}lm=new WeakMap,um=new WeakMap,cm=new WeakMap,ca=new WeakMap,vr=new WeakMap,In=new WeakSet,l2=function(e){const t=[],i=new Set;for(const o of e){const[a,u,c]=o;t.push([a,u,o],[a,c,o])}t.sort((o,a)=>o[1]-a[1]||o[0]-a[0]);for(let o=0,a=t.length;o<a;o+=2){const u=t[o][2],c=t[o+1][2];u.push(c),c.push(u),i.add(u),i.add(c)}const r=[];let s;for(;i.size>0;){const o=i.values().next().value;let[a,u,c,h,d]=o;i.delete(o);let f=a,p=u;for(s=[a,c],r.push(s);;){let v;if(i.has(h))v=h;else if(i.has(d))v=d;else break;i.delete(v),[a,u,c,h,d]=v,f!==a&&(s.push(f,p,a,p===u?u:c),f=a),p=p===u?c:u}s.push(f,p)}return new Y3(r,l(this,lm),l(this,um),l(this,cm))},Zg=function(e){const t=l(this,vr);let i=0,r=t.length-1;for(;i<=r;){const s=i+r>>1,o=t[s][0];if(o===e)return s;o<e?i=s+1:r=s-1}return r+1},u2=function([,e,t]){const i=A(this,In,Zg).call(this,e);l(this,vr).splice(i,0,[e,t])},c2=function([,e,t]){const i=A(this,In,Zg).call(this,e);for(let r=i;r<l(this,vr).length;r++){const[s,o]=l(this,vr)[r];if(s!==e)break;if(s===e&&o===t){l(this,vr).splice(r,1);return}}for(let r=i-1;r>=0;r--){const[s,o]=l(this,vr)[r];if(s!==e)break;if(s===e&&o===t){l(this,vr).splice(r,1);return}}},nb=function(e){const[t,i,r]=e,s=[[t,i,r]],o=A(this,In,Zg).call(this,r);for(let a=0;a<o;a++){const[u,c]=l(this,vr)[a];for(let h=0,d=s.length;h<d;h++){const[,f,p]=s[h];if(!(c<=f||p<=u)){if(f>=u){if(p>c)s[h][1]=c;else{if(d===1)return[];s.splice(h,1),h--,d--}continue}s[h][2]=u,p>c&&s.push([t,c,p])}}}return s};var hm,Ph;class Y3 extends Q{constructor(t,i,r,s){super();S(this,hm);S(this,Ph);g(this,Ph,t),g(this,hm,i),this.firstPoint=r,this.lastPoint=s}toSVGPath(){const t=[];for(const i of l(this,Ph)){let[r,s]=i;t.push(`M${r} ${s}`);for(let o=2;o<i.length;o+=2){const a=i[o],u=i[o+1];a===r?(t.push(`V${u}`),s=u):u===s&&(t.push(`H${a}`),r=a)}t.push("Z")}return t.join(" ")}serialize([t,i,r,s],o){const a=[],u=r-t,c=s-i;for(const h of l(this,Ph)){const d=new Array(h.length);for(let f=0;f<h.length;f+=2)d[f]=t+h[f]*u,d[f+1]=s-h[f+1]*c;a.push(d)}return a}get box(){return l(this,hm)}get classNamesForOutlining(){return["highlightOutline"]}}hm=new WeakMap,Ph=new WeakMap;class ib extends Gy{newFreeDrawOutline(e,t,i,r,s,o){return new K3(e,t,i,r,s,o)}}class K3 extends o2{newOutliner(e,t,i,r,s,o=0){return new ib(e,t,i,r,s,o)}}var Rh,dm,Zs,tu,fm,qn,pm,mm,nu,vi,xi,tn,Nh,Lh,xn,Mh,Gi,gm,me,rb,ey,h2,d2,f2,sb,Qa,Ji,$u,p2,ty,ny,m2,g2,y2,v2,x2;const Te=class Te extends Qe{constructor(t){super({...t,name:"highlightEditor"});S(this,me);S(this,Rh,null);S(this,dm,0);S(this,Zs);S(this,tu,null);S(this,fm,null);S(this,qn,null);S(this,pm,null);S(this,mm,0);S(this,nu,null);S(this,vi,null);S(this,xi,null);S(this,tn,!1);S(this,Nh,null);S(this,Lh,null);S(this,xn,null);S(this,Mh,"");S(this,Gi);S(this,gm,"");this.color=t.color||Te._defaultColor,g(this,Gi,t.thickness||Te._defaultThickness),this.opacity=t.opacity||Te._defaultOpacity,g(this,Zs,t.boxes||null),g(this,gm,t.methodOfCreation||""),g(this,Mh,t.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",t.highlightId>-1?(g(this,tn,!0),A(this,me,ey).call(this,t),A(this,me,Qa).call(this)):l(this,Zs)&&(g(this,Rh,t.anchorNode),g(this,dm,t.anchorOffset),g(this,pm,t.focusNode),g(this,mm,t.focusOffset),A(this,me,rb).call(this),A(this,me,Qa).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const t=Te.prototype;return pe(this,"_keyboardManager",new Dm([[["ArrowLeft","mac+ArrowLeft"],t._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],t._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],t._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],t._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:l(this,tn)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:l(this,Gi),methodOfCreation:l(this,gm)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(t){return{numberOfColors:t.get("color").size}}static initialize(t,i){var r;Qe.initialize(t,i),Te._defaultColor||(Te._defaultColor=((r=i.highlightColors)==null?void 0:r.values().next().value)||"#fff066")}static updateDefaultParams(t,i){switch(t){case Se.HIGHLIGHT_COLOR:Te._defaultColor=i;break;case Se.HIGHLIGHT_THICKNESS:Te._defaultThickness=i;break}}translateInPage(t,i){}get toolbarPosition(){return l(this,Lh)}get commentButtonPosition(){return l(this,Nh)}updateParams(t,i){switch(t){case Se.HIGHLIGHT_COLOR:A(this,me,h2).call(this,i);break;case Se.HIGHLIGHT_THICKNESS:A(this,me,d2).call(this,i);break}}static get defaultPropertiesToUpdate(){return[[Se.HIGHLIGHT_COLOR,Te._defaultColor],[Se.HIGHLIGHT_THICKNESS,Te._defaultThickness]]}get propertiesToUpdate(){return[[Se.HIGHLIGHT_COLOR,this.color||Te._defaultColor],[Se.HIGHLIGHT_THICKNESS,l(this,Gi)||Te._defaultThickness],[Se.HIGHLIGHT_FREE,l(this,tn)]]}onUpdatedColor(){var t,i;(t=this.parent)==null||t.drawLayer.updateProperties(l(this,xi),{root:{fill:this.color,"fill-opacity":this.opacity}}),(i=l(this,fm))==null||i.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",g(this,fm,new jf({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(A(this,me,ny).call(this))}getBaseTranslation(){return[0,0]}getRect(t,i){return super.getRect(t,i,A(this,me,ny).call(this))}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),t&&this.div.focus()}remove(){A(this,me,sb).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,me,Qa).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?A(this,me,sb).call(this):t&&(A(this,me,Qa).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),this.show(this._isVisible),i&&this.select()}rotate(t){var s,o,a;const{drawLayer:i}=this.parent;let r;l(this,tn)?(t=(t-this.rotation+360)%360,r=A(s=Te,Ji,$u).call(s,l(this,vi).box,t)):r=A(o=Te,Ji,$u).call(o,[this.x,this.y,this.width,this.height],t),i.updateProperties(l(this,xi),{bbox:r,root:{"data-main-rotation":t}}),i.updateProperties(l(this,xn),{bbox:A(a=Te,Ji,$u).call(a,l(this,qn).box,t),root:{"data-main-rotation":t}})}render(){if(this.div)return this.div;const t=super.render();l(this,Mh)&&(t.setAttribute("aria-label",l(this,Mh)),t.setAttribute("role","mark")),l(this,tn)?t.classList.add("free"):this.div.addEventListener("keydown",A(this,me,p2).bind(this),{signal:this._uiManager._signal});const i=g(this,nu,document.createElement("div"));return t.append(i),i.setAttribute("aria-hidden","true"),i.className="internal",i.style.clipPath=l(this,tu),this.setDims(this.width,this.height),zT(this,l(this,nu),["pointerover","pointerleave"]),this.enableEditing(),t}pointerover(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,xn),{rootClass:{hovered:!0}})}pointerleave(){var t;this.isSelected||(t=this.parent)==null||t.drawLayer.updateProperties(l(this,xn),{rootClass:{hovered:!1}})}_moveCaret(t){switch(this.parent.unselect(this),t){case 0:case 2:A(this,me,ty).call(this,!0);break;case 1:case 3:A(this,me,ty).call(this,!1);break}}select(){var t;super.select(),l(this,xn)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,xn),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var t;super.unselect(),l(this,xn)&&((t=this.parent)==null||t.drawLayer.updateProperties(l(this,xn),{rootClass:{selected:!1}}),l(this,tn)||A(this,me,ty).call(this,!1))}get _mustFixPosition(){return!l(this,tn)}show(t=this._isVisible){super.show(t),this.parent&&(this.parent.drawLayer.updateProperties(l(this,xi),{rootClass:{hidden:!t}}),this.parent.drawLayer.updateProperties(l(this,xn),{rootClass:{hidden:!t}}))}static startHighlighting(t,i,{target:r,x:s,y:o}){const{x:a,y:u,width:c,height:h}=r.getBoundingClientRect(),d=new AbortController,f=t.combinedSignal(d),p=v=>{d.abort(),A(this,Ji,v2).call(this,t,v)};window.addEventListener("blur",p,{signal:f}),window.addEventListener("pointerup",p,{signal:f}),window.addEventListener("pointerdown",ut,{capture:!0,passive:!1,signal:f}),window.addEventListener("contextmenu",Li,{signal:f}),r.addEventListener("pointermove",A(this,Ji,y2).bind(this,t),{signal:f}),this._freeHighlight=new ib({x:s,y:o},[a,u,c,h],t.scale,this._defaultThickness/2,i,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=t.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(t,i,r){var y,E,m,b;let s=null;if(t instanceof qP){const{data:{quadPoints:x,rect:k,rotation:_,id:C,color:P,opacity:L,popupRef:D,richText:M,contentsObj:I,creationDate:F,modificationDate:W},parent:{page:{pageNumber:z}}}=t;s=t={annotationType:ae.HIGHLIGHT,color:Array.from(P),opacity:L,quadPoints:x,boxes:null,pageIndex:z-1,rect:k.slice(0),rotation:_,annotationElementId:C,id:C,deleted:!1,popupRef:D,richText:M,comment:(I==null?void 0:I.str)||null,creationDate:F,modificationDate:W}}else if(t instanceof iS){const{data:{inkLists:x,rect:k,rotation:_,id:C,color:P,borderStyle:{rawWidth:L},popupRef:D,richText:M,contentsObj:I,creationDate:F,modificationDate:W},parent:{page:{pageNumber:z}}}=t;s=t={annotationType:ae.HIGHLIGHT,color:Array.from(P),thickness:L,inkLists:x,boxes:null,pageIndex:z-1,rect:k.slice(0),rotation:_,annotationElementId:C,id:C,deleted:!1,popupRef:D,richText:M,comment:(I==null?void 0:I.str)||null,creationDate:F,modificationDate:W}}const{color:o,quadPoints:a,inkLists:u,opacity:c}=t,h=await super.deserialize(t,i,r);h.color=J.makeHexColor(...o),h.opacity=c||1,u&&g(h,Gi,t.thickness),h._initialData=s,t.comment&&h.setCommentData(t);const[d,f]=h.pageDimensions,[p,v]=h.pageTranslation;if(a){const x=g(h,Zs,[]);for(let k=0;k<a.length;k+=8)x.push({x:(a[k]-p)/d,y:1-(a[k+1]-v)/f,width:(a[k+2]-a[k])/d,height:(a[k+1]-a[k+5])/f});A(y=h,me,rb).call(y),A(E=h,me,Qa).call(E),h.rotate(h.rotation)}else if(u){g(h,tn,!0);const x=u[0],k={x:x[0]-p,y:f-(x[1]-v)},_=new ib(k,[0,0,d,f],1,l(h,Gi)/2,!0,.001);for(let L=0,D=x.length;L<D;L+=2)k.x=x[L]-p,k.y=f-(x[L+1]-v),_.add(k);const{id:C,clipPathId:P}=i.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:h.color,"fill-opacity":h._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:_.toSVGPath()}},!0,!0);A(m=h,me,ey).call(m,{highlightOutlines:_.getOutlines(),highlightId:C,clipPathId:P}),A(b=h,me,Qa).call(b),h.rotate(h.parentRotation)}return h}serialize(t=!1){if(this.isEmpty()||t)return null;if(this.deleted)return this.serializeDeleted();const i=Qe._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),r=super.serialize(t);return Object.assign(r,{color:i,opacity:this.opacity,thickness:l(this,Gi),quadPoints:A(this,me,m2).call(this),outlines:A(this,me,g2).call(this,r.rect)}),this.addComment(r),this.annotationElementId&&!A(this,me,x2).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Rh=new WeakMap,dm=new WeakMap,Zs=new WeakMap,tu=new WeakMap,fm=new WeakMap,qn=new WeakMap,pm=new WeakMap,mm=new WeakMap,nu=new WeakMap,vi=new WeakMap,xi=new WeakMap,tn=new WeakMap,Nh=new WeakMap,Lh=new WeakMap,xn=new WeakMap,Mh=new WeakMap,Gi=new WeakMap,gm=new WeakMap,me=new WeakSet,rb=function(){const t=new tb(l(this,Zs),.001);g(this,vi,t.getOutlines()),[this.x,this.y,this.width,this.height]=l(this,vi).box;const i=new tb(l(this,Zs),.0025,.001,this._uiManager.direction==="ltr");g(this,qn,i.getOutlines());const{firstPoint:r}=l(this,vi);g(this,Nh,[(r[0]-this.x)/this.width,(r[1]-this.y)/this.height]);const{lastPoint:s}=l(this,qn);g(this,Lh,[(s[0]-this.x)/this.width,(s[1]-this.y)/this.height])},ey=function({highlightOutlines:t,highlightId:i,clipPathId:r}){var f,p;if(g(this,vi,t),g(this,qn,t.getNewOutline(l(this,Gi)/2+1.5,.0025)),i>=0)g(this,xi,i),g(this,tu,r),this.parent.drawLayer.finalizeDraw(i,{bbox:t.box,path:{d:t.toSVGPath()}}),g(this,xn,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:l(this,qn).box,path:{d:l(this,qn).toSVGPath()}},!0));else if(this.parent){const v=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(l(this,xi),{bbox:A(f=Te,Ji,$u).call(f,l(this,vi).box,(v-this.rotation+360)%360),path:{d:t.toSVGPath()}}),this.parent.drawLayer.updateProperties(l(this,xn),{bbox:A(p=Te,Ji,$u).call(p,l(this,qn).box,v),path:{d:l(this,qn).toSVGPath()}})}const[o,a,u,c]=t.box;switch(this.rotation){case 0:this.x=o,this.y=a,this.width=u,this.height=c;break;case 90:{const[v,y]=this.parentDimensions;this.x=a,this.y=1-o,this.width=u*y/v,this.height=c*v/y;break}case 180:this.x=1-o,this.y=1-a,this.width=u,this.height=c;break;case 270:{const[v,y]=this.parentDimensions;this.x=1-a,this.y=o,this.width=u*y/v,this.height=c*v/y;break}}const{firstPoint:h}=t;g(this,Nh,[(h[0]-o)/u,(h[1]-a)/c]);const{lastPoint:d}=l(this,qn);g(this,Lh,[(d[0]-o)/u,(d[1]-a)/c])},h2=function(t){const i=(o,a)=>{this.color=o,this.opacity=a,this.onUpdatedColor()},r=this.color,s=this.opacity;this.addCommands({cmd:i.bind(this,t,Te._defaultOpacity),undo:i.bind(this,r,s),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Se.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(t)},!0)},d2=function(t){const i=l(this,Gi),r=s=>{g(this,Gi,s),A(this,me,f2).call(this,s)};this.addCommands({cmd:r.bind(this,t),undo:r.bind(this,i),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Se.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:t},!0)},f2=function(t){l(this,tn)&&(A(this,me,ey).call(this,{highlightOutlines:l(this,vi).getNewOutline(t/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},sb=function(){l(this,xi)===null||!this.parent||(this.parent.drawLayer.remove(l(this,xi)),g(this,xi,null),this.parent.drawLayer.remove(l(this,xn)),g(this,xn,null))},Qa=function(t=this.parent){l(this,xi)===null&&({id:Lt(this,xi)._,clipPathId:Lt(this,tu)._}=t.drawLayer.draw({bbox:l(this,vi).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:l(this,tn)},path:{d:l(this,vi).toSVGPath()}},!1,!0),g(this,xn,t.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:l(this,tn)},bbox:l(this,qn).box,path:{d:l(this,qn).toSVGPath()}},l(this,tn))),l(this,nu)&&(l(this,nu).style.clipPath=l(this,tu)))},Ji=new WeakSet,$u=function([t,i,r,s],o){switch(o){case 90:return[1-i-s,t,s,r];case 180:return[1-t-r,1-i-s,r,s];case 270:return[i,1-t-r,s,r]}return[t,i,r,s]},p2=function(t){Te._keyboardManager.exec(this,t)},ty=function(t){if(!l(this,Rh))return;const i=window.getSelection();t?i.setPosition(l(this,Rh),l(this,dm)):i.setPosition(l(this,pm),l(this,mm))},ny=function(){return l(this,tn)?this.rotation:0},m2=function(){if(l(this,tn))return null;const[t,i]=this.pageDimensions,[r,s]=this.pageTranslation,o=l(this,Zs),a=new Float32Array(o.length*8);let u=0;for(const{x:c,y:h,width:d,height:f}of o){const p=c*t+r,v=(1-h)*i+s;a[u]=a[u+4]=p,a[u+1]=a[u+3]=v,a[u+2]=a[u+6]=p+d*t,a[u+5]=a[u+7]=v-f*i,u+=8}return a},g2=function(t){return l(this,vi).serialize(t,A(this,me,ny).call(this))},y2=function(t,i){this._freeHighlight.add(i)&&t.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},v2=function(t,i){this._freeHighlight.isEmpty()?t.drawLayer.remove(this._freeHighlightId):t.createAndAddNewEditor(i,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},x2=function(t){const{color:i}=this._initialData;return this.hasEditedComment||t.color.some((r,s)=>r!==i[s])},S(Te,Ji),B(Te,"_defaultColor",null),B(Te,"_defaultOpacity",1),B(Te,"_defaultThickness",12),B(Te,"_type","highlight"),B(Te,"_editorType",ae.HIGHLIGHT),B(Te,"_freeHighlightId",-1),B(Te,"_freeHighlight",null),B(Te,"_freeHighlightClipId","");let qy=Te;var iu;class w2{constructor(){S(this,iu,Object.create(null))}updateProperty(e,t){this[e]=t,this.updateSVGProperty(e,t)}updateProperties(e){if(e)for(const[t,i]of Object.entries(e))t.startsWith("_")||this.updateProperty(t,i)}updateSVGProperty(e,t){l(this,iu)[e]=t}toSVGProperties(){const e=l(this,iu);return g(this,iu,Object.create(null)),{root:e}}reset(){g(this,iu,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){We("Not implemented")}}iu=new WeakMap;var wi,Dh,Ht,ru,su,ha,da,fa,ou,Ce,ob,ab,lb,Yd,b2,iy,Kd,Vu;const ee=class ee extends Qe{constructor(t){super(t);S(this,Ce);S(this,wi,null);S(this,Dh);B(this,"_colorPicker",null);B(this,"_drawId",null);g(this,Dh,t.mustBeCommitted||!1),this._addOutlines(t)}onUpdatedColor(){var t;(t=this._colorPicker)==null||t.update(this.color),super.onUpdatedColor()}_addOutlines(t){t.drawOutlines&&(A(this,Ce,ob).call(this,t),A(this,Ce,Yd).call(this))}static _mergeSVGProperties(t,i){const r=new Set(Object.keys(t));for(const[s,o]of Object.entries(i))r.has(s)?Object.assign(t[s],o):t[s]=o;return t}static getDefaultDrawingOptions(t){We("Not implemented")}static get typesMap(){We("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(t,i){const r=this.typesMap.get(t);r&&this._defaultDrawingOptions.updateProperty(r,i),this._currentParent&&(l(ee,Ht).updateProperty(r,i),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(t,i){const r=this.constructor.typesMap.get(t);r&&this._updateProperty(t,r,i)}static get defaultPropertiesToUpdate(){const t=[],i=this._defaultDrawingOptions;for(const[r,s]of this.typesMap)t.push([r,i[s]]);return t}get propertiesToUpdate(){const t=[],{_drawingOptions:i}=this;for(const[r,s]of this.constructor.typesMap)t.push([r,i[s]]);return t}_updateProperty(t,i,r){const s=this._drawingOptions,o=s[i],a=u=>{var h;s.updateProperty(i,u);const c=l(this,wi).updateProperty(i,u);c&&A(this,Ce,Kd).call(this,c),(h=this.parent)==null||h.drawLayer.updateProperties(this._drawId,s.toSVGProperties()),t===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:a.bind(this,r),undo:a.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:t,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ee._mergeSVGProperties(l(this,wi).getPathResizingSVGProperties(A(this,Ce,iy).call(this)),{bbox:A(this,Ce,Vu).call(this)}))}_onResized(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ee._mergeSVGProperties(l(this,wi).getPathResizedSVGProperties(A(this,Ce,iy).call(this)),{bbox:A(this,Ce,Vu).call(this)}))}_onTranslating(t,i){var r;(r=this.parent)==null||r.drawLayer.updateProperties(this._drawId,{bbox:A(this,Ce,Vu).call(this)})}_onTranslated(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,ee._mergeSVGProperties(l(this,wi).getPathTranslatedSVGProperties(A(this,Ce,iy).call(this),this.parentDimensions),{bbox:A(this,Ce,Vu).call(this)}))}_onStartDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var t;(t=this.parent)==null||t.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(t){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,l(this,Dh)&&(g(this,Dh,!1),this.commit(),this.parent.setSelected(this),t&&this.isOnScreen&&this.div.focus())}remove(){A(this,Ce,lb).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(A(this,Ce,Yd).call(this),A(this,Ce,Kd).call(this,l(this,wi).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(t){var r;let i=!1;this.parent&&!t?(this._uiManager.removeShouldRescale(this),A(this,Ce,lb).call(this)):t&&(this._uiManager.addShouldRescale(this),A(this,Ce,Yd).call(this,t),i=!this.parent&&((r=this.div)==null?void 0:r.classList.contains("selectedEditor"))),super.setParent(t),i&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,ee._mergeSVGProperties({bbox:A(this,Ce,Vu).call(this)},l(this,wi).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&A(this,Ce,Kd).call(this,l(this,wi).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let t,i;this._isCopy&&(t=this.x,i=this.y);const r=super.render();r.classList.add("draw");const s=document.createElement("div");return r.append(s),s.setAttribute("aria-hidden","true"),s.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(t,i),r}static createDrawerInstance(t,i,r,s,o){We("Not implemented")}static startDrawing(t,i,r,s){var E;const{target:o,offsetX:a,offsetY:u,pointerId:c,pointerType:h}=s;if(l(ee,da)&&l(ee,da)!==h)return;const{viewport:{rotation:d}}=t,{width:f,height:p}=o.getBoundingClientRect(),v=g(ee,ru,new AbortController),y=t.combinedSignal(v);if(l(ee,ha)||g(ee,ha,c),l(ee,da)??g(ee,da,h),window.addEventListener("pointerup",m=>{var b;l(ee,ha)===m.pointerId?this._endDraw(m):(b=l(ee,fa))==null||b.delete(m.pointerId)},{signal:y}),window.addEventListener("pointercancel",m=>{var b;l(ee,ha)===m.pointerId?this._currentParent.endDrawingSession():(b=l(ee,fa))==null||b.delete(m.pointerId)},{signal:y}),window.addEventListener("pointerdown",m=>{l(ee,da)===m.pointerType&&((l(ee,fa)||g(ee,fa,new Set)).add(m.pointerId),l(ee,Ht).isCancellable()&&(l(ee,Ht).removeLastElement(),l(ee,Ht).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:y}),window.addEventListener("contextmenu",Li,{signal:y}),o.addEventListener("pointermove",this._drawMove.bind(this),{signal:y}),o.addEventListener("touchmove",m=>{m.timeStamp===l(ee,ou)&&ut(m)},{signal:y}),t.toggleDrawing(),(E=i._editorUndoBar)==null||E.hide(),l(ee,Ht)){t.drawLayer.updateProperties(this._currentDrawId,l(ee,Ht).startNew(a,u,f,p,d));return}i.updateUIForDefaultProperties(this),g(ee,Ht,this.createDrawerInstance(a,u,f,p,d)),g(ee,su,this.getDefaultDrawingOptions()),this._currentParent=t,{id:this._currentDrawId}=t.drawLayer.draw(this._mergeSVGProperties(l(ee,su).toSVGProperties(),l(ee,Ht).defaultSVGProperties),!0,!1)}static _drawMove(t){var o;if(g(ee,ou,-1),!l(ee,Ht))return;const{offsetX:i,offsetY:r,pointerId:s}=t;if(l(ee,ha)===s){if(((o=l(ee,fa))==null?void 0:o.size)>=1){this._endDraw(t);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,l(ee,Ht).add(i,r)),g(ee,ou,t.timeStamp),ut(t)}}static _cleanup(t){t&&(this._currentDrawId=-1,this._currentParent=null,g(ee,Ht,null),g(ee,su,null),g(ee,da,null),g(ee,ou,NaN)),l(ee,ru)&&(l(ee,ru).abort(),g(ee,ru,null),g(ee,ha,NaN),g(ee,fa,null))}static _endDraw(t){const i=this._currentParent;if(i){if(i.toggleDrawing(!0),this._cleanup(!1),(t==null?void 0:t.target)===i.div&&i.drawLayer.updateProperties(this._currentDrawId,l(ee,Ht).end(t.offsetX,t.offsetY)),this.supportMultipleDrawings){const r=l(ee,Ht),s=this._currentDrawId,o=r.getLastElement();i.addCommands({cmd:()=>{i.drawLayer.updateProperties(s,r.setLastElement(o))},undo:()=>{i.drawLayer.updateProperties(s,r.removeLastElement())},mustExec:!1,type:Se.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(t){const i=this._currentParent;if(!i)return null;if(i.toggleDrawing(!0),i.cleanUndoStack(Se.DRAW_STEP),!l(ee,Ht).isEmpty()){const{pageDimensions:[r,s],scale:o}=i,a=i.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:l(ee,Ht).getOutlines(r*o,s*o,o,this._INNER_MARGIN),drawingOptions:l(ee,su),mustBeCommitted:!t});return this._cleanup(!0),a}return i.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(t){}static deserializeDraw(t,i,r,s,o,a){We("Not implemented")}static async deserialize(t,i,r){var d,f;const{rawDims:{pageWidth:s,pageHeight:o,pageX:a,pageY:u}}=i.viewport,c=this.deserializeDraw(a,u,s,o,this._INNER_MARGIN,t),h=await super.deserialize(t,i,r);return h.createDrawingOptions(t),A(d=h,Ce,ob).call(d,{drawOutlines:c}),A(f=h,Ce,Yd).call(f),h.onScaleChanging(),h.rotate(),h}serializeDraw(t){const[i,r]=this.pageTranslation,[s,o]=this.pageDimensions;return l(this,wi).serialize([i,r,s,o],t)}renderAnnotationElement(t){return t.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};wi=new WeakMap,Dh=new WeakMap,Ht=new WeakMap,ru=new WeakMap,su=new WeakMap,ha=new WeakMap,da=new WeakMap,fa=new WeakMap,ou=new WeakMap,Ce=new WeakSet,ob=function({drawOutlines:t,drawId:i,drawingOptions:r}){g(this,wi,t),this._drawingOptions||(this._drawingOptions=r),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),i>=0?(this._drawId=i,this.parent.drawLayer.finalizeDraw(i,t.defaultProperties)):this._drawId=A(this,Ce,ab).call(this,t,this.parent),A(this,Ce,Kd).call(this,t.box)},ab=function(t,i){const{id:r}=i.drawLayer.draw(ee._mergeSVGProperties(this._drawingOptions.toSVGProperties(),t.defaultSVGProperties),!1,!1);return r},lb=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Yd=function(t=this.parent){if(!(this._drawId!==null&&this.parent===t)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,t.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=A(this,Ce,ab).call(this,l(this,wi),t)}},b2=function([t,i,r,s]){const{parentDimensions:[o,a],rotation:u}=this;switch(u){case 90:return[i,1-t,r*(a/o),s*(o/a)];case 180:return[1-t,1-i,r,s];case 270:return[1-i,t,r*(a/o),s*(o/a)];default:return[t,i,r,s]}},iy=function(){const{x:t,y:i,width:r,height:s,parentDimensions:[o,a],rotation:u}=this;switch(u){case 90:return[1-i,t,r*(o/a),s*(a/o)];case 180:return[1-t,1-i,r,s];case 270:return[i,1-t,r*(o/a),s*(a/o)];default:return[t,i,r,s]}},Kd=function(t){[this.x,this.y,this.width,this.height]=A(this,Ce,b2).call(this,t),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},Vu=function(){const{x:t,y:i,width:r,height:s,rotation:o,parentRotation:a,parentDimensions:[u,c]}=this;switch((o*4+a)/90){case 1:return[1-i-s,t,s,r];case 2:return[1-t-r,1-i-s,r,s];case 3:return[i,1-t-r,s,r];case 4:return[t,i-r*(u/c),s*(c/u),r*(u/c)];case 5:return[1-i,t,r*(u/c),s*(c/u)];case 6:return[1-t-s*(c/u),1-i,s*(c/u),r*(u/c)];case 7:return[i-r*(u/c),1-t-s*(c/u),r*(u/c),s*(c/u)];case 8:return[t-r,i-s,r,s];case 9:return[1-i,t-r,s,r];case 10:return[1-t,1-i,r,s];case 11:return[i-s,1-t,s,r];case 12:return[t-s*(c/u),i,s*(c/u),r*(u/c)];case 13:return[1-i-r*(u/c),t-s*(c/u),r*(u/c),s*(c/u)];case 14:return[1-t,1-i-r*(u/c),s*(c/u),r*(u/c)];case 15:return[i,1-t,r*(u/c),s*(c/u)];default:return[t,i,r,s]}},B(ee,"_currentDrawId",-1),B(ee,"_currentParent",null),S(ee,Ht,null),S(ee,ru,null),S(ee,su,null),S(ee,ha,NaN),S(ee,da,null),S(ee,fa,null),S(ee,ou,NaN),B(ee,"_INNER_MARGIN",3);let Xy=ee;var ts,$t,Vt,au,Ih,Tn,nn,qi,lu,uu,cu,Fh,ry;class Q3{constructor(e,t,i,r,s,o){S(this,Fh);S(this,ts,new Float64Array(6));S(this,$t);S(this,Vt);S(this,au);S(this,Ih);S(this,Tn);S(this,nn,"");S(this,qi,0);S(this,lu,new Fm);S(this,uu);S(this,cu);g(this,uu,i),g(this,cu,r),g(this,au,s),g(this,Ih,o),[e,t]=A(this,Fh,ry).call(this,e,t);const a=g(this,$t,[NaN,NaN,NaN,NaN,e,t]);g(this,Tn,[e,t]),g(this,Vt,[{line:a,points:l(this,Tn)}]),l(this,ts).set(a,0)}updateProperty(e,t){e==="stroke-width"&&g(this,Ih,t)}isEmpty(){return!l(this,Vt)||l(this,Vt).length===0}isCancellable(){return l(this,Tn).length<=10}add(e,t){[e,t]=A(this,Fh,ry).call(this,e,t);const[i,r,s,o]=l(this,ts).subarray(2,6),a=e-s,u=t-o;return Math.hypot(l(this,uu)*a,l(this,cu)*u)<=2?null:(l(this,Tn).push(e,t),isNaN(i)?(l(this,ts).set([s,o,e,t],2),l(this,$t).push(NaN,NaN,NaN,NaN,e,t),{path:{d:this.toSVGPath()}}):(isNaN(l(this,ts)[0])&&l(this,$t).splice(6,6),l(this,ts).set([i,r,s,o,e,t],0),l(this,$t).push(...Q.createBezierPoints(i,r,s,o,e,t)),{path:{d:this.toSVGPath()}}))}end(e,t){const i=this.add(e,t);return i||(l(this,Tn).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,t,i,r,s){g(this,uu,i),g(this,cu,r),g(this,au,s),[e,t]=A(this,Fh,ry).call(this,e,t);const o=g(this,$t,[NaN,NaN,NaN,NaN,e,t]);g(this,Tn,[e,t]);const a=l(this,Vt).at(-1);return a&&(a.line=new Float32Array(a.line),a.points=new Float32Array(a.points)),l(this,Vt).push({line:o,points:l(this,Tn)}),l(this,ts).set(o,0),g(this,qi,0),this.toSVGPath(),null}getLastElement(){return l(this,Vt).at(-1)}setLastElement(e){return l(this,Vt)?(l(this,Vt).push(e),g(this,$t,e.line),g(this,Tn,e.points),g(this,qi,0),{path:{d:this.toSVGPath()}}):l(this,lu).setLastElement(e)}removeLastElement(){if(!l(this,Vt))return l(this,lu).removeLastElement();l(this,Vt).pop(),g(this,nn,"");for(let e=0,t=l(this,Vt).length;e<t;e++){const{line:i,points:r}=l(this,Vt)[e];g(this,$t,i),g(this,Tn,r),g(this,qi,0),this.toSVGPath()}return{path:{d:l(this,nn)}}}toSVGPath(){const e=Q.svgRound(l(this,$t)[4]),t=Q.svgRound(l(this,$t)[5]);if(l(this,Tn).length===2)return g(this,nn,`${l(this,nn)} M ${e} ${t} Z`),l(this,nn);if(l(this,Tn).length<=6){const r=l(this,nn).lastIndexOf("M");g(this,nn,`${l(this,nn).slice(0,r)} M ${e} ${t}`),g(this,qi,6)}if(l(this,Tn).length===4){const r=Q.svgRound(l(this,$t)[10]),s=Q.svgRound(l(this,$t)[11]);return g(this,nn,`${l(this,nn)} L ${r} ${s}`),g(this,qi,12),l(this,nn)}const i=[];l(this,qi)===0&&(i.push(`M ${e} ${t}`),g(this,qi,6));for(let r=l(this,qi),s=l(this,$t).length;r<s;r+=6){const[o,a,u,c,h,d]=l(this,$t).slice(r,r+6).map(Q.svgRound);i.push(`C${o} ${a} ${u} ${c} ${h} ${d}`)}return g(this,nn,l(this,nn)+i.join(" ")),g(this,qi,l(this,$t).length),l(this,nn)}getOutlines(e,t,i,r){const s=l(this,Vt).at(-1);return s.line=new Float32Array(s.line),s.points=new Float32Array(s.points),l(this,lu).build(l(this,Vt),e,t,i,l(this,au),l(this,Ih),r),g(this,ts,null),g(this,$t,null),g(this,Vt,null),g(this,nn,null),l(this,lu)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}ts=new WeakMap,$t=new WeakMap,Vt=new WeakMap,au=new WeakMap,Ih=new WeakMap,Tn=new WeakMap,nn=new WeakMap,qi=new WeakMap,lu=new WeakMap,uu=new WeakMap,cu=new WeakMap,Fh=new WeakSet,ry=function(e,t){return Q._normalizePoint(e,t,l(this,uu),l(this,cu),l(this,au))};var Pn,ym,vm,bi,ns,is,Oh,jh,hu,on,ws,S2,A2,E2;class Fm extends Q{constructor(){super(...arguments);S(this,on);S(this,Pn);S(this,ym,0);S(this,vm);S(this,bi);S(this,ns);S(this,is);S(this,Oh);S(this,jh);S(this,hu)}build(t,i,r,s,o,a,u){g(this,ns,i),g(this,is,r),g(this,Oh,s),g(this,jh,o),g(this,hu,a),g(this,vm,u??0),g(this,bi,t),A(this,on,A2).call(this)}get thickness(){return l(this,hu)}setLastElement(t){return l(this,bi).push(t),{path:{d:this.toSVGPath()}}}removeLastElement(){return l(this,bi).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const t=[];for(const{line:i}of l(this,bi)){if(t.push(`M${Q.svgRound(i[4])} ${Q.svgRound(i[5])}`),i.length===6){t.push("Z");continue}if(i.length===12&&isNaN(i[6])){t.push(`L${Q.svgRound(i[10])} ${Q.svgRound(i[11])}`);continue}for(let r=6,s=i.length;r<s;r+=6){const[o,a,u,c,h,d]=i.subarray(r,r+6).map(Q.svgRound);t.push(`C${o} ${a} ${u} ${c} ${h} ${d}`)}}return t.join("")}serialize([t,i,r,s],o){const a=[],u=[],[c,h,d,f]=A(this,on,S2).call(this);let p,v,y,E,m,b,x,k,_;switch(l(this,jh)){case 0:_=Q._rescale,p=t,v=i+s,y=r,E=-s,m=t+c*r,b=i+(1-h-f)*s,x=t+(c+d)*r,k=i+(1-h)*s;break;case 90:_=Q._rescaleAndSwap,p=t,v=i,y=r,E=s,m=t+h*r,b=i+c*s,x=t+(h+f)*r,k=i+(c+d)*s;break;case 180:_=Q._rescale,p=t+r,v=i,y=-r,E=s,m=t+(1-c-d)*r,b=i+h*s,x=t+(1-c)*r,k=i+(h+f)*s;break;case 270:_=Q._rescaleAndSwap,p=t+r,v=i+s,y=-r,E=-s,m=t+(1-h-f)*r,b=i+(1-c-d)*s,x=t+(1-h)*r,k=i+(1-c)*s;break}for(const{line:C,points:P}of l(this,bi))a.push(_(C,p,v,y,E,o?new Array(C.length):null)),u.push(_(P,p,v,y,E,o?new Array(P.length):null));return{lines:a,points:u,rect:[m,b,x,k]}}static deserialize(t,i,r,s,o,{paths:{lines:a,points:u},rotation:c,thickness:h}){const d=[];let f,p,v,y,E;switch(c){case 0:E=Q._rescale,f=-t/r,p=i/s+1,v=1/r,y=-1/s;break;case 90:E=Q._rescaleAndSwap,f=-i/s,p=-t/r,v=1/s,y=1/r;break;case 180:E=Q._rescale,f=t/r+1,p=-i/s,v=-1/r,y=1/s;break;case 270:E=Q._rescaleAndSwap,f=i/s+1,p=t/r+1,v=-1/s,y=-1/r;break}if(!a){a=[];for(const b of u){const x=b.length;if(x===2){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1]]));continue}if(x===4){a.push(new Float32Array([NaN,NaN,NaN,NaN,b[0],b[1],NaN,NaN,NaN,NaN,b[2],b[3]]));continue}const k=new Float32Array(3*(x-2));a.push(k);let[_,C,P,L]=b.subarray(0,4);k.set([NaN,NaN,NaN,NaN,_,C],0);for(let D=4;D<x;D+=2){const M=b[D],I=b[D+1];k.set(Q.createBezierPoints(_,C,P,L,M,I),(D-2)*3),[_,C,P,L]=[P,L,M,I]}}}for(let b=0,x=a.length;b<x;b++)d.push({line:E(a[b].map(k=>k??NaN),f,p,v,y),points:E(u[b].map(k=>k??NaN),f,p,v,y)});const m=new this.prototype.constructor;return m.build(d,r,s,1,c,h,o),m}get box(){return l(this,Pn)}updateProperty(t,i){return t==="stroke-width"?A(this,on,E2).call(this,i):null}updateParentDimensions([t,i],r){const[s,o]=A(this,on,ws).call(this);g(this,ns,t),g(this,is,i),g(this,Oh,r);const[a,u]=A(this,on,ws).call(this),c=a-s,h=u-o,d=l(this,Pn);return d[0]-=c,d[1]-=h,d[2]+=2*c,d[3]+=2*h,d}updateRotation(t){return g(this,ym,t),{path:{transform:this.rotationTransform}}}get viewBox(){return l(this,Pn).map(Q.svgRound).join(" ")}get defaultProperties(){const[t,i]=l(this,Pn);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Q.svgRound(t)} ${Q.svgRound(i)}`}}}get rotationTransform(){const[,,t,i]=l(this,Pn);let r=0,s=0,o=0,a=0,u=0,c=0;switch(l(this,ym)){case 90:s=i/t,o=-t/i,u=t;break;case 180:r=-1,a=-1,u=t,c=i;break;case 270:s=-i/t,o=t/i,c=i;break;default:return""}return`matrix(${r} ${s} ${o} ${a} ${Q.svgRound(u)} ${Q.svgRound(c)})`}getPathResizingSVGProperties([t,i,r,s]){const[o,a]=A(this,on,ws).call(this),[u,c,h,d]=l(this,Pn);if(Math.abs(h-o)<=Q.PRECISION||Math.abs(d-a)<=Q.PRECISION){const E=t+r/2-(u+h/2),m=i+s/2-(c+d/2);return{path:{"transform-origin":`${Q.svgRound(t)} ${Q.svgRound(i)}`,transform:`${this.rotationTransform} translate(${E} ${m})`}}}const f=(r-2*o)/(h-2*o),p=(s-2*a)/(d-2*a),v=h/r,y=d/s;return{path:{"transform-origin":`${Q.svgRound(u)} ${Q.svgRound(c)}`,transform:`${this.rotationTransform} scale(${v} ${y}) translate(${Q.svgRound(o)} ${Q.svgRound(a)}) scale(${f} ${p}) translate(${Q.svgRound(-o)} ${Q.svgRound(-a)})`}}}getPathResizedSVGProperties([t,i,r,s]){const[o,a]=A(this,on,ws).call(this),u=l(this,Pn),[c,h,d,f]=u;if(u[0]=t,u[1]=i,u[2]=r,u[3]=s,Math.abs(d-o)<=Q.PRECISION||Math.abs(f-a)<=Q.PRECISION){const m=t+r/2-(c+d/2),b=i+s/2-(h+f/2);for(const{line:x,points:k}of l(this,bi))Q._translate(x,m,b,x),Q._translate(k,m,b,k);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Q.svgRound(t)} ${Q.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const p=(r-2*o)/(d-2*o),v=(s-2*a)/(f-2*a),y=-p*(c+o)+t+o,E=-v*(h+a)+i+a;if(p!==1||v!==1||y!==0||E!==0)for(const{line:m,points:b}of l(this,bi))Q._rescale(m,y,E,p,v,m),Q._rescale(b,y,E,p,v,b);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Q.svgRound(t)} ${Q.svgRound(i)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([t,i],r){const[s,o]=r,a=l(this,Pn),u=t-a[0],c=i-a[1];if(l(this,ns)===s&&l(this,is)===o)for(const{line:h,points:d}of l(this,bi))Q._translate(h,u,c,h),Q._translate(d,u,c,d);else{const h=l(this,ns)/s,d=l(this,is)/o;g(this,ns,s),g(this,is,o);for(const{line:f,points:p}of l(this,bi))Q._rescale(f,u,c,h,d,f),Q._rescale(p,u,c,h,d,p);a[2]*=h,a[3]*=d}return a[0]=t,a[1]=i,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Q.svgRound(t)} ${Q.svgRound(i)}`}}}get defaultSVGProperties(){const t=l(this,Pn);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Q.svgRound(t[0])} ${Q.svgRound(t[1])}`,transform:this.rotationTransform||null},bbox:t}}}Pn=new WeakMap,ym=new WeakMap,vm=new WeakMap,bi=new WeakMap,ns=new WeakMap,is=new WeakMap,Oh=new WeakMap,jh=new WeakMap,hu=new WeakMap,on=new WeakSet,ws=function(t=l(this,hu)){const i=l(this,vm)+t/2*l(this,Oh);return l(this,jh)%180===0?[i/l(this,ns),i/l(this,is)]:[i/l(this,is),i/l(this,ns)]},S2=function(){const[t,i,r,s]=l(this,Pn),[o,a]=A(this,on,ws).call(this,0);return[t+o,i+a,r-2*o,s-2*a]},A2=function(){const t=g(this,Pn,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:s}of l(this,bi)){if(s.length<=12){for(let u=4,c=s.length;u<c;u+=6)J.pointBoundingBox(s[u],s[u+1],t);continue}let o=s[4],a=s[5];for(let u=6,c=s.length;u<c;u+=6){const[h,d,f,p,v,y]=s.subarray(u,u+6);J.bezierBoundingBox(o,a,h,d,f,p,v,y,t),o=v,a=y}}const[i,r]=A(this,on,ws).call(this);t[0]=wn(t[0]-i,0,1),t[1]=wn(t[1]-r,0,1),t[2]=wn(t[2]+i,0,1),t[3]=wn(t[3]+r,0,1),t[2]-=t[0],t[3]-=t[1]},E2=function(t){const[i,r]=A(this,on,ws).call(this);g(this,hu,t);const[s,o]=A(this,on,ws).call(this),[a,u]=[s-i,o-r],c=l(this,Pn);return c[0]-=a,c[1]-=u,c[2]+=2*a,c[3]+=2*u,c};class $0 extends w2{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:Qe._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,t){e==="stroke-width"&&(t??(t=this["stroke-width"]),t*=this._viewParameters.realScale),super.updateSVGProperty(e,t)}clone(){const e=new $0(this._viewParameters);return e.updateAll(this),e}}var p0,k2;const ac=class ac extends Xy{constructor(t){super({...t,name:"inkEditor"});S(this,p0);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(t,i){Qe.initialize(t,i),this._defaultDrawingOptions=new $0(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!0}static get typesMap(){return pe(this,"typesMap",new Map([[Se.INK_THICKNESS,"stroke-width"],[Se.INK_COLOR,"stroke"],[Se.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(t,i,r,s,o){return new Q3(t,i,r,s,o,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(t,i,r,s,o,a){return Fm.deserialize(t,i,r,s,o,a)}static async deserialize(t,i,r){let s=null;if(t instanceof iS){const{data:{inkLists:a,rect:u,rotation:c,id:h,color:d,opacity:f,borderStyle:{rawWidth:p},popupRef:v,richText:y,contentsObj:E,creationDate:m,modificationDate:b},parent:{page:{pageNumber:x}}}=t;s=t={annotationType:ae.INK,color:Array.from(d),thickness:p,opacity:f,paths:{points:a},boxes:null,pageIndex:x-1,rect:u.slice(0),rotation:c,annotationElementId:h,id:h,deleted:!1,popupRef:v,richText:y,comment:(E==null?void 0:E.str)||null,creationDate:m,modificationDate:b}}const o=await super.deserialize(t,i,r);return o._initialData=s,t.comment&&o.setCommentData(t),o}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new Wy(this)),[["colorPicker",this._colorPicker]]}get colorType(){return Se.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:t,_drawingOptions:i,parent:r}=this;i.updateSVGProperty("stroke-width"),r.drawLayer.updateProperties(t,i.toSVGProperties())}static onScaleChangingWhenDrawing(){const t=this._currentParent;t&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),t.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:t,thickness:i,opacity:r}){this._drawingOptions=ac.getDefaultDrawingOptions({stroke:J.makeHexColor(...t),"stroke-width":i,"stroke-opacity":r})}serialize(t=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{stroke:s,"stroke-opacity":o,"stroke-width":a}}=this,u=Object.assign(super.serialize(t),{color:Qe._colorManager.convert(s),opacity:o,thickness:a,paths:{lines:i,points:r}});return this.addComment(u),t?(u.isCopy=!0,u):this.annotationElementId&&!A(this,p0,k2).call(this,u)?null:(u.id=this.annotationElementId,u)}renderAnnotationElement(t){if(this.deleted)return t.hide(),null;const{points:i,rect:r}=this.serializeDraw(!1);return t.updateEdited({rect:r,thickness:this._drawingOptions["stroke-width"],points:i,popup:this.comment}),null}};p0=new WeakSet,k2=function(t){const{color:i,thickness:r,opacity:s,pageIndex:o}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||t.color.some((a,u)=>a!==i[u])||t.thickness!==r||t.opacity!==s||t.pageIndex!==o},B(ac,"_type","ink"),B(ac,"_editorType",ae.INK),B(ac,"_defaultDrawingOptions",null);let ub=ac;class cb extends Fm{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const mg=8,_d=3;var du,Ne,hb,xr,C2,_2,db,sy,T2,P2,R2,fb,pb,N2;class us{static extractContoursFromText(e,{fontFamily:t,fontStyle:i,fontWeight:r},s,o,a,u){let c=new OffscreenCanvas(1,1),h=c.getContext("2d",{alpha:!1});const d=200,f=h.font=`${i} ${r} ${d}px ${t}`,{actualBoundingBoxLeft:p,actualBoundingBoxRight:v,actualBoundingBoxAscent:y,actualBoundingBoxDescent:E,fontBoundingBoxAscent:m,fontBoundingBoxDescent:b,width:x}=h.measureText(e),k=1.5,_=Math.ceil(Math.max(Math.abs(p)+Math.abs(v)||0,x)*k),C=Math.ceil(Math.max(Math.abs(y)+Math.abs(E)||d,Math.abs(m)+Math.abs(b)||d)*k);c=new OffscreenCanvas(_,C),h=c.getContext("2d",{alpha:!0,willReadFrequently:!0}),h.font=f,h.filter="grayscale(1)",h.fillStyle="white",h.fillRect(0,0,_,C),h.fillStyle="black",h.fillText(e,_*(k-1)/2,C*(3-k)/2);const P=A(this,Ne,fb).call(this,h.getImageData(0,0,_,C).data),L=A(this,Ne,R2).call(this,P),D=A(this,Ne,pb).call(this,L),M=A(this,Ne,db).call(this,P,_,C,D);return this.processDrawnLines({lines:{curves:M,width:_,height:C},pageWidth:s,pageHeight:o,rotation:a,innerMargin:u,mustSmooth:!0,areContours:!0})}static process(e,t,i,r,s){const[o,a,u]=A(this,Ne,N2).call(this,e),[c,h]=A(this,Ne,P2).call(this,o,a,u,Math.hypot(a,u)*l(this,du).sigmaSFactor,l(this,du).sigmaR,l(this,du).kernelSize),d=A(this,Ne,pb).call(this,h),f=A(this,Ne,db).call(this,c,a,u,d);return this.processDrawnLines({lines:{curves:f,width:a,height:u},pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:t,pageHeight:i,rotation:r,innerMargin:s,mustSmooth:o,areContours:a}){r%180!==0&&([t,i]=[i,t]);const{curves:u,width:c,height:h}=e,d=e.thickness??0,f=[],p=Math.min(t/c,i/h),v=p/t,y=p/i,E=[];for(const{points:b}of u){const x=o?A(this,Ne,T2).call(this,b):b;if(!x)continue;E.push(x);const k=x.length,_=new Float32Array(k),C=new Float32Array(3*(k===2?2:k-2));if(f.push({line:C,points:_}),k===2){_[0]=x[0]*v,_[1]=x[1]*y,C.set([NaN,NaN,NaN,NaN,_[0],_[1]],0);continue}let[P,L,D,M]=x;P*=v,L*=y,D*=v,M*=y,_.set([P,L,D,M],0),C.set([NaN,NaN,NaN,NaN,P,L],0);for(let I=4;I<k;I+=2){const F=_[I]=x[I]*v,W=_[I+1]=x[I+1]*y;C.set(Q.createBezierPoints(P,L,D,M,F,W),(I-2)*3),[P,L,D,M]=[D,M,F,W]}}if(f.length===0)return null;const m=a?new cb:new Fm;return m.build(f,t,i,1,r,a?0:d,s),{outline:m,newCurves:E,areContours:a,thickness:d,width:c,height:h}}static async compressSignature({outlines:e,areContours:t,thickness:i,width:r,height:s}){let o=1/0,a=-1/0,u=0;for(const x of e){u+=x.length;for(let k=2,_=x.length;k<_;k++){const C=x[k]-x[k-2];o=Math.min(o,C),a=Math.max(a,C)}}let c;o>=-128&&a<=127?c=Int8Array:o>=-32768&&a<=32767?c=Int16Array:c=Int32Array;const h=e.length,d=mg+_d*h,f=new Uint32Array(d);let p=0;f[p++]=d*Uint32Array.BYTES_PER_ELEMENT+(u-2*h)*c.BYTES_PER_ELEMENT,f[p++]=0,f[p++]=r,f[p++]=s,f[p++]=t?0:1,f[p++]=Math.max(0,Math.floor(i??0)),f[p++]=h,f[p++]=c.BYTES_PER_ELEMENT;for(const x of e)f[p++]=x.length-2,f[p++]=x[0],f[p++]=x[1];const v=new CompressionStream("deflate-raw"),y=v.writable.getWriter();await y.ready,y.write(f);const E=c.prototype.constructor;for(const x of e){const k=new E(x.length-2);for(let _=2,C=x.length;_<C;_++)k[_-2]=x[_]-x[_-2];y.write(k)}y.close();const m=await new Response(v.readable).arrayBuffer(),b=new Uint8Array(m);return TT(b)}static async decompressSignature(e){try{const t=SB(e),{readable:i,writable:r}=new DecompressionStream("deflate-raw"),s=r.getWriter();await s.ready,s.write(t).then(async()=>{await s.ready,await s.close()}).catch(()=>{});let o=null,a=0;for await(const x of i)o||(o=new Uint8Array(new Uint32Array(x.buffer,0,4)[0])),o.set(x,a),a+=x.length;const u=new Uint32Array(o.buffer,0,o.length>>2),c=u[1];if(c!==0)throw new Error(`Invalid version: ${c}`);const h=u[2],d=u[3],f=u[4]===0,p=u[5],v=u[6],y=u[7],E=[],m=(mg+_d*v)*Uint32Array.BYTES_PER_ELEMENT;let b;switch(y){case Int8Array.BYTES_PER_ELEMENT:b=new Int8Array(o.buffer,m);break;case Int16Array.BYTES_PER_ELEMENT:b=new Int16Array(o.buffer,m);break;case Int32Array.BYTES_PER_ELEMENT:b=new Int32Array(o.buffer,m);break}a=0;for(let x=0;x<v;x++){const k=u[_d*x+mg],_=new Float32Array(k+2);E.push(_);for(let C=0;C<_d-1;C++)_[C]=u[_d*x+mg+C+1];for(let C=0;C<k;C++)_[C+2]=_[C]+b[a++]}return{areContours:f,thickness:p,outlines:E,width:h,height:d}}catch(t){return le(`decompressSignature: ${t}`),null}}}du=new WeakMap,Ne=new WeakSet,hb=function(e,t,i,r){return i-=e,r-=t,i===0?r>0?0:4:i===1?r+6:2-r},xr=new WeakMap,C2=function(e,t,i,r,s,o,a){const u=A(this,Ne,hb).call(this,i,r,s,o);for(let c=0;c<8;c++){const h=(-c+u-a+16)%8,d=l(this,xr)[2*h],f=l(this,xr)[2*h+1];if(e[(i+d)*t+(r+f)]!==0)return h}return-1},_2=function(e,t,i,r,s,o,a){const u=A(this,Ne,hb).call(this,i,r,s,o);for(let c=0;c<8;c++){const h=(c+u+a+16)%8,d=l(this,xr)[2*h],f=l(this,xr)[2*h+1];if(e[(i+d)*t+(r+f)]!==0)return h}return-1},db=function(e,t,i,r){const s=e.length,o=new Int32Array(s);for(let h=0;h<s;h++)o[h]=e[h]<=r?1:0;for(let h=1;h<i-1;h++)o[h*t]=o[h*t+t-1]=0;for(let h=0;h<t;h++)o[h]=o[t*i-1-h]=0;let a=1,u;const c=[];for(let h=1;h<i-1;h++){u=1;for(let d=1;d<t-1;d++){const f=h*t+d,p=o[f];if(p===0)continue;let v=h,y=d;if(p===1&&o[f-1]===0)a+=1,y-=1;else if(p>=1&&o[f+1]===0)a+=1,y+=1,p>1&&(u=p);else{p!==1&&(u=Math.abs(p));continue}const E=[d,h],m=y===d+1,b={isHole:m,points:E,id:a,parent:0};c.push(b);let x;for(const I of c)if(I.id===u){x=I;break}x?x.isHole?b.parent=m?x.parent:u:b.parent=m?u:x.parent:b.parent=m?u:0;const k=A(this,Ne,C2).call(this,o,t,h,d,v,y,0);if(k===-1){o[f]=-a,o[f]!==1&&(u=Math.abs(o[f]));continue}let _=l(this,xr)[2*k],C=l(this,xr)[2*k+1];const P=h+_,L=d+C;v=P,y=L;let D=h,M=d;for(;;){const I=A(this,Ne,_2).call(this,o,t,D,M,v,y,1);_=l(this,xr)[2*I],C=l(this,xr)[2*I+1];const F=D+_,W=M+C;E.push(W,F);const z=D*t+M;if(o[z+1]===0?o[z]=-a:o[z]===1&&(o[z]=a),F===h&&W===d&&D===P&&M===L){o[f]!==1&&(u=Math.abs(o[f]));break}else v=D,y=M,D=F,M=W}}}return c},sy=function(e,t,i,r){if(i-t<=4){for(let P=t;P<i-2;P+=2)r.push(e[P],e[P+1]);return}const s=e[t],o=e[t+1],a=e[i-4]-s,u=e[i-3]-o,c=Math.hypot(a,u),h=a/c,d=u/c,f=h*o-d*s,p=u/a,v=1/c,y=Math.atan(p),E=Math.cos(y),m=Math.sin(y),b=v*(Math.abs(E)+Math.abs(m)),x=v*(1-b+b**2),k=Math.max(Math.atan(Math.abs(m+E)*x),Math.atan(Math.abs(m-E)*x));let _=0,C=t;for(let P=t+2;P<i-2;P+=2){const L=Math.abs(f-h*e[P+1]+d*e[P]);L>_&&(C=P,_=L)}_>(c*k)**2?(A(this,Ne,sy).call(this,e,t,C+2,r),A(this,Ne,sy).call(this,e,C,i,r)):r.push(s,o)},T2=function(e){const t=[],i=e.length;return A(this,Ne,sy).call(this,e,0,i,t),t.push(e[i-2],e[i-1]),t.length<=4?null:t},P2=function(e,t,i,r,s,o){const a=new Float32Array(o**2),u=-2*r**2,c=o>>1;for(let y=0;y<o;y++){const E=(y-c)**2;for(let m=0;m<o;m++)a[y*o+m]=Math.exp((E+(m-c)**2)/u)}const h=new Float32Array(256),d=-2*s**2;for(let y=0;y<256;y++)h[y]=Math.exp(y**2/d);const f=e.length,p=new Uint8Array(f),v=new Uint32Array(256);for(let y=0;y<i;y++)for(let E=0;E<t;E++){const m=y*t+E,b=e[m];let x=0,k=0;for(let C=0;C<o;C++){const P=y+C-c;if(!(P<0||P>=i))for(let L=0;L<o;L++){const D=E+L-c;if(D<0||D>=t)continue;const M=e[P*t+D],I=a[C*o+L]*h[Math.abs(M-b)];x+=M*I,k+=I}}const _=p[m]=Math.round(x/k);v[_]++}return[p,v]},R2=function(e){const t=new Uint32Array(256);for(const i of e)t[i]++;return t},fb=function(e){const t=e.length,i=new Uint8ClampedArray(t>>2);let r=-1/0,s=1/0;for(let a=0,u=i.length;a<u;a++){const c=i[a]=e[a<<2];r=Math.max(r,c),s=Math.min(s,c)}const o=255/(r-s);for(let a=0,u=i.length;a<u;a++)i[a]=(i[a]-s)*o;return i},pb=function(e){let t,i=-1/0,r=-1/0;const s=e.findIndex(u=>u!==0);let o=s,a=s;for(t=s;t<256;t++){const u=e[t];u>i&&(t-o>r&&(r=t-o,a=t-1),i=u,o=t)}for(t=a-1;t>=0&&!(e[t]>e[t+1]);t--);return t},N2=function(e){const t=e,{width:i,height:r}=e,{maxDim:s}=l(this,du);let o=i,a=r;if(i>s||r>s){let f=i,p=r,v=Math.log2(Math.max(i,r)/s);const y=Math.floor(v);v=v===y?y-1:y;for(let m=0;m<v;m++){o=Math.ceil(f/2),a=Math.ceil(p/2);const b=new OffscreenCanvas(o,a);b.getContext("2d").drawImage(e,0,0,f,p,0,0,o,a),f=o,p=a,e!==t&&e.close(),e=b.transferToImageBitmap()}const E=Math.min(s/o,s/a);o=Math.round(o*E),a=Math.round(a*E)}const c=new OffscreenCanvas(o,a).getContext("2d",{willReadFrequently:!0});c.fillStyle="white",c.fillRect(0,0,o,a),c.filter="grayscale(1)",c.drawImage(e,0,0,e.width,e.height,0,0,o,a);const h=c.getImageData(0,0,o,a).data;return[A(this,Ne,fb).call(this,h),o,a]},S(us,Ne),S(us,du,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),S(us,xr,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class sS extends w2{constructor(){super(),super.updateProperties({fill:Qe._defaultLineColor,"stroke-width":0})}clone(){const e=new sS;return e.updateAll(this),e}}class oS extends $0{constructor(e){super(e),super.updateProperties({stroke:Qe._defaultLineColor,"stroke-width":1})}clone(){const e=new oS(this._viewParameters);return e.updateAll(this),e}}var pa,rs,ma,fu;const si=class si extends Xy{constructor(t){super({...t,mustBeCommitted:!0,name:"signatureEditor"});S(this,pa,!1);S(this,rs,null);S(this,ma,null);S(this,fu,null);this._willKeepAspectRatio=!0,g(this,ma,t.signatureData||null),g(this,rs,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(t,i){Qe.initialize(t,i),this._defaultDrawingOptions=new sS,this._defaultDrawnSignatureOptions=new oS(i.viewParameters)}static getDefaultDrawingOptions(t){const i=this._defaultDrawingOptions.clone();return i.updateProperties(t),i}static get supportMultipleDrawings(){return!1}static get typesMap(){return pe(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!l(this,rs)}}static computeTelemetryFinalData(t){const i=t.get("hasDescription");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let t,i;const{_isCopy:r}=this;if(r&&(this._isCopy=!1,t=this.x,i=this.y),super.render(),this._drawId===null)if(l(this,ma)){const{lines:s,mustSmooth:o,areContours:a,description:u,uuid:c,heightInPage:h}=l(this,ma),{rawDims:{pageWidth:d,pageHeight:f},rotation:p}=this.parent.viewport,v=us.processDrawnLines({lines:s,pageWidth:d,pageHeight:f,rotation:p,innerMargin:si._INNER_MARGIN,mustSmooth:o,areContours:a});this.addSignature(v,h,u,c)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:l(this,rs)||""}));return r&&(this._isCopy=!0,this._moveAfterPaste(t,i)),this.div}setUuid(t){g(this,fu,t),this.addEditToolbar()}getUuid(){return l(this,fu)}get description(){return l(this,rs)}set description(t){g(this,rs,t),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:t})),super.addEditToolbar().then(i=>{i==null||i.updateEditSignatureButton(t)}))}getSignaturePreview(){const{newCurves:t,areContours:i,thickness:r,width:s,height:o}=l(this,ma),a=Math.max(s,o),u=us.processDrawnLines({lines:{curves:t.map(c=>({points:c})),thickness:r,width:s,height:o},pageWidth:a,pageHeight:a,rotation:0,innerMargin:0,mustSmooth:!1,areContours:i});return{areContours:i,outline:u.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(t,i,r,s){const{x:o,y:a}=this,{outline:u}=g(this,ma,t);g(this,pa,u instanceof cb),this.description=r;let c;l(this,pa)?c=si.getDefaultDrawingOptions():(c=si._defaultDrawnSignatureOptions.clone(),c.updateProperties({"stroke-width":u.thickness})),this._addOutlines({drawOutlines:u,drawingOptions:c});const[,h]=this.pageDimensions;let d=i/h;d=d>=1?.5:d,this.width*=d/this.height,this.width>=1&&(d*=.9/this.width,this.width=.9),this.height=d,this.setDims(),this.x=o,this.y=a,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(s),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!s,hasDescription:!!r}}),this.div.hidden=!1}getFromImage(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return us.process(t,i,r,s,si._INNER_MARGIN)}getFromText(t,i){const{rawDims:{pageWidth:r,pageHeight:s},rotation:o}=this.parent.viewport;return us.extractContoursFromText(t,i,r,s,o,si._INNER_MARGIN)}getDrawnSignature(t){const{rawDims:{pageWidth:i,pageHeight:r},rotation:s}=this.parent.viewport;return us.processDrawnLines({lines:t,pageWidth:i,pageHeight:r,rotation:s,innerMargin:si._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:t,thickness:i}){t?this._drawingOptions=si.getDefaultDrawingOptions():(this._drawingOptions=si._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":i}))}serialize(t=!1){if(this.isEmpty())return null;const{lines:i,points:r}=this.serializeDraw(t),{_drawingOptions:{"stroke-width":s}}=this,o=Object.assign(super.serialize(t),{isSignature:!0,areContours:l(this,pa),color:[0,0,0],thickness:l(this,pa)?0:s});return this.addComment(o),t?(o.paths={lines:i,points:r},o.uuid=l(this,fu),o.isCopy=!0):o.lines=i,l(this,rs)&&(o.accessibilityData={type:"Figure",alt:l(this,rs)}),o}static deserializeDraw(t,i,r,s,o,a){return a.areContours?cb.deserialize(t,i,r,s,o,a):Fm.deserialize(t,i,r,s,o,a)}static async deserialize(t,i,r){var o;const s=await super.deserialize(t,i,r);return g(s,pa,t.areContours),s.description=((o=t.accessibilityData)==null?void 0:o.alt)||"",g(s,fu,t.uuid),s}};pa=new WeakMap,rs=new WeakMap,ma=new WeakMap,fu=new WeakMap,B(si,"_type","signature"),B(si,"_editorType",ae.SIGNATURE),B(si,"_defaultDrawingOptions",null);let mb=si;var rt,Wt,ga,eo,ya,Bh,to,pu,ss,Si,zh,_e,Qd,Jd,oy,ay,ly,yb,uy,L2;class gb extends Qe{constructor(t){super({...t,name:"stampEditor"});S(this,_e);S(this,rt,null);S(this,Wt,null);S(this,ga,null);S(this,eo,null);S(this,ya,null);S(this,Bh,"");S(this,to,null);S(this,pu,!1);S(this,ss,null);S(this,Si,!1);S(this,zh,!1);g(this,eo,t.bitmapUrl),g(this,ya,t.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(t,i){Qe.initialize(t,i)}static isHandlingMimeForPasting(t){return zy.includes(t)}static paste(t,i){i.pasteEditor({mode:ae.STAMP},{bitmapFile:t.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var t;return{type:"stamp",hasAltText:!!((t=this.altTextData)!=null&&t.altText)}}static computeTelemetryFinalData(t){const i=t.get("hasAltText");return{hasAltText:i.get(!0)??0,hasNoAltText:i.get(!1)??0}}async mlGuessAltText(t=null,i=!0){if(this.hasAltTextData())return null;const{mlManager:r}=this._uiManager;if(!r)throw new Error("No ML.");if(!await r.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:s,width:o,height:a}=t||this.copyCanvas(null,null,!0).imageData,u=await r.guess({name:"altText",request:{data:s,width:o,height:a,channels:s.length/(o*a)}});if(!u)throw new Error("No response from the AI service.");if(u.error)throw new Error("Error from the AI service.");if(u.cancel)return null;if(!u.output)throw new Error("No valid response from the AI service.");const c=u.output;return await this.setGuessedAltText(c),i&&!this.hasAltTextData()&&(this.altTextData={alt:c,decorative:!1}),c}remove(){var t;l(this,Wt)&&(g(this,rt,null),this._uiManager.imageManager.deleteId(l(this,Wt)),(t=l(this,to))==null||t.remove(),g(this,to,null),l(this,ss)&&(clearTimeout(l(this,ss)),g(this,ss,null))),super.remove()}rebuild(){if(!this.parent){l(this,Wt)&&A(this,_e,oy).call(this);return}super.rebuild(),this.div!==null&&(l(this,Wt)&&l(this,to)===null&&A(this,_e,oy).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(t){this._isDraggable=!0,t&&this.div.focus()}isEmpty(){return!(l(this,ga)||l(this,rt)||l(this,eo)||l(this,ya)||l(this,Wt)||l(this,pu))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let t,i;return this._isCopy&&(t=this.x,i=this.y),super.render(),this.div.hidden=!0,this.createAltText(),l(this,pu)||(l(this,rt)?A(this,_e,ay).call(this):A(this,_e,oy).call(this)),this._isCopy&&this._moveAfterPaste(t,i),this._uiManager.addShouldRescale(this),this.div}setCanvas(t,i){const{id:r,bitmap:s}=this._uiManager.imageManager.getFromCanvas(t,i);i.remove(),r&&this._uiManager.imageManager.isValidId(r)&&(g(this,Wt,r),s&&g(this,rt,s),g(this,pu,!1),A(this,_e,ay).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;l(this,ss)!==null&&clearTimeout(l(this,ss)),g(this,ss,setTimeout(()=>{g(this,ss,null),A(this,_e,yb).call(this)},200))}copyCanvas(t,i,r=!1){t||(t=224);const{width:s,height:o}=l(this,rt),a=new Pr;let u=l(this,rt),c=s,h=o,d=null;if(i){if(s>i||o>i){const P=Math.min(i/s,i/o);c=Math.floor(s*P),h=Math.floor(o*P)}d=document.createElement("canvas");const p=d.width=Math.ceil(c*a.sx),v=d.height=Math.ceil(h*a.sy);l(this,Si)||(u=A(this,_e,ly).call(this,p,v));const y=d.getContext("2d");y.filter=this._uiManager.hcmFilter;let E="white",m="#cfcfd8";this._uiManager.hcmFilter!=="none"?m="black":kB.isDarkMode&&(E="#8f8f9d",m="#42414d");const b=15,x=b*a.sx,k=b*a.sy,_=new OffscreenCanvas(x*2,k*2),C=_.getContext("2d");C.fillStyle=E,C.fillRect(0,0,x*2,k*2),C.fillStyle=m,C.fillRect(0,0,x,k),C.fillRect(x,k,x,k),y.fillStyle=y.createPattern(_,"repeat"),y.fillRect(0,0,p,v),y.drawImage(u,0,0,u.width,u.height,0,0,p,v)}let f=null;if(r){let p,v;if(a.symmetric&&u.width<t&&u.height<t)p=u.width,v=u.height;else if(u=l(this,rt),s>t||o>t){const m=Math.min(t/s,t/o);p=Math.floor(s*m),v=Math.floor(o*m),l(this,Si)||(u=A(this,_e,ly).call(this,p,v))}const E=new OffscreenCanvas(p,v).getContext("2d",{willReadFrequently:!0});E.drawImage(u,0,0,u.width,u.height,0,0,p,v),f={width:p,height:v,data:E.getImageData(0,0,p,v).data}}return{canvas:d,width:c,height:h,imageData:f}}static async deserialize(t,i,r){var E;let s=null,o=!1;if(t instanceof XP){const{data:{rect:m,rotation:b,id:x,structParent:k,popupRef:_,richText:C,contentsObj:P,creationDate:L,modificationDate:D},container:M,parent:{page:{pageNumber:I}},canvas:F}=t;let W,z;F?(delete t.canvas,{id:W,bitmap:z}=r.imageManager.getFromCanvas(M.id,F),F.remove()):(o=!0,t._hasNoCanvas=!0);const G=((E=await i._structTree.getAriaAttributes(`${q1}${x}`))==null?void 0:E.get("aria-label"))||"";s=t={annotationType:ae.STAMP,bitmapId:W,bitmap:z,pageIndex:I-1,rect:m.slice(0),rotation:b,annotationElementId:x,id:x,deleted:!1,accessibilityData:{decorative:!1,altText:G},isSvg:!1,structParent:k,popupRef:_,richText:C,comment:(P==null?void 0:P.str)||null,creationDate:L,modificationDate:D}}const a=await super.deserialize(t,i,r),{rect:u,bitmap:c,bitmapUrl:h,bitmapId:d,isSvg:f,accessibilityData:p}=t;o?(r.addMissingCanvas(t.id,a),g(a,pu,!0)):d&&r.imageManager.isValidId(d)?(g(a,Wt,d),c&&g(a,rt,c)):g(a,eo,h),g(a,Si,f);const[v,y]=a.pageDimensions;return a.width=(u[2]-u[0])/v,a.height=(u[3]-u[1])/y,p&&(a.altTextData=p),a._initialData=s,t.comment&&a.setCommentData(t),g(a,zh,!!s),a}serialize(t=!1,i=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const r=Object.assign(super.serialize(t),{bitmapId:l(this,Wt),isSvg:l(this,Si)});if(this.addComment(r),t)return r.bitmapUrl=A(this,_e,uy).call(this,!0),r.accessibilityData=this.serializeAltText(!0),r.isCopy=!0,r;const{decorative:s,altText:o}=this.serializeAltText(!1);if(!s&&o&&(r.accessibilityData={type:"Figure",alt:o}),this.annotationElementId){const u=A(this,_e,L2).call(this,r);return u.isSame?null:(u.isSameAltText?delete r.accessibilityData:r.accessibilityData.structParent=this._initialData.structParent??-1,r.id=this.annotationElementId,delete r.bitmapId,r)}if(i===null)return r;i.stamps||(i.stamps=new Map);const a=l(this,Si)?(r.rect[2]-r.rect[0])*(r.rect[3]-r.rect[1]):null;if(!i.stamps.has(l(this,Wt)))i.stamps.set(l(this,Wt),{area:a,serialized:r}),r.bitmap=A(this,_e,uy).call(this,!1);else if(l(this,Si)){const u=i.stamps.get(l(this,Wt));a>u.area&&(u.area=a,u.serialized.bitmap.close(),u.serialized.bitmap=A(this,_e,uy).call(this,!1))}return r}renderAnnotationElement(t){return this.deleted?(t.hide(),null):(t.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}rt=new WeakMap,Wt=new WeakMap,ga=new WeakMap,eo=new WeakMap,ya=new WeakMap,Bh=new WeakMap,to=new WeakMap,pu=new WeakMap,ss=new WeakMap,Si=new WeakMap,zh=new WeakMap,_e=new WeakSet,Qd=function(t,i=!1){if(!t){this.remove();return}g(this,rt,t.bitmap),i||(g(this,Wt,t.id),g(this,Si,t.isSvg)),t.file&&g(this,Bh,t.file.name),A(this,_e,ay).call(this)},Jd=function(){if(g(this,ga,null),this._uiManager.enableWaiting(!1),!!l(this,to)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,rt)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&l(this,rt)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},oy=function(){if(l(this,Wt)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(l(this,Wt)).then(r=>A(this,_e,Qd).call(this,r,!0)).finally(()=>A(this,_e,Jd).call(this));return}if(l(this,eo)){const r=l(this,eo);g(this,eo,null),this._uiManager.enableWaiting(!0),g(this,ga,this._uiManager.imageManager.getFromUrl(r).then(s=>A(this,_e,Qd).call(this,s)).finally(()=>A(this,_e,Jd).call(this)));return}if(l(this,ya)){const r=l(this,ya);g(this,ya,null),this._uiManager.enableWaiting(!0),g(this,ga,this._uiManager.imageManager.getFromFile(r).then(s=>A(this,_e,Qd).call(this,s)).finally(()=>A(this,_e,Jd).call(this)));return}const t=document.createElement("input");t.type="file",t.accept=zy.join(",");const i=this._uiManager._signal;g(this,ga,new Promise(r=>{t.addEventListener("change",async()=>{if(!t.files||t.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const s=await this._uiManager.imageManager.getFromFile(t.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),A(this,_e,Qd).call(this,s)}r()},{signal:i}),t.addEventListener("cancel",()=>{this.remove(),r()},{signal:i})}).finally(()=>A(this,_e,Jd).call(this))),t.click()},ay=function(){var c;const{div:t}=this;let{width:i,height:r}=l(this,rt);const[s,o]=this.pageDimensions,a=.75;if(this.width)i=this.width*s,r=this.height*o;else if(i>a*s||r>a*o){const h=Math.min(a*s/i,a*o/r);i*=h,r*=h}this._uiManager.enableWaiting(!1);const u=g(this,to,document.createElement("canvas"));u.setAttribute("role","img"),this.addContainer(u),this.width=i/s,this.height=r/o,this.setDims(),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(t.hidden=!1),A(this,_e,yb).call(this),l(this,zh)||(this.parent.addUndoableEditor(this),g(this,zh,!0)),this._reportTelemetry({action:"inserted_image"}),l(this,Bh)&&this.div.setAttribute("aria-description",l(this,Bh)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},ly=function(t,i){const{width:r,height:s}=l(this,rt);let o=r,a=s,u=l(this,rt);for(;o>2*t||a>2*i;){const c=o,h=a;o>2*t&&(o=o>=16384?Math.floor(o/2)-1:Math.ceil(o/2)),a>2*i&&(a=a>=16384?Math.floor(a/2)-1:Math.ceil(a/2));const d=new OffscreenCanvas(o,a);d.getContext("2d").drawImage(u,0,0,c,h,0,0,o,a),u=d.transferToImageBitmap()}return u},yb=function(){const[t,i]=this.parentDimensions,{width:r,height:s}=this,o=new Pr,a=Math.ceil(r*t*o.sx),u=Math.ceil(s*i*o.sy),c=l(this,to);if(!c||c.width===a&&c.height===u)return;c.width=a,c.height=u;const h=l(this,Si)?l(this,rt):A(this,_e,ly).call(this,a,u),d=c.getContext("2d");d.filter=this._uiManager.hcmFilter,d.drawImage(h,0,0,h.width,h.height,0,0,a,u)},uy=function(t){if(t){if(l(this,Si)){const s=this._uiManager.imageManager.getSvgUrl(l(this,Wt));if(s)return s}const i=document.createElement("canvas");return{width:i.width,height:i.height}=l(this,rt),i.getContext("2d").drawImage(l(this,rt),0,0),i.toDataURL()}if(l(this,Si)){const[i,r]=this.pageDimensions,s=Math.round(this.width*i*vo.PDF_TO_CSS_UNITS),o=Math.round(this.height*r*vo.PDF_TO_CSS_UNITS),a=new OffscreenCanvas(s,o);return a.getContext("2d").drawImage(l(this,rt),0,0,l(this,rt).width,l(this,rt).height,0,0,s,o),a.transferToImageBitmap()}return structuredClone(l(this,rt))},L2=function(t){var a;const{pageIndex:i,accessibilityData:{altText:r}}=this._initialData,s=t.pageIndex===i,o=(((a=t.accessibilityData)==null?void 0:a.alt)||"")===r;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&s&&o,isSameAltText:o}},B(gb,"_type","stamp"),B(gb,"_editorType",ae.STAMP);var mu,Uh,va,xa,no,Xn,wa,Hh,$h,wr,io,Gt,ro,ba,Vh,ne,Sa,Ve,vb,M2,Dr,xb,wb,cy;const lr=class lr{constructor({uiManager:e,pageIndex:t,div:i,structTreeLayer:r,accessibilityManager:s,annotationLayer:o,drawLayer:a,textLayer:u,viewport:c,l10n:h}){S(this,Ve);S(this,mu);S(this,Uh,!1);S(this,va,null);S(this,xa,null);S(this,no,null);S(this,Xn,new Map);S(this,wa,!1);S(this,Hh,!1);S(this,$h,!1);S(this,wr,null);S(this,io,null);S(this,Gt,null);S(this,ro,null);S(this,ba,null);S(this,Vh,-1);S(this,ne);const d=[...l(lr,Sa).values()];if(!lr._initialized){lr._initialized=!0;for(const f of d)f.initialize(h,e)}e.registerEditorTypes(d),g(this,ne,e),this.pageIndex=t,this.div=i,g(this,mu,s),g(this,va,o),this.viewport=c,g(this,Gt,u),this.drawLayer=a,this._structTree=r,l(this,ne).addLayer(this)}get isEmpty(){return l(this,Xn).size===0}get isInvisible(){return this.isEmpty&&l(this,ne).getMode()===ae.NONE}updateToolbar(e){l(this,ne).updateToolbar(e)}updateMode(e=l(this,ne).getMode()){switch(A(this,Ve,cy).call(this),e){case ae.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case ae.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case ae.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;if(t.toggle("nonEditing",!1),e===ae.POPUP)t.toggle("commentEditing",!0);else{t.toggle("commentEditing",!1);for(const i of l(lr,Sa).values())t.toggle(`${i._type}Editing`,e===i._editorType)}this.div.hidden=!1}hasTextLayer(e){var t;return e===((t=l(this,Gt))==null?void 0:t.div)}setEditingState(e){l(this,ne).setEditingState(e)}addCommands(e){l(this,ne).addCommands(e)}cleanUndoStack(e){l(this,ne).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var t;(t=l(this,va))==null||t.div.classList.toggle("disabled",!e)}async enable(){var i;g(this,$h,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(i=l(this,ba))==null||i.abort(),g(this,ba,null);const e=new Set;for(const r of l(this,Ve,vb))r.enableEditing(),r.show(!0),r.annotationElementId&&(l(this,ne).removeChangedExistingAnnotation(r),e.add(r.annotationElementId));const t=l(this,va);if(t)for(const r of t.getEditableAnnotations()){if(r.hide(),l(this,ne).isDeletedAnnotationElement(r.data.id)||e.has(r.data.id))continue;const s=await this.deserialize(r);s&&(this.addOrRebuild(s),s.enableEditing())}g(this,$h,!1),l(this,ne)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var i;if(g(this,Hh,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),l(this,Gt)&&!l(this,ba)){g(this,ba,new AbortController);const r=l(this,ne).combinedSignal(l(this,ba));l(this,Gt).div.addEventListener("pointerdown",s=>{const{clientX:a,clientY:u,timeStamp:c}=s,h=l(this,Vh);if(c-h>500){g(this,Vh,c);return}g(this,Vh,-1);const{classList:d}=this.div;d.toggle("getElements",!0);const f=document.elementsFromPoint(a,u);if(d.toggle("getElements",!1),!this.div.contains(f[0]))return;let p;const v=new RegExp(`^${Lf}[0-9]+$`);for(const E of f)if(v.test(E.id)){p=E.id;break}if(!p)return;const y=l(this,Xn).get(p);(y==null?void 0:y.annotationElementId)===null&&(s.stopPropagation(),s.preventDefault(),y.dblclick(s))},{signal:r,capture:!0})}const e=l(this,va);if(e){const r=new Map,s=new Map;for(const a of l(this,Ve,vb)){if(a.disableEditing(),!a.annotationElementId){a.updateFakeAnnotationElement(e);continue}if(a.serialize()!==null){r.set(a.annotationElementId,a);continue}else s.set(a.annotationElementId,a);(i=this.getEditableAnnotation(a.annotationElementId))==null||i.show(),a.remove()}const o=e.getEditableAnnotations();for(const a of o){const{id:u}=a.data;if(l(this,ne).isDeletedAnnotationElement(u)){a.updateEdited({deleted:!0});continue}let c=s.get(u);if(c){c.resetAnnotationElement(a),c.show(!1),a.show();continue}c=r.get(u),c&&(l(this,ne).addChangedExistingAnnotation(c),c.renderAnnotationElement(a)&&c.show(!1)),a.show()}}A(this,Ve,cy).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:t}=this.div;for(const r of l(lr,Sa).values())t.remove(`${r._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),g(this,Hh,!1)}getEditableAnnotation(e){var t;return((t=l(this,va))==null?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){l(this,ne).getActive()!==e&&l(this,ne).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=l(this,Gt))!=null&&e.div&&!l(this,ro)){g(this,ro,new AbortController);const t=l(this,ne).combinedSignal(l(this,ro));l(this,Gt).div.addEventListener("pointerdown",A(this,Ve,M2).bind(this),{signal:t}),l(this,Gt).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=l(this,Gt))!=null&&e.div&&l(this,ro)&&(l(this,ro).abort(),g(this,ro,null),l(this,Gt).div.classList.remove("highlighting"))}enableClick(){if(l(this,xa))return;g(this,xa,new AbortController);const e=l(this,ne).combinedSignal(l(this,xa));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const t=this.pointerup.bind(this);this.div.addEventListener("pointerup",t,{signal:e}),this.div.addEventListener("pointercancel",t,{signal:e})}disableClick(){var e;(e=l(this,xa))==null||e.abort(),g(this,xa,null)}attach(e){l(this,Xn).set(e.id,e);const{annotationElementId:t}=e;t&&l(this,ne).isDeletedAnnotationElement(t)&&l(this,ne).removeDeletedAnnotationElement(e)}detach(e){var t;l(this,Xn).delete(e.id),(t=l(this,mu))==null||t.removePointerInTextLayer(e.contentDiv),!l(this,Hh)&&e.annotationElementId&&l(this,ne).addDeletedAnnotationElement(e)}remove(e){this.detach(e),l(this,ne).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(l(this,ne).addDeletedAnnotationElement(e.annotationElementId),Qe.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(t=e.parent)==null||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),l(this,ne).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!l(this,$h)),l(this,ne).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var i;if(!e.isAttachedToDOM)return;const{activeElement:t}=document;e.div.contains(t)&&!l(this,no)&&(e._focusEventsAllowed=!1,g(this,no,setTimeout(()=>{g(this,no,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:l(this,ne)._signal}),t.focus())},0))),e._structTreeParentId=(i=l(this,mu))==null?void 0:i.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const t=()=>e._uiManager.rebuild(e),i=()=>{e.remove()};this.addCommands({cmd:t,undo:i,mustExec:!1})}getEditorByUID(e){for(const t of l(this,Xn).values())if(t.uid===e)return t;return null}getNextId(){return l(this,ne).getId()}combinedSignal(e){return l(this,ne).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=l(this,Ve,Dr))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,t){this.updateToolbar(e),await l(this,ne).updateMode(e.mode);const{offsetX:i,offsetY:r}=A(this,Ve,wb).call(this),s=this.getNextId(),o=A(this,Ve,xb).call(this,{parent:this,id:s,x:i,y:r,uiManager:l(this,ne),isCentered:!0,...t});o&&this.add(o)}async deserialize(e){var t;return await((t=l(lr,Sa).get(e.annotationType??e.annotationEditorType))==null?void 0:t.deserialize(e,this,l(this,ne)))||null}createAndAddNewEditor(e,t,i={}){const r=this.getNextId(),s=A(this,Ve,xb).call(this,{parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:l(this,ne),isCentered:t,...i});return s&&this.add(s),s}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(A(this,Ve,wb).call(this),!0,e)}setSelected(e){l(this,ne).setSelected(e)}toggleSelected(e){l(this,ne).toggleSelected(e)}unselect(e){l(this,ne).unselect(e)}pointerup(e){var r;const{isMac:t}=Yt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div||!l(this,wa)||(g(this,wa,!1),(r=l(this,Ve,Dr))!=null&&r.isDrawer&&l(this,Ve,Dr).supportMultipleDrawings))return;if(!l(this,Uh)){g(this,Uh,!0);return}const i=l(this,ne).getMode();if(i===ae.STAMP||i===ae.SIGNATURE){l(this,ne).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var r;if(l(this,ne).getMode()===ae.HIGHLIGHT&&this.enableTextSelection(),l(this,wa)){g(this,wa,!1);return}const{isMac:t}=Yt.platform;if(e.button!==0||e.ctrlKey&&t||e.target!==this.div)return;if(g(this,wa,!0),(r=l(this,Ve,Dr))!=null&&r.isDrawer){this.startDrawingSession(e);return}const i=l(this,ne).getActive();g(this,Uh,!i||i.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),l(this,wr)){l(this,Ve,Dr).startDrawing(this,l(this,ne),!1,e);return}l(this,ne).setCurrentDrawingSession(this),g(this,wr,new AbortController);const t=l(this,ne).combinedSignal(l(this,wr));this.div.addEventListener("blur",({relatedTarget:i})=>{i&&!this.div.contains(i)&&(g(this,io,null),this.commitOrRemove())},{signal:t}),l(this,Ve,Dr).startDrawing(this,l(this,ne),!1,e)}pause(e){if(e){const{activeElement:t}=document;this.div.contains(t)&&g(this,io,t);return}l(this,io)&&setTimeout(()=>{var t;(t=l(this,io))==null||t.focus(),g(this,io,null)},0)}endDrawingSession(e=!1){return l(this,wr)?(l(this,ne).setCurrentDrawingSession(null),l(this,wr).abort(),g(this,wr,null),g(this,io,null),l(this,Ve,Dr).endDrawing(e)):null}findNewParent(e,t,i){const r=l(this,ne).findParent(t,i);return r===null||r===this?!1:(r.changeParent(e),!0)}commitOrRemove(){return l(this,wr)?(this.endDrawingSession(),!0):!1}onScaleChanging(){l(this,wr)&&l(this,Ve,Dr).onScaleChangingWhenDrawing(this)}destroy(){var e,t;this.commitOrRemove(),((e=l(this,ne).getActive())==null?void 0:e.parent)===this&&(l(this,ne).commitOrRemove(),l(this,ne).setActiveEditor(null)),l(this,no)&&(clearTimeout(l(this,no)),g(this,no,null));for(const i of l(this,Xn).values())(t=l(this,mu))==null||t.removePointerInTextLayer(i.contentDiv),i.setParent(null),i.isAttachedToDOM=!1,i.div.remove();this.div=null,l(this,Xn).clear(),l(this,ne).removeLayer(this)}render({viewport:e}){this.viewport=e,Ia(this.div,e);for(const t of l(this,ne).getEditors(this.pageIndex))this.add(t),t.rebuild();this.updateMode()}update({viewport:e}){l(this,ne).commitOrRemove(),A(this,Ve,cy).call(this);const t=this.viewport.rotation,i=e.rotation;if(this.viewport=e,Ia(this.div,{rotation:i}),t!==i)for(const r of l(this,Xn).values())r.rotate(i)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return l(this,ne).viewParameters.realScale}};mu=new WeakMap,Uh=new WeakMap,va=new WeakMap,xa=new WeakMap,no=new WeakMap,Xn=new WeakMap,wa=new WeakMap,Hh=new WeakMap,$h=new WeakMap,wr=new WeakMap,io=new WeakMap,Gt=new WeakMap,ro=new WeakMap,ba=new WeakMap,Vh=new WeakMap,ne=new WeakMap,Sa=new WeakMap,Ve=new WeakSet,vb=function(){return l(this,Xn).size!==0?l(this,Xn).values():l(this,ne).getEditors(this.pageIndex)},M2=function(e){l(this,ne).unselectAll();const{target:t}=e;if(t===l(this,Gt).div||(t.getAttribute("role")==="img"||t.classList.contains("endOfContent"))&&l(this,Gt).div.contains(t)){const{isMac:i}=Yt.platform;if(e.button!==0||e.ctrlKey&&i)return;l(this,ne).showAllEditors("highlight",!0,!0),l(this,Gt).div.classList.add("free"),this.toggleDrawing(),qy.startHighlighting(this,l(this,ne).direction==="ltr",{target:l(this,Gt).div,x:e.x,y:e.y}),l(this,Gt).div.addEventListener("pointerup",()=>{l(this,Gt).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:l(this,ne)._signal}),e.preventDefault()}},Dr=function(){return l(lr,Sa).get(l(this,ne).getMode())},xb=function(e){const t=l(this,Ve,Dr);return t?new t.prototype.constructor(e):null},wb=function(){const{x:e,y:t,width:i,height:r}=this.boundingClientRect,s=Math.max(0,e),o=Math.max(0,t),a=Math.min(window.innerWidth,e+i),u=Math.min(window.innerHeight,t+r),c=(s+a)/2-e,h=(o+u)/2-t,[d,f]=this.viewport.rotation%180===0?[c,h]:[h,c];return{offsetX:d,offsetY:f}},cy=function(){for(const e of l(this,Xn).values())e.isEmpty()&&e.remove()},B(lr,"_initialized",!1),S(lr,Sa,new Map([Zw,ub,gb,qy,mb].map(e=>[e._editorType,e])));let Yy=lr;var br,Rn,gu,xm,m0,D2,fs,bb,I2,Sb;const Mt=class Mt{constructor({pageIndex:e}){S(this,fs);S(this,br,null);S(this,Rn,new Map);S(this,gu,new Map);this.pageIndex=e}setParent(e){if(!l(this,br)){g(this,br,e);return}if(l(this,br)!==e){if(l(this,Rn).size>0)for(const t of l(this,Rn).values())t.remove(),e.append(t);g(this,br,e)}}static get _svgFactory(){return pe(this,"_svgFactory",new Bf)}draw(e,t=!1,i=!1){const r=Lt(Mt,xm)._++,s=A(this,fs,bb).call(this),o=Mt._svgFactory.createElement("defs");s.append(o);const a=Mt._svgFactory.createElement("path");o.append(a);const u=`path_p${this.pageIndex}_${r}`;a.setAttribute("id",u),a.setAttribute("vector-effect","non-scaling-stroke"),t&&l(this,gu).set(r,a);const c=i?A(this,fs,I2).call(this,o,u):null,h=Mt._svgFactory.createElement("use");return s.append(h),h.setAttribute("href",`#${u}`),this.updateProperties(s,e),l(this,Rn).set(r,s),{id:r,clipPathId:`url(#${c})`}}drawOutline(e,t){const i=Lt(Mt,xm)._++,r=A(this,fs,bb).call(this),s=Mt._svgFactory.createElement("defs");r.append(s);const o=Mt._svgFactory.createElement("path");s.append(o);const a=`path_p${this.pageIndex}_${i}`;o.setAttribute("id",a),o.setAttribute("vector-effect","non-scaling-stroke");let u;if(t){const d=Mt._svgFactory.createElement("mask");s.append(d),u=`mask_p${this.pageIndex}_${i}`,d.setAttribute("id",u),d.setAttribute("maskUnits","objectBoundingBox");const f=Mt._svgFactory.createElement("rect");d.append(f),f.setAttribute("width","1"),f.setAttribute("height","1"),f.setAttribute("fill","white");const p=Mt._svgFactory.createElement("use");d.append(p),p.setAttribute("href",`#${a}`),p.setAttribute("stroke","none"),p.setAttribute("fill","black"),p.setAttribute("fill-rule","nonzero"),p.classList.add("mask")}const c=Mt._svgFactory.createElement("use");r.append(c),c.setAttribute("href",`#${a}`),u&&c.setAttribute("mask",`url(#${u})`);const h=c.cloneNode();return r.append(h),c.classList.add("mainOutline"),h.classList.add("secondaryOutline"),this.updateProperties(r,e),l(this,Rn).set(i,r),i}finalizeDraw(e,t){l(this,gu).delete(e),this.updateProperties(e,t)}updateProperties(e,t){var u;if(!t)return;const{root:i,bbox:r,rootClass:s,path:o}=t,a=typeof e=="number"?l(this,Rn).get(e):e;if(a){if(i&&A(this,fs,Sb).call(this,a,i),r&&A(u=Mt,m0,D2).call(u,a,r),s){const{classList:c}=a;for(const[h,d]of Object.entries(s))c.toggle(h,d)}if(o){const h=a.firstChild.firstChild;A(this,fs,Sb).call(this,h,o)}}}updateParent(e,t){if(t===this)return;const i=l(this,Rn).get(e);i&&(l(t,br).append(i),l(this,Rn).delete(e),l(t,Rn).set(e,i))}remove(e){l(this,gu).delete(e),l(this,br)!==null&&(l(this,Rn).get(e).remove(),l(this,Rn).delete(e))}destroy(){g(this,br,null);for(const e of l(this,Rn).values())e.remove();l(this,Rn).clear(),l(this,gu).clear()}};br=new WeakMap,Rn=new WeakMap,gu=new WeakMap,xm=new WeakMap,m0=new WeakSet,D2=function(e,[t,i,r,s]){const{style:o}=e;o.top=`${100*i}%`,o.left=`${100*t}%`,o.width=`${100*r}%`,o.height=`${100*s}%`},fs=new WeakSet,bb=function(){const e=Mt._svgFactory.create(1,1,!0);return l(this,br).append(e),e.setAttribute("aria-hidden",!0),e},I2=function(e,t){const i=Mt._svgFactory.createElement("clipPath");e.append(i);const r=`clip_${t}`;i.setAttribute("id",r),i.setAttribute("clipPathUnits","objectBoundingBox");const s=Mt._svgFactory.createElement("use");return i.append(s),s.setAttribute("href",`#${t}`),s.classList.add("clip"),r},Sb=function(e,t){for(const[i,r]of Object.entries(t))r===null?e.removeAttribute(i):e.setAttribute(i,r)},S(Mt,m0),S(Mt,xm,0);let Ky=Mt;globalThis._pdfjsTestingUtils={HighlightOutliner:tb};globalThis.pdfjsLib={AbortException:yo,AnnotationEditorLayer:Yy,AnnotationEditorParamsType:Se,AnnotationEditorType:ae,AnnotationEditorUIManager:Fa,AnnotationLayer:rS,AnnotationMode:ls,AnnotationType:St,applyOpacity:MT,build:FP,ColorPicker:jf,createValidAbsoluteUrl:V1,CSSConstants:LT,DOMSVGFactory:Bf,DrawLayer:Ky,FeatureTest:Yt,fetchData:ud,findContrastColor:DT,getDocument:Z1,getFilenameFromUrl:PT,getPdfFilenameFromUrl:RT,getRGB:cd,getUuid:G1,getXfaPageViewport:NT,GlobalWorkerOptions:Qi,ImageKind:df,InvalidPDFException:By,isDataScheme:Mm,isPdfFile:U0,isValidExplicitDest:fP,MathClamp:wn,noContextMenu:Li,normalizeUnicode:_T,OPS:Jh,OutputScale:Pr,PasswordResponses:kT,PDFDataRangeTransport:eS,PDFDateString:If,PDFWorker:Zh,PermissionFlag:ET,PixelsPerInch:vo,RenderingCancelledException:z0,renderRichText:Y1,ResponseException:Mf,setLayerDimensions:Ia,shadow:pe,SignatureExtractor:us,stopEvent:ut,SupportedImageMimeTypes:zy,TextLayer:Of,TouchManager:Ff,updateUrlHash:W1,Util:J,VerbosityLevel:Rm,version:tS,XfaLayer:X1};const J3=Object.freeze(Object.defineProperty({__proto__:null,AbortException:yo,AnnotationEditorLayer:Yy,AnnotationEditorParamsType:Se,AnnotationEditorType:ae,AnnotationEditorUIManager:Fa,AnnotationLayer:rS,AnnotationMode:ls,AnnotationType:St,CSSConstants:LT,ColorPicker:jf,DOMSVGFactory:Bf,DrawLayer:Ky,FeatureTest:Yt,GlobalWorkerOptions:Qi,ImageKind:df,InvalidPDFException:By,MathClamp:wn,OPS:Jh,OutputScale:Pr,PDFDataRangeTransport:eS,PDFDateString:If,PDFWorker:Zh,PasswordResponses:kT,PermissionFlag:ET,PixelsPerInch:vo,RenderingCancelledException:z0,ResponseException:Mf,SignatureExtractor:us,SupportedImageMimeTypes:zy,TextLayer:Of,TouchManager:Ff,Util:J,VerbosityLevel:Rm,XfaLayer:X1,applyOpacity:MT,build:FP,createValidAbsoluteUrl:V1,fetchData:ud,findContrastColor:DT,getDocument:Z1,getFilenameFromUrl:PT,getPdfFilenameFromUrl:RT,getRGB:cd,getUuid:G1,getXfaPageViewport:NT,isDataScheme:Mm,isPdfFile:U0,isValidExplicitDest:fP,noContextMenu:Li,normalizeUnicode:_T,renderRichText:Y1,setLayerDimensions:Ia,shadow:pe,stopEvent:ut,updateUrlHash:W1,version:tS},Symbol.toStringTag,{value:"Module"}));function F2(n){var e,t,i="";if(typeof n=="string"||typeof n=="number")i+=n;else if(typeof n=="object")if(Array.isArray(n)){var r=n.length;for(e=0;e<r;e++)n[e]&&(t=F2(n[e]))&&(i&&(i+=" "),i+=t)}else for(t in n)n[t]&&(i&&(i+=" "),i+=t);return i}function V0(){for(var n,e,t=0,i="",r=arguments.length;t<r;t++)(n=arguments[t])&&(e=F2(n))&&(i&&(i+=" "),i+=e);return i}var YE=Object.prototype.hasOwnProperty;function KE(n,e,t){for(t of n.keys())if(yc(t,e))return t}function yc(n,e){var t,i,r;if(n===e)return!0;if(n&&e&&(t=n.constructor)===e.constructor){if(t===Date)return n.getTime()===e.getTime();if(t===RegExp)return n.toString()===e.toString();if(t===Array){if((i=n.length)===e.length)for(;i--&&yc(n[i],e[i]););return i===-1}if(t===Set){if(n.size!==e.size)return!1;for(i of n)if(r=i,r&&typeof r=="object"&&(r=KE(e,r),!r)||!e.has(r))return!1;return!0}if(t===Map){if(n.size!==e.size)return!1;for(i of n)if(r=i[0],r&&typeof r=="object"&&(r=KE(e,r),!r)||!yc(i[1],e.get(r)))return!1;return!0}if(t===ArrayBuffer)n=new Uint8Array(n),e=new Uint8Array(e);else if(t===DataView){if((i=n.byteLength)===e.byteLength)for(;i--&&n.getInt8(i)===e.getInt8(i););return i===-1}if(ArrayBuffer.isView(n)){if((i=n.byteLength)===e.byteLength)for(;i--&&n[i]===e[i];);return i===-1}if(!t||typeof n=="object"){i=0;for(t in n)if(YE.call(n,t)&&++i&&!YE.call(e,t)||!(t in e)||!yc(n[t],e[t]))return!1;return Object.keys(e).length===i}}return n!==n&&e!==e}function Om(n){let e=!1;return{promise:new Promise((i,r)=>{n.then(s=>!e&&i(s)).catch(s=>!e&&r(s))}),cancel(){e=!0}}}const Z3=["onCopy","onCut","onPaste"],e4=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],t4=["onFocus","onBlur"],n4=["onInput","onInvalid","onReset","onSubmit"],i4=["onLoad","onError"],r4=["onKeyDown","onKeyPress","onKeyUp"],s4=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],o4=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],a4=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],l4=["onSelect"],u4=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],c4=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],h4=["onScroll"],d4=["onWheel"],f4=["onAnimationStart","onAnimationEnd","onAnimationIteration"],p4=["onTransitionEnd"],m4=["onToggle"],g4=["onChange"],y4=[...Z3,...e4,...t4,...n4,...i4,...r4,...s4,...o4,...a4,...l4,...u4,...c4,...h4,...d4,...f4,...p4,...g4,...m4];function O2(n,e){const t={};for(const i of y4){const r=n[i];r&&(e?t[i]=s=>r(s,e(i)):t[i]=r)}return t}var v4="Invariant failed";function $e(n,e){if(!n)throw new Error(v4)}var x4=function(){},w4=x4;const Sn=kb(w4),j2=N.createContext(null),b4="noopener noreferrer nofollow";class S4{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return $e(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){$e(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,t,i){e.href=t,e.rel=this.externalLinkRel||b4,e.target=i?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(t=>{$e(this.pdfDocument),$e(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)}).then(t=>{$e(Array.isArray(t));const i=t[0];new Promise(r=>{$e(this.pdfDocument),i instanceof Object?this.pdfDocument.getPageIndex(i).then(s=>{r(s)}).catch(()=>{$e(!1)}):typeof i=="number"?r(i):$e(!1)}).then(r=>{const s=r+1;$e(this.pdfViewer),$e(s>=1&&s<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:t,pageIndex:r,pageNumber:s})})})}goToPage(e){const t=e-1;$e(this.pdfViewer),$e(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function vc({children:n,type:e}){return w.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:n})}const QE={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function A4(n,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return n}}function ed(){return N.useReducer(A4,{value:void 0,error:void 0})}const W0=typeof window<"u",B2=W0&&window.location.protocol==="file:";function E4(n){return typeof n<"u"}function Wa(n){return E4(n)&&n!==null}function k4(n){return typeof n=="string"}function C4(n){return n instanceof ArrayBuffer}function _4(n){return $e(W0),n instanceof Blob}function Ab(n){return k4(n)&&/^data:/.test(n)}function JE(n){$e(Ab(n));const[e="",t=""]=n.split(",");return e.split(";").indexOf("base64")!==-1?atob(t):unescape(t)}function T4(){return W0&&window.devicePixelRatio||1}const z2="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function ZE(){Sn(!B2,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${z2}`)}function P4(){Sn(!B2,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${z2}`)}function ku(n){n!=null&&n.cancel&&n.cancel()}function Eb(n,e){return Object.defineProperty(n,"width",{get(){return this.getViewport({scale:e}).width},configurable:!0}),Object.defineProperty(n,"height",{get(){return this.getViewport({scale:e}).height},configurable:!0}),Object.defineProperty(n,"originalWidth",{get(){return this.getViewport({scale:1}).width},configurable:!0}),Object.defineProperty(n,"originalHeight",{get(){return this.getViewport({scale:1}).height},configurable:!0}),n}function U2(n){return n.name==="AbortException"||n.name==="RenderingCancelledException"}function R4(n){return new Promise((e,t)=>{const i=new FileReader;i.onload=()=>{if(!i.result)return t(new Error("Error while reading a file."));e(i.result)},i.onerror=r=>{if(!r.target)return t(new Error("Error while reading a file."));const{error:s}=r.target;if(!s)return t(new Error("Error while reading a file."));switch(s.code){case s.NOT_FOUND_ERR:return t(new Error("Error while reading a file: File not found."));case s.SECURITY_ERR:return t(new Error("Error while reading a file: Security error."));case s.ABORT_ERR:return t(new Error("Error while reading a file: Aborted."));default:return t(new Error("Error while reading a file."))}},i.readAsArrayBuffer(n)})}const{PDFDataRangeTransport:N4}=J3,L4=(n,e)=>{switch(e){case QE.NEED_PASSWORD:{const t=prompt("Enter the password to open this PDF file.");n(t);break}case QE.INCORRECT_PASSWORD:{const t=prompt("Invalid password. Please try again.");n(t);break}}};function ek(n){return typeof n=="object"&&n!==null&&("data"in n||"range"in n||"url"in n)}const M4=N.forwardRef(function({children:e,className:t,error:i="Failed to load PDF file.",externalLinkRel:r,externalLinkTarget:s,file:o,inputRef:a,imageResourcesPath:u,loading:c="Loading PDF",noData:h="No PDF file specified.",onItemClick:d,onLoadError:f,onLoadProgress:p,onLoadSuccess:v,onPassword:y=L4,onSourceError:E,onSourceSuccess:m,options:b,renderMode:x,rotate:k,scale:_,...C},P){const[L,D]=ed(),{value:M,error:I}=L,[F,W]=ed(),{value:z,error:G}=F,U=N.useRef(new S4),$=N.useRef([]),O=N.useRef(void 0),q=N.useRef(void 0);o&&o!==O.current&&ek(o)&&(Sn(!yc(o,O.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),O.current=o),b&&b!==q.current&&(Sn(!yc(b,q.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),q.current=b);const T=N.useRef({scrollPageIntoView:Ge=>{const{dest:Ie,pageNumber:tt,pageIndex:Kt=tt-1}=Ge;if(d){d({dest:Ie,pageIndex:Kt,pageNumber:tt});return}const bt=$.current[Kt];if(bt){bt.scrollIntoView();return}Sn(!1,`An internal link leading to page ${tt} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});N.useImperativeHandle(P,()=>({linkService:U,pages:$,viewer:T}),[]);function se(){m&&m()}function te(){I&&(Sn(!1,I.toString()),E&&E(I))}function R(){D({type:"RESET"})}N.useEffect(R,[o,D]);const ve=N.useCallback(async()=>{if(!o)return null;if(typeof o=="string")return Ab(o)?{data:JE(o)}:(ZE(),{url:o});if(o instanceof N4)return{range:o};if(C4(o))return{data:o};if(W0&&_4(o))return{data:await R4(o)};if($e(typeof o=="object"),$e(ek(o)),"url"in o&&typeof o.url=="string"){if(Ab(o.url)){const{url:Ge,...Ie}=o;return{data:JE(Ge),...Ie}}ZE()}return o},[o]);N.useEffect(()=>{const Ge=Om(ve());return Ge.promise.then(Ie=>{D({type:"RESOLVE",value:Ie})}).catch(Ie=>{D({type:"REJECT",error:Ie})}),()=>{ku(Ge)}},[ve,D]),N.useEffect(()=>{if(!(typeof M>"u")){if(M===!1){te();return}se()}},[M]);function Re(){z&&(v&&v(z),$.current=new Array(z.numPages),U.current.setDocument(z))}function de(){G&&(Sn(!1,G.toString()),f&&f(G))}N.useEffect(function(){W({type:"RESET"})},[W,M]),N.useEffect(function(){if(!M)return;const Ie=b?{...M,...b}:M,tt=Z1(Ie);p&&(tt.onProgress=p),y&&(tt.onPassword=y);const Kt=tt;return Kt.promise.then(bt=>{Kt.destroyed||W({type:"RESOLVE",value:bt})}).catch(bt=>{Kt.destroyed||W({type:"REJECT",error:bt})}),()=>{Kt.destroy()}},[b,W,M]),N.useEffect(()=>{if(!(typeof z>"u")){if(z===!1){de();return}Re()}},[z]),N.useEffect(function(){U.current.setViewer(T.current),U.current.setExternalLinkRel(r),U.current.setExternalLinkTarget(s)},[r,s]);const ye=N.useCallback((Ge,Ie)=>{$.current[Ge]=Ie},[]),Bt=N.useCallback(Ge=>{delete $.current[Ge]},[]),cn=N.useMemo(()=>({imageResourcesPath:u,linkService:U.current,onItemClick:d,pdf:z,registerPage:ye,renderMode:x,rotate:k,scale:_,unregisterPage:Bt}),[u,d,z,ye,x,k,_,Bt]),Ct=N.useMemo(()=>O2(C,()=>z),[C,z]);function Ee(){function Ge(tt){return!!(tt!=null&&tt.pdf)}if(!Ge(cn))throw new Error("pdf is undefined");const Ie=typeof e=="function"?e(cn):e;return w.jsx(j2.Provider,{value:cn,children:Ie})}function sr(){return o?z==null?w.jsx(vc,{type:"loading",children:typeof c=="function"?c():c}):z===!1?w.jsx(vc,{type:"error",children:typeof i=="function"?i():i}):Ee():w.jsx(vc,{type:"no-data",children:typeof h=="function"?h():h})}return w.jsx("div",{className:V0("react-pdf__Document",t),ref:a,...Ct,children:sr()})});function H2(){return N.useContext(j2)}function $2(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=n.filter(Boolean);if(t.length<=1){var i=t[0];return i||null}return function(s){for(var o=0,a=t;o<a.length;o++){var u=a[o];typeof u=="function"?u(s):u&&(u.current=s)}}}const V2=N.createContext(null);function G0(){return N.useContext(V2)}function D4(){const n=H2(),e=G0();$e(e);const t={...n,...e},{filterAnnotations:i,imageResourcesPath:r,linkService:s,onGetAnnotationsError:o,onGetAnnotationsSuccess:a,onRenderAnnotationLayerError:u,onRenderAnnotationLayerSuccess:c,page:h,pdf:d,renderForms:f,rotate:p,scale:v=1}=t;$e(d),$e(h),$e(s);const[y,E]=ed(),{value:m,error:b}=y,x=N.useRef(null);Sn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function k(){m&&a&&a(m)}function _(){b&&(Sn(!1,b.toString()),o&&o(b))}N.useEffect(function(){E({type:"RESET"})},[E,h]),N.useEffect(function(){if(!h)return;const M=Om(h.getAnnotations()),I=M;return M.promise.then(F=>{E({type:"RESOLVE",value:F})}).catch(F=>{E({type:"REJECT",error:F})}),()=>{ku(I)}},[E,h]),N.useEffect(()=>{if(m!==void 0){if(m===!1){_();return}k()}},[m]);function C(){c&&c()}function P(D){Sn(!1,`${D}`),u&&u(D)}const L=N.useMemo(()=>h.getViewport({scale:v,rotation:p}),[h,p,v]);return N.useEffect(function(){if(!d||!h||!s||!m)return;const{current:M}=x;if(!M)return;const I=L.clone({dontFlip:!0}),F={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:d.annotationStorage,commentManager:null,div:M,l10n:null,linkService:s,page:h,structTreeLayer:null,viewport:I},W={annotations:i?i({annotations:m}):m,annotationStorage:d.annotationStorage,div:M,imageResourcesPath:r,linkService:s,page:h,renderForms:f,viewport:I};M.innerHTML="";try{new rS(F).render(W),C()}catch(z){P(z)}return()=>{}},[m,i,r,s,h,d,f,L]),w.jsx("div",{className:V0("react-pdf__Page__annotations","annotationLayer"),ref:x})}const W2={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},I4=/^H(\d+)$/;function F4(n){return n in W2}function q0(n){return"children"in n}function G2(n){return q0(n)?n.children.length===1&&0 in n.children&&"id"in n.children[0]:!1}function O4(n){const e={};if(q0(n)){const{role:t}=n,i=t.match(I4);if(i)e.role="heading",e["aria-level"]=Number(i[1]);else if(F4(t)){const r=W2[t];r&&(e.role=r)}}return e}function q2(n){const e={};if(q0(n)){if(n.alt!==void 0&&(e["aria-label"]=n.alt),n.lang!==void 0&&(e.lang=n.lang),G2(n)){const[t]=n.children;if(t){const i=q2(t);return{...e,...i}}}}else"id"in n&&(e["aria-owns"]=n.id);return e}function j4(n){return n?{...O4(n),...q2(n)}:null}function X2({className:n,node:e}){const t=N.useMemo(()=>j4(e),[e]),i=N.useMemo(()=>!q0(e)||G2(e)?null:e.children.map((r,s)=>w.jsx(X2,{node:r},s)),[e]);return w.jsx("span",{className:n,...t,children:i})}function B4(){const n=G0();$e(n);const{onGetStructTreeError:e,onGetStructTreeSuccess:t}=n,[i,r]=ed(),{value:s,error:o}=i,{customTextRenderer:a,page:u}=n;function c(){s&&t&&t(s)}function h(){o&&(Sn(!1,o.toString()),e&&e(o))}return N.useEffect(function(){r({type:"RESET"})},[r,u]),N.useEffect(function(){if(a||!u)return;const f=Om(u.getStructTree()),p=f;return f.promise.then(v=>{r({type:"RESOLVE",value:v})}).catch(v=>{r({type:"REJECT",error:v})}),()=>ku(p)},[a,u,r]),N.useEffect(()=>{if(s!==void 0){if(s===!1){h();return}c()}},[s]),s?w.jsx(X2,{className:"react-pdf__Page__structTree structTree",node:s}):null}const tk=ls;function z4(n){const e=G0();$e(e);const t={...e,...n},{_className:i,canvasBackground:r,devicePixelRatio:s=T4(),onRenderError:o,onRenderSuccess:a,page:u,renderForms:c,renderTextLayer:h,rotate:d,scale:f}=t,{canvasRef:p}=n;$e(u);const v=N.useRef(null);function y(){u&&a&&a(Eb(u,f))}function E(k){U2(k)||(Sn(!1,k.toString()),o&&o(k))}const m=N.useMemo(()=>u.getViewport({scale:f*s,rotation:d}),[s,u,d,f]),b=N.useMemo(()=>u.getViewport({scale:f,rotation:d}),[u,d,f]);N.useEffect(function(){if(!u)return;u.cleanup();const{current:_}=v;if(!_)return;_.width=m.width,_.height=m.height,_.style.width=`${Math.floor(b.width)}px`,_.style.height=`${Math.floor(b.height)}px`,_.style.visibility="hidden";const C={annotationMode:c?tk.ENABLE_FORMS:tk.ENABLE,canvas:_,canvasContext:_.getContext("2d",{alpha:!1}),viewport:m};r&&(C.background=r);const P=u.render(C),L=P;return P.promise.then(()=>{_.style.visibility="",y()}).catch(E),()=>ku(L)},[r,u,c,m,b]);const x=N.useCallback(()=>{const{current:k}=v;k&&(k.width=0,k.height=0)},[]);return N.useEffect(()=>x,[x]),w.jsx("canvas",{className:`${i}__canvas`,dir:"ltr",ref:$2(p,v),style:{display:"block",userSelect:"none"},children:h?w.jsx(B4,{}):null})}function U4(n){return"str"in n}function H4(){const n=G0();$e(n);const{customTextRenderer:e,onGetTextError:t,onGetTextSuccess:i,onRenderTextLayerError:r,onRenderTextLayerSuccess:s,page:o,pageIndex:a,pageNumber:u,rotate:c,scale:h}=n;$e(o);const[d,f]=ed(),{value:p,error:v}=d,y=N.useRef(null);Sn(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function E(){p&&i&&i(p)}function m(){v&&(Sn(!1,v.toString()),t&&t(v))}N.useEffect(function(){f({type:"RESET"})},[o,f]),N.useEffect(function(){if(!o)return;const L=Om(o.getTextContent()),D=L;return L.promise.then(M=>{f({type:"RESOLVE",value:M})}).catch(M=>{f({type:"REJECT",error:M})}),()=>ku(D)},[o,f]),N.useEffect(()=>{if(p!==void 0){if(p===!1){m();return}E()}},[p]);const b=N.useCallback(()=>{s&&s()},[s]),x=N.useCallback(P=>{U2(P)||(Sn(!1,P.toString()),r&&r(P))},[r]);function k(){const P=y.current;P&&P.classList.add("selecting")}function _(){const P=y.current;P&&P.classList.remove("selecting")}const C=N.useMemo(()=>o.getViewport({scale:h,rotation:c}),[o,c,h]);return N.useLayoutEffect(function(){if(!o||!p)return;const{current:L}=y;if(!L)return;L.innerHTML="";const D=o.streamTextContent({includeMarkedContent:!0}),M={container:L,textContentSource:D,viewport:C},I=new Of(M),F=I;return I.render().then(()=>{const W=document.createElement("div");W.className="endOfContent",L.append(W);const z=L.querySelectorAll('[role="presentation"]');if(e){let G=0;p.items.forEach((U,$)=>{if(!U4(U))return;const O=z[G];if(!O)return;const q=e({pageIndex:a,pageNumber:u,itemIndex:$,...U});O.innerHTML=q,G+=U.str&&U.hasEOL?2:1})}b()}).catch(x),()=>ku(F)},[e,x,b,o,a,u,p,C]),w.jsx("div",{className:V0("react-pdf__Page__textContent","textLayer"),onMouseUp:_,onMouseDown:k,ref:y})}const nk=1;function $4(n){const t={...H2(),...n},{_className:i="react-pdf__Page",_enableRegisterUnregisterPage:r=!0,canvasBackground:s,canvasRef:o,children:a,className:u,customRenderer:c,customTextRenderer:h,devicePixelRatio:d,error:f="Failed to load the page.",filterAnnotations:p,height:v,inputRef:y,loading:E="Loading page",noData:m="No page specified.",onGetAnnotationsError:b,onGetAnnotationsSuccess:x,onGetStructTreeError:k,onGetStructTreeSuccess:_,onGetTextError:C,onGetTextSuccess:P,onLoadError:L,onLoadSuccess:D,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:I,onRenderError:F,onRenderSuccess:W,onRenderTextLayerError:z,onRenderTextLayerSuccess:G,pageIndex:U,pageNumber:$,pdf:O,registerPage:q,renderAnnotationLayer:T=!0,renderForms:se=!1,renderMode:te="canvas",renderTextLayer:R=!0,rotate:ve,scale:Re=nk,unregisterPage:de,width:ye,...Bt}=t,[cn,Ct]=ed(),{value:Ee,error:sr}=cn,Ge=N.useRef(null);$e(O);const Ie=Wa($)?$-1:U??null,tt=$??(Wa(U)?U+1:null),Kt=ve??(Ee?Ee.rotate:null),bt=N.useMemo(()=>{if(!Ee)return null;let ie=1;const ce=Re??nk;if(ye||v){const be=Ee.getViewport({scale:1,rotation:Kt});ye?ie=ye/be.width:v&&(ie=v/be.height)}return ce*ie},[v,Ee,Kt,Re,ye]);N.useEffect(function(){return()=>{Wa(Ie)&&r&&de&&de(Ie)}},[r,O,Ie,de]);function X0(){if(D){if(!Ee||!bt)return;D(Eb(Ee,bt))}if(r&&q){if(!Wa(Ie)||!Ge.current)return;q(Ie,Ge.current)}}function jm(){sr&&(Sn(!1,sr.toString()),L&&L(sr))}N.useEffect(function(){Ct({type:"RESET"})},[Ct,O,Ie]),N.useEffect(function(){if(!O||!tt)return;const ce=Om(O.getPage(tt)),be=ce;return ce.promise.then(kn=>{Ct({type:"RESOLVE",value:kn})}).catch(kn=>{Ct({type:"REJECT",error:kn})}),()=>ku(be)},[Ct,O,tt]),N.useEffect(()=>{if(Ee!==void 0){if(Ee===!1){jm();return}X0()}},[Ee,bt]);const Nu=N.useMemo(()=>Wa(Ie)&&tt&&Wa(Kt)&&Wa(bt)?{_className:i,canvasBackground:s,customTextRenderer:h,devicePixelRatio:d,filterAnnotations:p,onGetAnnotationsError:b,onGetAnnotationsSuccess:x,onGetStructTreeError:k,onGetStructTreeSuccess:_,onGetTextError:C,onGetTextSuccess:P,onRenderAnnotationLayerError:M,onRenderAnnotationLayerSuccess:I,onRenderError:F,onRenderSuccess:W,onRenderTextLayerError:z,onRenderTextLayerSuccess:G,page:Ee,pageIndex:Ie,pageNumber:tt,renderForms:se,renderTextLayer:R,rotate:Kt,scale:bt}:null,[i,s,h,d,p,b,x,k,_,C,P,M,I,F,W,z,G,Ee,Ie,tt,se,R,Kt,bt]),Y0=N.useMemo(()=>O2(Bt,()=>Ee&&(bt?Eb(Ee,bt):void 0)),[Bt,Ee,bt]),Lu=`${Ie}@${bt}/${Kt}`;function K0(){switch(te){case"custom":return $e(c),w.jsx(c,{},`${Lu}_custom`);case"none":return null;case"canvas":default:return w.jsx(z4,{canvasRef:o},`${Lu}_canvas`)}}function Q0(){return R?w.jsx(H4,{},`${Lu}_text`):null}function J0(){return T?w.jsx(D4,{},`${Lu}_annotations`):null}function j(){function ie(be){return!!(be!=null&&be.page)}if(!ie(Nu))throw new Error("page is undefined");const ce=typeof a=="function"?a(Nu):a;return w.jsxs(V2.Provider,{value:Nu,children:[K0(),Q0(),J0(),ce]})}function X(){return tt?O===null||Ee===void 0||Ee===null?w.jsx(vc,{type:"loading",children:typeof E=="function"?E():E}):O===!1||Ee===!1?w.jsx(vc,{type:"error",children:typeof f=="function"?f():f}):j():w.jsx(vc,{type:"no-data",children:typeof m=="function"?m():m})}return w.jsx("div",{className:V0(i,u),"data-page-number":tt,ref:$2(y,Ge),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${bt}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:s||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Y0,children:X()})}P4();Qi.workerSrc="pdf.worker.mjs";Qi.workerSrc=`//unpkg.com/pdfjs-dist@${tS}/build/pdf.worker.min.mjs`;function V4({file:n,title:e}){const[t,i]=N.useState(0),[r,s]=N.useState(!1),[o,a]=N.useState(!1);N.useEffect(()=>{const h=()=>{a(window.innerWidth<768)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]);function u({numPages:h}){i(h),s(!1)}function c(){s(!0)}return o?w.jsxs("div",{className:"flex flex-col items-center my-6 p-6 border-2 border-dashed border-gray-300 rounded-lg bg-gray-50",children:[e&&w.jsx("h3",{className:"text-lg font-semibold text-center mb-4 text-slate-900",children:e}),w.jsx(Rg,{size:48,className:"text-gray-400 mb-4"}),w.jsx("p",{className:"text-gray-600 text-center mb-4",children:"PDF viewing is optimized for larger screens"}),w.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:[w.jsx(Rg,{size:20}),"View PDF (opens in new tab)"]})]}):r?w.jsxs("div",{className:"flex flex-col items-center my-6 p-6 border-2 border-red-200 rounded-lg bg-red-50",children:[e&&w.jsx("h3",{className:"text-lg font-semibold text-center mb-4 text-slate-900",children:e}),w.jsx("p",{className:"text-red-600 text-center mb-4",children:"Failed to load PDF document"}),w.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors",children:[w.jsx(Rg,{size:20}),"View PDF (opens in new tab)"]})]}):w.jsxs("div",{className:"flex flex-col items-center my-6",children:[e&&w.jsx("h3",{className:"text-lg font-semibold text-center mb-4 text-slate-900",children:e}),w.jsx(M4,{file:n,onLoadSuccess:u,onLoadError:c,className:"flex flex-col items-center",children:Array.from(new Array(t),(h,d)=>w.jsx($4,{pageNumber:d+1,renderTextLayer:!0,renderAnnotationLayer:!0,className:"border shadow-md rounded-md mb-6 max-w-[800px]",width:Math.min(800,window.innerWidth-48)},`page_${d+1}`))}),t>0&&w.jsxs("p",{className:"text-sm text-gray-500 mt-4",children:["Total pages: ",t]})]})}function W4(){const{id:n}=sM(),e=b1(),t=n?SD(n):void 0;return t?w.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-3xl mx-auto",children:[w.jsxs("button",{onClick:()=>e(-1),className:"flex items-center gap-2 text-gray-600 hover:text-slate-900 mb-8 font-semibold transition-colors",children:[w.jsx(TA,{size:20}),"Back"]}),w.jsxs("article",{children:[w.jsxs("div",{className:"mb-12",children:[w.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[w.jsx("span",{className:"text-xs text-blue-600 font-medium bg-blue-50 px-3 py-1 rounded",children:t.issue}),w.jsx("span",{className:"text-sm text-gray-500",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]}),w.jsx("h1",{className:"font-serif text-4xl md:text-5xl font-bold text-slate-900 mb-6 leading-tight",children:t.title}),t.summary&&w.jsx("p",{className:"text-xl text-gray-600 mb-8 italic leading-relaxed",children:t.summary}),w.jsxs("div",{className:"flex items-center gap-6 py-6 border-t border-b border-gray-200",children:[w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Author"}),w.jsx("p",{className:"font-semibold text-slate-900",children:t.author})]}),w.jsxs("div",{children:[w.jsx("p",{className:"text-sm text-gray-500",children:"Published"}),w.jsx("p",{className:"font-semibold text-slate-900",children:new Date(t.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]})]}),w.jsx("div",{className:"prose prose-lg max-w-none mb-16",children:w.jsx(lB,{components:{h1:({children:i})=>w.jsx("h1",{className:"text-4xl font-serif font-bold text-slate-900 mb-6 mt-8",children:i}),h2:({children:i})=>w.jsx("h2",{className:"text-3xl font-serif font-bold text-slate-900 mb-4 mt-8",children:i}),h3:({children:i})=>w.jsx("h3",{className:"text-2xl font-serif font-bold text-slate-900 mb-3 mt-6",children:i}),p:({children:i})=>w.jsx("p",{className:"text-gray-700 text-lg leading-relaxed mb-6",children:i})},children:t.content})}),t.pdfFile&&w.jsx("div",{className:"mb-16",children:w.jsx(V4,{file:AD(t.pdfFile)})}),w.jsx("div",{className:"border-t border-gray-200 pt-12 text-center",children:w.jsxs(wt,{to:"/articles",className:"inline-flex items-center gap-2 text-blue-600 hover:text-blue-700 font-semibold transition-colors",children:[w.jsx(TA,{size:18}),"Back to All Articles"]})})]})]})}):w.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[w.jsx("h1",{className:"text-4xl font-serif font-bold text-slate-900 mb-4",children:"Article Not Found"}),w.jsx("p",{className:"text-gray-600 mb-8",children:"Sorry, we couldn't find the article you're looking for."}),w.jsx(wt,{to:"/articles",className:"text-blue-600 hover:text-blue-700 font-semibold",children:" Back to Articles"})]})})}function G4(){return w.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsx(od,{title:"About Discourse"}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-20",children:[w.jsx("div",{className:"lg:col-span-2",children:w.jsxs("div",{className:"space-y-6 text-gray-700 leading-relaxed",children:[w.jsx("p",{className:"text-lg",children:"Discourse is a student-led academic journal founded in 2022 by a collective of researchers, thinkers, and writers committed to rigorous intellectual exchange. We believe that the most innovative solutions to global challenges emerge from open dialogue across disciplines and borders."}),w.jsx("p",{children:"Our journal publishes peer-reviewed research, critical essays, and opinion pieces that advance contemporary understanding of economics, environment, policy, technology, and society. We maintain the highest standards of academic rigor while remaining accessible to a broader intellectual community."}),w.jsx("p",{children:"What sets Discourse apart is our commitment to diverse perspectives. Our contributors represent 18 countries across six continents, bringing varied cultural, economic, and political contexts to bear on universal questions. This diversity strengthens our analysis and challenges groupthink."}),w.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 rounded-lg p-8 my-8 border border-gray-200",children:[w.jsx("h3",{className:"font-serif text-2xl font-bold text-slate-900 mb-4",children:"Our Values"}),w.jsxs("ul",{className:"space-y-3",children:[w.jsxs("li",{className:"flex gap-3",children:[w.jsx("span",{className:"text-blue-600 font-bold",children:""}),w.jsxs("div",{children:[w.jsx("strong",{children:"Intellectual Rigor:"})," We demand evidence-based reasoning and transparent methodology"]})]}),w.jsxs("li",{className:"flex gap-3",children:[w.jsx("span",{className:"text-blue-600 font-bold",children:""}),w.jsxs("div",{children:[w.jsx("strong",{children:"Diverse Perspectives:"})," We actively seek voices from underrepresented regions and disciplines"]})]}),w.jsxs("li",{className:"flex gap-3",children:[w.jsx("span",{className:"text-blue-600 font-bold",children:""}),w.jsxs("div",{children:[w.jsx("strong",{children:"Accessibility:"})," Academic excellence doesn't require jargonour work is for thoughtful readers everywhere"]})]}),w.jsxs("li",{className:"flex gap-3",children:[w.jsx("span",{className:"text-blue-600 font-bold",children:""}),w.jsxs("div",{children:[w.jsx("strong",{children:"Independence:"})," We maintain editorial independence and welcome healthy debate"]})]})]})]})]})}),w.jsx("div",{className:"space-y-6",children:w.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[w.jsx("h4",{className:"font-serif text-xl font-bold text-slate-900 mb-6",children:"By The Numbers"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"0"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Active Contributors"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"0"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Countries"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"0"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Published Articles"})]}),w.jsxs("div",{children:[w.jsx("div",{className:"text-3xl font-bold text-blue-600",children:"0"}),w.jsx("p",{className:"text-sm text-gray-600",children:"Editorial Board"})]})]})]})})]}),w.jsxs("div",{className:"bg-slate-900 text-white rounded-lg p-12 text-center",children:[w.jsx("h3",{className:"font-serif text-3xl font-bold mb-4",children:"Our Editorial Philosophy"}),w.jsx("p",{className:"max-w-2xl mx-auto text-gray-100 leading-relaxed",children:"We believe that peer review strengthens scholarship. Every article undergoes rigorous evaluation by subject matter experts. Yet we also believe that innovation sometimes emerges from challenging orthodoxy. That's why we welcome bold thinkingas long as it's backed by evidence and transparent reasoning."})]})]})})}function ik({name:n,position:e,bio:t,email:i}){return w.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg overflow-hidden hover:shadow-lg transition-shadow duration-300",children:[w.jsx("div",{className:"bg-gradient-to-br from-slate-100 to-slate-50 h-48 flex items-center justify-center",children:w.jsx("div",{className:"text-center",children:w.jsx("div",{className:"w-20 h-20 rounded-full bg-slate-300 mx-auto flex items-center justify-center",children:w.jsx("span",{className:"text-2xl font-serif font-bold text-slate-600",children:n.charAt(0)})})})}),w.jsxs("div",{className:"p-6",children:[w.jsx("h3",{className:"font-serif text-lg font-bold text-slate-900 mb-1",children:n}),w.jsx("p",{className:"text-blue-600 font-semibold text-sm mb-2",children:e}),w.jsx("p",{className:"text-gray-600 text-sm mb-4",children:t}),w.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-100",children:[w.jsxs("a",{href:`mailto:${i}`,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",title:"Send email",children:[w.jsx(_1,{size:16,className:"text-gray-600"}),w.jsx("span",{className:"text-xs text-gray-600",children:"Email"})]}),w.jsxs("button",{className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-gray-50 hover:bg-gray-100 rounded-md transition-colors",title:"LinkedIn profile",children:[w.jsx(C1,{size:16,className:"text-gray-600"}),w.jsx("span",{className:"text-xs text-gray-600",children:"LinkedIn"})]})]})]})]})}const rk=[{id:1,name:"Ryan Chan",position:"Editor-in-Chief",bio:"Hong Kong",email:"",team:"management"},{id:2,name:"Jason Huang",position:"Lead Developer",bio:"Hong Kong",email:"",team:"management"},{id:3,name:"Zijing Wu",position:"Lead Economics Editor",bio:"Hong Kong",email:"",team:"management"},{id:4,name:"Gabriel Pokorny",position:"Managing Editor",bio:"Czech Republic",email:"",team:"management"}];function q4(){const n=rk.filter(t=>t.team==="management"),e=rk.filter(t=>t.team==="national-leaders");return w.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-6xl mx-auto",children:[w.jsx(od,{title:"Our Team",subtitle:"Meet the editors, writers, and thinkers behind Discourse"}),w.jsxs("div",{className:"mb-16",children:[w.jsx("h2",{className:"font-serif text-2xl font-bold text-slate-900 mb-8 text-center",children:"Management Team"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:n.map(t=>w.jsx(ik,{...t},t.id))})]}),w.jsxs("div",{className:"mb-20",children:[w.jsx("h2",{className:"font-serif text-2xl font-bold text-slate-900 mb-8 text-center",children:"National Leaders"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map(t=>w.jsx(ik,{...t},t.id))})]}),w.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-blue-50 rounded-lg p-12 border border-gray-200",children:[w.jsx("h3",{className:"font-serif text-3xl font-bold text-slate-900 mb-6 text-center",children:"Join Our Community"}),w.jsx("p",{className:"text-gray-700 text-center max-w-2xl mx-auto mb-8",children:"We're always looking for passionate researchers, writers, and editors. Whether you want to submit an article, join our editorial team, or volunteer your expertise, we'd love to hear from you."}),w.jsx("div",{className:"text-center",children:w.jsx("a",{href:"/join",className:"inline-block bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Get Involved"})})]})]})})}function X4(){const[n,e]=N.useState({name:"",email:"",institution:"",interest:"contributor",message:""}),[t,i]=N.useState(!1),[r,s]=N.useState(""),o=u=>{const{name:c,value:h}=u.target;e(d=>({...d,[c]:h}))},a=u=>{u.preventDefault();const c="discourseacademicjournal@gmail.com",h=encodeURIComponent(`Join Application from ${n.name||n.email||"Applicant"}`),d=[`Name: ${n.name}`,`Email: ${n.email}`,`Institution: ${n.institution}`,`Interest: ${n.interest}`,"",`Message:
${n.message}`],f=encodeURIComponent(d.join(`
`)),p=`mailto:${c}?subject=${h}&body=${f}`;i(!0),window.location.href=p,s("Your email client should open to send your application. If it didn't, please email discourseacademicjournal@gmail.com."),e({name:"",email:"",institution:"",interest:"contributor",message:""}),i(!1),setTimeout(()=>s(""),7e3)};return w.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsx(od,{title:"Join Us",subtitle:"Be part of a global community of researchers and thinkers"}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-16",children:[w.jsx("div",{className:"lg:col-span-2",children:w.jsxs("form",{onSubmit:a,className:"space-y-6",children:[w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Full Name"}),w.jsx("input",{type:"text",name:"name",value:n.name,onChange:o,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"Your name"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Email"}),w.jsx("input",{type:"email",name:"email",value:n.email,onChange:o,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"your@email.com"})]})]}),w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Institution"}),w.jsx("input",{type:"text",name:"institution",value:n.institution,onChange:o,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",placeholder:"Your university or organization"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"How can you contribute?"}),w.jsxs("select",{name:"interest",value:n.interest,onChange:o,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition",children:[w.jsx("option",{value:"contributor",children:"Article Contributor"}),w.jsx("option",{value:"editor",children:"Editor/Reviewer"}),w.jsx("option",{value:"volunteer",children:"Volunteer"}),w.jsx("option",{value:"partner",children:"Institutional Partner"}),w.jsx("option",{value:"other",children:"Other"})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-semibold text-slate-900 mb-2",children:"Tell us about yourself"}),w.jsx("textarea",{name:"message",value:n.message,onChange:o,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition resize-none",placeholder:"What are your research interests? What would you like to contribute to Discourse?"})]}),w.jsx("button",{type:"submit",disabled:t,className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:t?"Sending...":"Send Application"}),r&&w.jsx("div",{className:"p-4 bg-green-50 border border-green-200 rounded-lg text-green-700",children:r})]})}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:[w.jsx("h3",{className:"font-serif text-xl font-bold text-slate-900 mb-4",children:"Contributors"}),w.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Submit original research, opinion pieces, or analysis on topics relevant to our mission."}),w.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[w.jsx("li",{children:" Peer-reviewed process"}),w.jsx("li",{children:" Global audience"}),w.jsx("li",{children:" Academic rigor"})]})]}),w.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-slate-100 rounded-lg p-6 border border-gray-200",children:[w.jsx("h3",{className:"font-serif text-xl font-bold text-slate-900 mb-4",children:"Editors & Reviewers"}),w.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Help shape Discourse by reviewing submissions and guiding authors."}),w.jsxs("ul",{className:"text-sm text-gray-700 space-y-2",children:[w.jsx("li",{children:" Flexible commitment"}),w.jsx("li",{children:" Editorial experience"}),w.jsx("li",{children:" Network building"})]})]}),w.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Questions?"}),w.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Contact our team at"}),w.jsx("a",{href:"mailto:discourseacademicjournal@gmail.com",className:"text-blue-600 font-semibold hover:text-blue-700",children:"discourseacademicjournal@gmail.com"})]})]})]})]})})}function Y4(){return w.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsx(od,{title:"Contact Us",subtitle:"We'd love to hear from you"}),w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-12 mb-20",children:[w.jsx("div",{className:"lg:col-span-2",children:w.jsxs("div",{className:"space-y-8",children:[w.jsxs("div",{className:"border border-gray-200 rounded-lg p-8",children:[w.jsx("h3",{className:"font-serif text-2xl font-bold text-slate-900 mb-6",children:"General Inquiries"}),w.jsx("p",{className:"text-gray-700 mb-6",children:"Have questions about our journal, submissions, or partnerships? Reach out using the contact information below, and we'll get back to you within 48 hours."}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex gap-4",children:[w.jsx(_1,{className:"text-blue-600 flex-shrink-0 mt-1",size:24}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-slate-900",children:"Email"}),w.jsx("a",{href:"mailto:hello@discourse.edu",className:"text-blue-600 hover:text-blue-700",children:"hello@discourse.edu"})]})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx(rD,{className:"text-blue-600 flex-shrink-0 mt-1",size:24}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-slate-900",children:"Based In"}),w.jsx("p",{className:"text-gray-600",children:"Multiple time zones across the globe"})]})]}),w.jsxs("div",{className:"flex gap-4",children:[w.jsx(oD,{className:"text-blue-600 flex-shrink-0 mt-1",size:24}),w.jsxs("div",{children:[w.jsx("p",{className:"font-semibold text-slate-900",children:"Response Time"}),w.jsx("p",{className:"text-gray-600",children:"Within 48 hours"})]})]})]})]}),w.jsxs("div",{className:"border border-gray-200 rounded-lg p-8",children:[w.jsx("h3",{className:"font-serif text-2xl font-bold text-slate-900 mb-4",children:"For Submissions"}),w.jsx("p",{className:"text-gray-700 mb-4",children:"Ready to submit an article or join our review board? Send your inquiry with:"}),w.jsxs("ul",{className:"space-y-2 text-gray-700 mb-6",children:[w.jsxs("li",{className:"flex gap-3",children:[w.jsx("span",{className:"text-blue-600 font-bold",children:""}),w.jsx("span",{children:"Your full name and current institution"})]}),w.jsxs("li",{className:"flex gap-3",children:[w.jsx("span",{className:"text-blue-600 font-bold",children:""}),w.jsx("span",{children:"Brief bio or CV highlighting relevant expertise"})]}),w.jsxs("li",{className:"flex gap-3",children:[w.jsx("span",{className:"text-blue-600 font-bold",children:""}),w.jsx("span",{children:"Description of your proposed contribution"})]})]}),w.jsx("a",{href:"/join",className:"inline-block bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition-colors",children:"Submit Application"})]}),w.jsxs("div",{className:"border border-gray-200 rounded-lg p-8",children:[w.jsx("h3",{className:"font-serif text-2xl font-bold text-slate-900 mb-4",children:"Connect On Social"}),w.jsx("p",{className:"text-gray-700 mb-6",children:"Follow us for article updates, announcements, and insights from our community."}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("a",{href:"#",className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[w.jsx(C1,{size:20}),w.jsx("span",{className:"font-semibold",children:"LinkedIn"})]}),w.jsxs("a",{href:"#",className:"flex items-center gap-2 px-4 py-2 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors",children:[w.jsx(z_,{size:20}),w.jsx("span",{className:"font-semibold",children:"Instagram"})]})]})]})]})}),w.jsxs("div",{className:"space-y-6",children:[w.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-lg p-6 border border-blue-200",children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"Quick Links"}),w.jsxs("ul",{className:"space-y-3 text-sm",children:[w.jsx("li",{children:w.jsx("a",{href:"/about",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Learn about our mission"})}),w.jsx("li",{children:w.jsx("a",{href:"/team",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Meet our team"})}),w.jsx("li",{children:w.jsx("a",{href:"/join",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Become a contributor"})}),w.jsx("li",{children:w.jsx("a",{href:"/articles",className:"text-blue-600 hover:text-blue-700 font-semibold",children:"Read articles"})})]})]}),w.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6",children:[w.jsx("h3",{className:"font-serif text-xl font-bold text-slate-900 mb-3",children:"FAQ"}),w.jsx("p",{className:"text-sm text-gray-700 mb-4",children:"Find answers to common questions about submissions, partnerships, and more."}),w.jsx("a",{href:"#",className:"text-blue-600 hover:text-blue-700 font-semibold text-sm",children:"Visit our FAQ "})]}),w.jsxs("div",{className:"bg-slate-900 text-white rounded-lg p-6",children:[w.jsx("h3",{className:"font-semibold mb-3",children:"Newsletter"}),w.jsx("p",{className:"text-sm text-gray-300 mb-4",children:"Get our latest articles delivered to your inbox."}),w.jsxs("form",{className:"flex flex-col gap-3",children:[w.jsx("input",{type:"email",placeholder:"Your email",className:"px-3 py-2 rounded bg-slate-800 text-white placeholder-gray-500 text-sm"}),w.jsx("button",{type:"submit",className:"bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 rounded transition-colors text-sm",children:"Subscribe"})]})]})]})]})]})})}function K4(){const n="https://forms.gle/Hn5BVmFUzHsKGsHr6",e=[{icon:Rg,title:"Original Research",description:"We accept original scholarly work across all academic disciplines."},{icon:nD,title:"Peer Review",description:"All submissions undergo rigorous peer review by our editorial board."},{icon:aD,title:"Open to All",description:"Students, faculty, and independent scholars are welcome to submit."}];return w.jsx("div",{className:"min-h-screen pt-24 pb-20 px-4 sm:px-6 lg:px-8",children:w.jsxs("div",{className:"max-w-4xl mx-auto",children:[w.jsx(od,{title:"Submit Your Work",subtitle:"Share your research with the academic community"}),w.jsxs("div",{className:"bg-white border border-gray-200 rounded-2xl p-8 md:p-12 mb-12",children:[w.jsx("h2",{className:"font-serif text-2xl md:text-3xl font-bold text-slate-900 mb-6",children:"Submission Guidelines"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-10",children:e.map((t,i)=>w.jsxs("div",{className:"text-center",children:[w.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-blue-50 rounded-full mb-4",children:w.jsx(t.icon,{className:"w-8 h-8 text-blue-600"})}),w.jsx("h3",{className:"font-semibold text-slate-900 mb-2",children:t.title}),w.jsx("p",{className:"text-sm text-gray-600",children:t.description})]},i))}),w.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 mb-8",children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-4",children:"What to Include:"}),w.jsxs("ul",{className:"space-y-2 text-gray-700",children:[w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-blue-600 mt-1",children:""}),w.jsx("span",{children:"Title and abstract of your work"})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-blue-600 mt-1",children:""}),w.jsx("span",{children:"Author information and institutional affiliation"})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-blue-600 mt-1",children:""}),w.jsx("span",{children:"Full manuscript in PDF or Word format"})]}),w.jsxs("li",{className:"flex items-start gap-2",children:[w.jsx("span",{className:"text-blue-600 mt-1",children:""}),w.jsx("span",{children:"Keywords and subject area classification"})]})]})]}),w.jsxs("div",{className:"text-center",children:[w.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-3 px-8 py-4 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition-colors shadow-lg hover:shadow-xl",children:["Submit Your Article",w.jsx(iD,{size:20})]}),w.jsx("p",{className:"text-sm text-gray-500 mt-4",children:"You'll be redirected to our Google Form submission portal"})]})]}),w.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-xl p-6",children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-3",children:"Questions?"}),w.jsx("p",{className:"text-gray-700 mb-4",children:"If you have questions about the submission process or would like to discuss your work before submitting, please don't hesitate to reach out to our editorial team."}),w.jsx("a",{href:"/contact",className:"text-blue-600 hover:text-blue-700 font-semibold inline-flex items-center gap-1",children:"Contact Us "})]})]})})}function Q4(){const n=Ha(),e=b1();return N.useEffect(()=>{if(n.search.startsWith("?/")){const i=n.search.slice(2).replace(/~and~/g,"&");e(i,{replace:!0})}},[n,e]),w.jsxs("div",{className:"flex flex-col min-h-screen bg-white",children:[w.jsx(uD,{}),w.jsx("main",{className:"flex-grow",children:w.jsxs(wM,{children:[w.jsx(ys,{path:"/",element:w.jsx(ED,{})}),w.jsx(ys,{path:"/about",element:w.jsx(G4,{})}),w.jsx(ys,{path:"/team",element:w.jsx(q4,{})}),w.jsx(ys,{path:"/articles",element:w.jsx(kD,{})}),w.jsx(ys,{path:"/articles/:id",element:w.jsx(W4,{})}),w.jsx(ys,{path:"/join",element:w.jsx(X4,{})}),w.jsx(ys,{path:"/contact",element:w.jsx(Y4,{})}),w.jsx(ys,{path:"/submit",element:w.jsx(K4,{})})]})}),w.jsx(cD,{})]})}function J4(){return w.jsx(VM,{basename:"/",children:w.jsx(Q4,{})})}x_(document.getElementById("root")).render(w.jsx(N.StrictMode,{children:w.jsx(J4,{})}));
